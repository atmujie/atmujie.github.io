<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="php学习笔记, Atmujie">
    <meta name="description" content="有一美人兮，见之不忘，一日不见兮，思之如狂；">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>php学习笔记 | Atmujie</title>
    <link rel="icon" type="image/png" href="/weblogo.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.4.0"><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Atmujie</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="" class="waves-effect waves-light">

      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a href="/friends">
          
          <i class="fas fa-address-book" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Friends</span>
        </a>
      </li>
      
      <li>
        <a href="/BlogLink">
          
          <i class="fas fa-address-book" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>BlogLink</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Atmujie</div>
        <div class="logo-desc">
            
            有一美人兮，见之不忘，一日不见兮，思之如狂；
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fas fa-address-book"></i>
			
			友情链接
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul  style="background:  ;" >
              
                <li>

                  <a href="/friends " style="margin-left:75px">
				  
				   <i class="fa fas fa-address-book" style="position: absolute;left:50px" ></i>
			      
		          <span>Friends</span>
                  </a>
                </li>
              
                <li>

                  <a href="/BlogLink " style="margin-left:75px">
				  
				   <i class="fa fas fa-address-book" style="position: absolute;left:50px" ></i>
			      
		          <span>BlogLink</span>
                  </a>
                </li>
              
            </ul>
          
        </li>
        
        
    </ul>
</div>


        </div>

        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/22.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">php学习笔记</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/%E8%AF%AD%E8%A8%80/">
                                <span class="chip bg-color">语言</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2020-11-28
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="php是世界上最自由的语言"><a href="#php是世界上最自由的语言" class="headerlink" title="php是世界上最自由的语言"></a>php是世界上最自由的语言<hr/></h1><h2 id="php学习的必要准备工作"><a href="#php学习的必要准备工作" class="headerlink" title="php学习的必要准备工作"></a>php学习的必要准备工作</h2><ul>
<li>在php学习中，需要准备两样软件。<blockquote>
<p>阿帕奇（apache）和mysql。<br>这两搭建环境非常麻烦，所以我建议先学习他们的搭建过程，然后直接下载phpstudy集成环境。<br>一定要先学习搭建过程，毕竟世界上最恐怖的事就是拿到了傻瓜版操作软件却不会用。<br><img src="0.png" alt="0"></p>
</blockquote>
</li>
</ul>
<h2 id="php基础之常量和变量"><a href="#php基础之常量和变量" class="headerlink" title="php基础之常量和变量"></a>php基础之常量和变量</h2><h3 id="php语法和标记符"><a href="#php语法和标记符" class="headerlink" title="php语法和标记符"></a>php语法和标记符</h3><ul>
<li><p>标记和注释  </p>
<blockquote>
<p>标记：现在通用为’&lt;?php? &gt;’其他不做说明。<br>注释：php语言可用大部分语言的注释格式进行注释<br>如/<em>..</em>/,#,//等都可以使用。  </p>
</blockquote>
</li>
<li><p>php语法格式  </p>
<blockquote>
<p>php语言以&lt;?php做开头，以？&gt;结尾。<br>php变量用$表示，$后内容可以自行定义，但不能以数字开头<br>php同c语言一般,每句代码后都需要用”;”作为结束，相对的，我们可以省略用与结尾的？&gt;。<br>例如：<br>&lt;？php<br>$name=”mujie”;<br>echo $name;<br>？&gt;<br>此代码会在网页输出mujie。  </p>
</blockquote>
</li>
<li><p>php替代语法</p>
<blockquote>
<p>php对分支结构和循环结构均提供了替代语法</p>
<p>全部对应一个模式</p>
<p>例如：</p>
<p>for(str1;str2;str3){</p>
<p>​    内容；</p>
<p>}</p>
<p>可以将花括号替代为：</p>
<p>for(str1;str2;str3):</p>
<p>​    内容；</p>
<p>endfor;</p>
</blockquote>
</li>
</ul>
<h3 id="php变量"><a href="#php变量" class="headerlink" title="php变量"></a>php变量</h3><ul>
<li>变量的概念  <blockquote>
<p>变量来源于数学，是计算机中储存结果和表示值的抽象概念，变量是可变的。  </p>
</blockquote>
</li>
<li>变量的使用  <blockquote>
<p>在系统中增加变量的名字并给变量赋值。<br>变量使用$开头<br>格式：$[变量名]=”[赋值内容]”;<br>变量名的第一个字符不能是数字。  </p>
</blockquote>
</li>
<li>预定义变量<br><img src="1.png" alt="1"></li>
<li>可变变量  <blockquote>
<p>如果一个变量的值是另一个变量的名字，就会输出另一个变量<br>可变变量用$$引用。<br>相当于连续赋值。<br>例如：<br>$a=b;<br>$b=1234;<br>echo $$a;<br>输出结果是1234.</p>
</blockquote>
</li>
<li>变量传值  <blockquote>
<p>值传递：<br>值传递是将一个变量的值“复制”给另一个变量，虽然值一样，但变量的储存区间不同，所以两者没有影响。<br>例如：<br>$a=1;<br>$b=$a;<br>就属于值传递。</p>
</blockquote>
</li>
</ul>
<blockquote>
<p>引用传递和值传递的区别是引用前后的变量值都存储在同一个位置中。<br>引用传递用&amp;表示<br>例如：<br>$a=123;<br>$b=&amp;$a;<br>便是把a的值引用给b。</p>
</blockquote>
<p>注：当程序运行完毕后，变量会被删除，如果不想变量被删除，需要写入域[后面会说到]。    </p>
<h3 id="php常量"><a href="#php常量" class="headerlink" title="php常量"></a>php常量</h3><ul>
<li><p>常量的定义  </p>
<blockquote>
<p>常量是在运行中不可改变的量。 </p>
<p>在PHP 5.3.0 之后的版本中，你可以用 <a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/function.define.php">define()</a> 函数，或 <code>const</code> 两种方法来定义一个常量。函数 <a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/function.define.php">define()</a> 允许将常量定义为一个表达式，而 <code>const</code> 关键字有一些限制，一个常量一旦被定义，就不能再改变或者取消定义。</p>
<p>使用 <code>const</code> 关键字定义常量时，PHP 5.6 之前只能包含标量数据（boolean，integer，float 和 string）。从 PHP 5.6 开始，可以将常量定义为一个表达式，也可以定义为一个 array。还可以定义 resource 为常量，但应尽量避免，因为可能会造成不可预料的结果。</p>
</blockquote>
</li>
<li><p>常量的使用形式  </p>
<blockquote>
<p>在php5.3后，常量有两中定义方式<br>1- 使用函数define<br>格式：define(“常量名”，常量值);</p>
</blockquote>
<blockquote>
<p>2- const 常量名=值;<br>通常用大写字母定义。  </p>
</blockquote>
<blockquote>
<p>3- constant 针对有特殊名字的常量(名字以数字开头，或有-之类不合法字符的常量)<br>格式：constant(“常量名”);  </p>
</blockquote>
</li>
<li><p>系统常量<br><img src="2.png" alt="2"></p>
</li>
<li><p>魔术常量<br><img src="3.png" alt="3"></p>
</li>
</ul>
<h2 id="类"><a href="#类" class="headerlink" title="类"></a>类</h2><p><u><em><strong>类是面向对象的过程</strong></em></u></p>
<ul>
<li>class  </li>
</ul>
<blockquote>
<p>在php中，可以使用class定义类 </p>
<p>一个类可以包含有属于自己的 <a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/language.oop5.constants.php">常量</a>，<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/language.oop5.properties.php">变量</a>（称为“属性”）以及函数（称为“方法”）语法：<br>[修饰关键字] class [类名] {<br>类的属性和方法<br>}  </p>
</blockquote>
<h3 id="类的调用"><a href="#类的调用" class="headerlink" title="类的调用"></a>类的调用</h3><h4 id="方法的调用"><a href="#方法的调用" class="headerlink" title="方法的调用"></a>方法的调用</h4><blockquote>
<p>当一个方法在类定义内部被调用时，有一个可用的伪变量 $this。</p>
<p>$this 是一个到当前对象的引用。</p>
<p>以静态方式去调用静态方法时将会抛出一个Error</p>
</blockquote>
<h4 id="self-与-this"><a href="#self-与-this" class="headerlink" title="self 与 $this"></a>self 与 $this</h4><blockquote>
<p><strong>1.self代表类，$this代表对象</strong><br><strong>2.能用$this的地方一定使用self，能用self的地方不一定能用$this</strong><br><strong>静态的方法中不能使用$this，静态方法给类访问的。</strong></p>
<p><strong>3、$this是实例化对象的指针，self是对象的指针。</strong></p>
<p><u><strong>!!!!!!!!本质都是指针</strong></u></p>
<p><img src="https://images2018.cnblogs.com/blog/779030/201809/779030-20180910170105248-1450602458.png" alt="img"></p>
<p>self调用的类的指针，而非实例化后的对象指针，静态变量和静态方法始终属于类，而非属于实例化后的对象，因此在静态方法中无法使用$this，因为此时所处的位置是类所在的指针，只能使用self调用静态方法或者静态变量。</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token keyword">class</span> <span class="token class-name">demo</span> <span class="token punctuation">{</span>
 <span class="token keyword">public</span> <span class="token variable">$a</span><span class="token punctuation">;</span>
 <span class="token keyword">public</span> <span class="token variable">$b</span><span class="token punctuation">;</span>
 <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token variable">$c</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>

 <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">a</span> <span class="token operator">=</span> <span class="token variable">$a</span><span class="token punctuation">;</span>
     <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">funct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>

 <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token variable">$newObj</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">self</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token variable">$newObj</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">funct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token variable">$c</span> <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
     <span class="token keyword">echo</span> self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token variable">$c</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>

 <span class="token keyword">private</span> <span class="token keyword">function</span> <span class="token function">funct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">b</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">a</span> <span class="token operator">*</span> <span class="token number">200</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>

 <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">getC</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">echo</span>  self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token variable">$c</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$demo</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">demo</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$demo</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$demo</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">getC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$demo2</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">demo</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$demo2</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$demo</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">getC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$demo2</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">getC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$demo</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">getC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h3 id="关键字"><a href="#关键字" class="headerlink" title="关键字:"></a>关键字:</h3><blockquote>
<p>关键字不能修饰成员属性，只能修饰类和方法</p>
<ul>
<li><p>abstract 译为：摘要<br> 抽象类或方法，被修饰为抽象类之后，类将不能被实例化，但可以被继承。<br> 如果类中有至少一个方法被声明为抽象的，那么这个类也必须声明为抽象的。继承一个抽象类的时候，子类必须重新定义父类中的所有抽象方法，而且这些方法的访问控制必须和父类中一样。 </p>
<p> 属性无法抽象</p>
</li>
<li><p>final 译为： 最终的</p>
<p> 定义一个不能被继承的类</p>
</li>
</ul>
</blockquote>
<h3 id="属性和方法："><a href="#属性和方法：" class="headerlink" title="属性和方法："></a>属性和方法：</h3><h4 id="概述："><a href="#概述：" class="headerlink" title="概述："></a>概述：</h4><blockquote>
<p>类的属性和方法存在于不同的“命名空间”中，这意味着同一个类的属性和方法可以使用同样的名字。在类中访问属性和调用方法使用同样的操作符。</p>
<p>具体是访问一个属性还是调用一个方法，取决于你的上下文，即用法是变量访问还是函数调用。</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token keyword">class</span> <span class="token class-name">Foo</span>
<span class="token punctuation">{</span>
   <span class="token keyword">public</span> <span class="token variable">$bar</span> <span class="token operator">=</span> <span class="token string">'property'</span><span class="token punctuation">;</span>

   <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">return</span> <span class="token string">'method'</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$obj</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$obj</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">bar</span><span class="token punctuation">,</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">,</span> <span class="token variable">$obj</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//使用$obj->bar,定位类中具体的属性或方法</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>1、成员属性就是对该类定义的一些变量属性</p>
<p>2、类中声明成员属性要使用关键字</p>
<p>​    常见成员属性声明是由关以下键字</p>
<p>​    public，var，protected，private开头的，然后跟一个变量来组成的。还有一些成员属性包括，静态static,常量const.</p>
</blockquote>
<h4 id="属性关键字"><a href="#属性关键字" class="headerlink" title="属性关键字"></a>属性关键字</h4><blockquote>
<blockquote>
<p>public 译为：公众的 </p>
<ul>
<li>从PHP5.0版本开始，对象声明时需要声明对象属性和方法的可见性，public关键字表示属性或方法是公开可见的。</li>
<li>在PHP5.0之前未支持对象属性和方法的可见性定义，默认所有的属性和方法都是公开可见的</li>
<li>类的内外都可以调用</li>
</ul>
</blockquote>
<blockquote>
<p>protected 译为：受保护的</p>
<ul>
<li>类内和派生类能用，类外不能用</li>
</ul>
</blockquote>
<blockquote>
<p>private 译为：私有的</p>
<ul>
<li>私有的，定义只能类内使用的变量</li>
</ul>
</blockquote>
<blockquote>
<p>static 译为：静止的</p>
<ul>
<li>用static修饰的成员属性可以被同一个类的所有对象共享</li>
<li>用法同php的域，可保留程序运行后变量的值</li>
</ul>
</blockquote>
<blockquote>
<p>const 译为：常量</p>
<ul>
<li>在类的声明中常量必须使用const</li>
</ul>
</blockquote>
<pre class="line-numbers language-php"><code class="language-php"><span class="token comment" spellcheck="true">//代码示例</span>
<span class="token delimiter">&lt;?php</span>
<span class="token comment" spellcheck="true">/**
* Define MyClass
*/</span>
<span class="token keyword">class</span> <span class="token class-name">MyClass</span>
<span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token variable">$public</span> <span class="token operator">=</span> <span class="token string">'Public'</span><span class="token punctuation">;</span>
  <span class="token keyword">protected</span> <span class="token variable">$protected</span> <span class="token operator">=</span> <span class="token string">'Protected'</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token variable">$private</span> <span class="token operator">=</span> <span class="token string">'Private'</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">printHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token keyword">public</span><span class="token punctuation">;</span>
      <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token keyword">protected</span><span class="token punctuation">;</span>
      <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token keyword">private</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$obj</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$obj</span><span class="token operator">-</span><span class="token operator">></span><span class="token keyword">public</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 这行能被正常执行</span>
<span class="token keyword">echo</span> <span class="token variable">$obj</span><span class="token operator">-</span><span class="token operator">></span><span class="token keyword">protected</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 这行会产生一个致命错误</span>
<span class="token keyword">echo</span> <span class="token variable">$obj</span><span class="token operator">-</span><span class="token operator">></span><span class="token keyword">private</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 这行也会产生一个致命错误</span>
<span class="token variable">$obj</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">printHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 输出 Public、Protected 和 Private</span>


<span class="token comment" spellcheck="true">/**
* Define MyClass2
*/</span>
<span class="token keyword">class</span> <span class="token class-name">MyClass2</span> <span class="token keyword">extends</span> <span class="token class-name">MyClass</span>
<span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// 可以对 public 和 protected 进行重定义，但 private 而不能</span>
  <span class="token keyword">public</span> <span class="token variable">$public</span> <span class="token operator">=</span> <span class="token string">'Public2'</span><span class="token punctuation">;</span>
  <span class="token keyword">protected</span> <span class="token variable">$protected</span> <span class="token operator">=</span> <span class="token string">'Protected2'</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">printHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token keyword">public</span><span class="token punctuation">;</span>
      <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token keyword">protected</span><span class="token punctuation">;</span>
      <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token keyword">private</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$obj2</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$obj2</span><span class="token operator">-</span><span class="token operator">></span><span class="token keyword">public</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 这行能被正常执行</span>
<span class="token keyword">echo</span> <span class="token variable">$obj2</span><span class="token operator">-</span><span class="token operator">></span><span class="token keyword">protected</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 这行会产生一个致命错误</span>
<span class="token keyword">echo</span> <span class="token variable">$obj2</span><span class="token operator">-</span><span class="token operator">></span><span class="token keyword">private</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 未定义 private</span>
<span class="token variable">$obj2</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">printHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 输出 Public、Protected2 和 Undefined</span>

<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h3 id="类常量："><a href="#类常量：" class="headerlink" title="类常量："></a>类常量：</h3><blockquote>
<p>可以把在类中始终保持不变的值定义为常量。在定义和使用常量的时候不需要使用 $ 符号。</p>
<p>常量的值必须是一个定值，不能是变量，类属性，数学运算的结果或函数调用。</p>
<p>接口（interface）中也可以定义常量。</p>
<p>自 PHP 5.3.0 起，可以用一个变量来动态调用类。但该变量的值不能为关键字（如 <code>self</code>，<code>parent</code> 或 <code>static</code>）。</p>
</blockquote>
<h4 id="类常量的定义："><a href="#类常量的定义：" class="headerlink" title="类常量的定义："></a>类常量的定义：</h4><blockquote>
<p>类常量用const 定义</p>
<p>类常量使用：：号调用</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token keyword">class</span> <span class="token class-name">MyClass</span>
<span class="token punctuation">{</span>
    <span class="token keyword">const</span> constant <span class="token operator">=</span> <span class="token string">'constant value'</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">showConstant</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span>  self<span class="token punctuation">:</span><span class="token punctuation">:</span>constant <span class="token punctuation">.</span> <span class="token string">"\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">echo</span> MyClass<span class="token punctuation">:</span><span class="token punctuation">:</span>constant <span class="token punctuation">.</span> <span class="token string">"\n"</span><span class="token punctuation">;</span>

<span class="token variable">$classname</span> <span class="token operator">=</span> <span class="token string">"MyClass"</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$classname</span><span class="token punctuation">:</span><span class="token punctuation">:</span>constant <span class="token punctuation">.</span> <span class="token string">"\n"</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 自 5.3.0 起</span>

<span class="token variable">$class</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$class</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">showConstant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">echo</span> <span class="token variable">$class</span><span class="token punctuation">:</span><span class="token punctuation">:</span>constant<span class="token punctuation">.</span><span class="token string">"\n"</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 自 PHP 5.3.0 起</span>
<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h3 id="接口："><a href="#接口：" class="headerlink" title="接口："></a>接口：</h3><blockquote>
<p>使用接口（interface），可以指定某个类必须实现哪些方法，但不需要定义这些方法的具体内容。</p>
<p>接口是通过 <code>interface</code> 关键字来定义的，就像定义一个标准的类一样，但其中定义所有的方法都是空的。</p>
<p>接口中定义的所有方法都必须是公有，这是接口的特性。</p>
<p>在接口中定义一个<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/language.oop5.decon.php#language.oop5.decon.constructor">构造方法</a>是被允许的。</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
   <span class="token keyword">interface</span> <span class="token class-name">kou</span>
   <span class="token punctuation">{</span>
      <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//接口所有的方法都为空</span>
   <span class="token punctuation">}</span>

   <span class="token keyword">class</span> <span class="token class-name">jie</span> <span class="token keyword">implements</span> <span class="token class-name">kou</span><span class="token comment" spellcheck="true">//类中必须实现所有的接口</span>
   <span class="token punctuation">{</span>
      <span class="token keyword">public</span> <span class="token variable">$a</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">a</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
         <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">a</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">a</span> <span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>
         <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">a</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>

   <span class="token variable">$b</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">jie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">echo</span> <span class="token variable">$b</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">echo</span> <span class="token string">"\t"</span><span class="token punctuation">;</span>
   <span class="token keyword">echo</span> <span class="token variable">$b</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h4 id="接口的扩充"><a href="#接口的扩充" class="headerlink" title="接口的扩充"></a>接口的扩充</h4><blockquote>
<p>接口可以继承，所以可以使用继承的方法扩充接口</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token keyword">interface</span> <span class="token class-name">a</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">b</span> <span class="token keyword">extends</span> <span class="token class-name">a</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">baz</span><span class="token punctuation">(</span>Baz <span class="token variable">$baz</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">c</span> <span class="token keyword">extends</span> <span class="token class-name">a</span><span class="token punctuation">,</span> b<span class="token comment" spellcheck="true">//继承多个接口</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// 正确写法</span>
<span class="token keyword">class</span> <span class="token class-name">c</span> <span class="token keyword">implements</span> <span class="token class-name">b</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">baz</span><span class="token punctuation">(</span>Baz <span class="token variable">$baz</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// 错误写法会导致一个致命错误</span>
<span class="token keyword">class</span> <span class="token class-name">d</span> <span class="token keyword">implements</span> <span class="token class-name">b</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">baz</span><span class="token punctuation">(</span>Foo <span class="token variable">$foo</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h4 id="接口常量"><a href="#接口常量" class="headerlink" title="接口常量"></a>接口常量</h4><blockquote>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token keyword">interface</span> <span class="token class-name">a</span>
<span class="token punctuation">{</span>
    <span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token string">'Interface constant'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// 输出接口常量</span>
<span class="token keyword">echo</span> a<span class="token punctuation">:</span><span class="token punctuation">:</span>b<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// 错误写法，因为常量不能被覆盖。接口常量的概念和类常量是一样的。</span>
<span class="token keyword">class</span> <span class="token class-name">b</span> <span class="token keyword">implements</span> <span class="token class-name">a</span>
<span class="token punctuation">{</span>
    <span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token string">'Class constant'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>接口常量和类常量无本质的不同</p>
</blockquote>
<ul>
<li><p>实现</p>
<blockquote>
<p>要实现一个接口，使用 <code>implements</code>（实施） 操作符。类中必须实现接口中定义的所有方法，否则会报一个致命错误。类可以实现多个接口，用逗号来分隔多个接口的名称。</p>
<p>接口也可以继承，通过使用 <a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/language.oop5.inheritance.php">extends</a> 操作符。</p>
<p>类要实现接口，必须使用和接口中所定义的方法完全一致的方式。否则会导致致命错误。</p>
<p>接口中也可以定义常量。接口常量和<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/language.oop5.constants.php">类常量</a>的使用完全相同，但是不能被子类或子接口所覆盖。</p>
</blockquote>
</li>
</ul>
<h3 id="类的自动加载"><a href="#类的自动加载" class="headerlink" title="类的自动加载"></a>类的自动加载</h3><h4 id="sql-autoload-register-函数可实现自定义加载"><a href="#sql-autoload-register-函数可实现自定义加载" class="headerlink" title="sql_autoload_register()函数可实现自定义加载"></a>sql_autoload_register()函数可实现自定义加载</h4><blockquote>
<p>英译：autoload:自动加载  register:登记</p>
<p> <a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/function.spl-autoload-register.php">spl_autoload_register()</a> 函数可以注册任意数量的自动加载器，当使用尚未被定义的类（class）和接口（interface）时自动去加载。</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token function">spl_autoload_register</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$class_name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">require_once</span> <span class="token variable">$class_name</span> <span class="token punctuation">.</span> <span class="token string">'.php'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$obj</span>  <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$obj2</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>   
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-php"><code class="language-php"><span class="token function">spl_autoload_register</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">preg_match</span><span class="token punctuation">(</span><span class="token string">'/Controller$/'</span><span class="token punctuation">,</span> <span class="token variable">$name</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$name</span> <span class="token operator">=</span> <span class="token string">"controllers/${name}"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">preg_match</span><span class="token punctuation">(</span><span class="token string">'/Model$/'</span><span class="token punctuation">,</span> <span class="token variable">$name</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$name</span> <span class="token operator">=</span> <span class="token string">"models/${name}"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">include_once</span> <span class="token string">"${name}.php"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h3 id="重载"><a href="#重载" class="headerlink" title="重载"></a>重载</h3><blockquote>
<p>重载（overloading）是指动态地创建类属性和方法,通过魔术方法实现</p>
<p>所有的重载方法都必须被声明为 <code>public</code>。</p>
<p><strong>简单理解为调用魔术函数</strong></p>
</blockquote>
<h3 id="遍历对象"><a href="#遍历对象" class="headerlink" title="遍历对象"></a>遍历对象</h3><h4 id="foreach-语句用于遍历对象"><a href="#foreach-语句用于遍历对象" class="headerlink" title="foreach()语句用于遍历对象"></a>foreach()语句用于遍历对象</h4><blockquote>
<p><code>foreach</code> （遍历）仅能够应用于数组和对象，如果尝试应用于其他数据类型的变量，或者未初始化的变量将发出错误信息。有两种语法：</p>
<pre><code>foreach (iterable_expression(可迭代的表达式) as $value)
    statement（说明）
//遍历给定的 iterable_expression 迭代器。每次循环中，当前单元的值被赋给 $value。
foreach (iterable_expression as $key =&gt; $value)
    statement
//第二种格式做同样的事，只除了当前单元的键名也会在每次循环中被赋给变量 $key。
</code></pre>
</blockquote>
<h4 id="自定义遍历对象"><a href="#自定义遍历对象" class="headerlink" title="自定义遍历对象"></a>自定义遍历对象</h4><blockquote>
<p>通过加上 &amp; 来修改数组的元素。将以<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/language.references.php">引用</a>赋值而不是拷贝一个值。</p>
<p>同指针的概念，修改引用值原值同样改变</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token variable">$arr</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$arr</span> <span class="token keyword">as</span> <span class="token operator">&amp;</span><span class="token variable">$value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$value</span> <span class="token operator">=</span> <span class="token variable">$value</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// $arr is now array(2, 4, 6, 8)</span>
<span class="token function">unset</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 最后取消掉引用</span>
<span class="token delimiter">?></span>
<span class="token comment" spellcheck="true">//数组最后一个元素的 $value 引用在 foreach 循环之后仍会保留。建议使用 unset() 来将其销毁</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>foreach</code> 不支持用 “<code>@</code>” 来抑制错误信息的能力。</p>
</blockquote>
<h3 id="用-list-给嵌套的数组解包"><a href="#用-list-给嵌套的数组解包" class="headerlink" title="用 list() 给嵌套的数组解包"></a>用 list() 给嵌套的数组解包</h3><blockquote>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token variable">$array</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">//定义多个数组</span>
    <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$array</span> <span class="token keyword">as</span> <span class="token function">list</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">,</span> <span class="token variable">$b</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//使用list（）函数可以解开多个定义的函数，分别赋值给$a,$b</span>
    <span class="token comment" spellcheck="true">// $a contains the first element of the nested array,</span>
    <span class="token comment" spellcheck="true">// and $b contains the second element.</span>
    <span class="token keyword">echo</span> <span class="token string">"A: $a; B: $b\n"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token delimiter">?></span>
<span class="token comment" spellcheck="true">//结果：</span>
<span class="token comment" spellcheck="true">//A: 1; B: 2</span>
<span class="token comment" spellcheck="true">//A: 3; B: 4</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/function.list.php">list()</a> 中的单元可以少于嵌套数组的，此时多出来的数组单元将被忽略：</p>
</blockquote>
<h3 id="抽象类："><a href="#抽象类：" class="headerlink" title="抽象类："></a>抽象类：</h3><blockquote>
<p>任何一个类，如果它里面至少有一个方法是被声明为抽象的，那么这个类就必须被声明为抽象的。</p>
<p>继承一个抽象类的时候，子类必须定义父类中的所有抽象方法；</p>
<p>但无需在定义非抽象的方法</p>
<p>属性无法抽象</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
    <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">chou</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token variable">$a</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">a</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">a</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">class</span> <span class="token class-name">xaing</span> <span class="token keyword">extends</span> <span class="token class-name">chou</span><span class="token punctuation">{</span>
         
    <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//无法直接实例化，但可以继承</span>
    <span class="token variable">$shikl</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">xaing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">echo</span> <span class="token variable">$shikl</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">a</span><span class="token punctuation">;</span>
    <span class="token keyword">echo</span> <span class="token string">"\t"</span><span class="token punctuation">;</span>
    <span class="token keyword">echo</span> <span class="token variable">$shikl</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>
    <span class="token comment" spellcheck="true">//输出结果：1 2</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h3 id="访问控制"><a href="#访问控制" class="headerlink" title="访问控制:"></a>访问控制:</h3><blockquote>
<p>对属性或方法的访问控制（PHP 7.1.0 以后支持常量），是通过在前面添加关键字 <em>public</em>（公有），<em>protected</em>（受保护）或 <em>private</em>（私有）来实现的。被定义为公有的类成员可以在任何地方被访问。被定义为受保护的类成员则可以被其自身以及其子类和父类访问。被定义为私有的类成员则只能被其定义所在的类访问。</p>
</blockquote>
<blockquote>
<p>类属性必须定义为公有，受保护，私有之一。如果用 <em>var</em>(变量)或没有设置关键字，则被视为公有。</p>
</blockquote>
<h4 id="类的继承"><a href="#类的继承" class="headerlink" title="类的继承"></a>类的继承</h4><blockquote>
<p>extends 译为：延伸</p>
<p>将父类的属性和方法继承给子类，子类可以重新对父类的方法进行定义和添加</p>
<p>限制：</p>
<p>可重新定义public属性和protected属性，不能重新定义private属性</p>
</blockquote>
<pre class="line-numbers language-php"><code class="language-php"><span class="token comment" spellcheck="true">//代码示例</span>
<span class="token delimiter">&lt;?php</span>
<span class="token comment" spellcheck="true">/**
 * Define MyClass
 */</span>
<span class="token keyword">class</span> <span class="token class-name">MyClass</span>
<span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// 声明一个公有的构造函数</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// 声明一个公有的方法</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">MyPublic</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// 声明一个受保护的方法</span>
    <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function">MyProtected</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// 声明一个私有的方法</span>
    <span class="token keyword">private</span> <span class="token keyword">function</span> <span class="token function">MyPrivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// 此方法为公有</span>
    <span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">MyPublic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">MyProtected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">MyPrivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$myclass</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">;</span>
<span class="token variable">$myclass</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">MyPublic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 这行能被正常执行</span>
<span class="token variable">$myclass</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">MyProtected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 这行会产生一个致命错误</span>
<span class="token variable">$myclass</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">MyPrivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 这行会产生一个致命错误</span>
<span class="token variable">$myclass</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 公有，受保护，私有都可以执行</span>


<span class="token comment" spellcheck="true">/**
 * Define MyClass2
 */</span>
<span class="token keyword">class</span> <span class="token class-name">MyClass2</span> <span class="token keyword">extends</span> <span class="token class-name">MyClass</span>
<span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// 此方法为公有</span>
    <span class="token keyword">function</span> <span class="token function">Foo2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">MyPublic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">MyProtected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">MyPrivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 这行会产生一个致命错误</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$myclass2</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass2</span><span class="token punctuation">;</span>
<span class="token variable">$myclass2</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">MyPublic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 这行能被正常执行</span>
<span class="token variable">$myclass2</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">Foo2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 公有的和受保护的都可执行，但私有的不行</span>

<span class="token keyword">class</span> <span class="token class-name">Bar</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">testPrivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">testPublic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testPublic</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token string">"Bar::testPublic\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">private</span> <span class="token keyword">function</span> <span class="token function">testPrivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token string">"Bar::testPrivate\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token keyword">extends</span> <span class="token class-name">Bar</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testPublic</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token string">"Foo::testPublic\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">private</span> <span class="token keyword">function</span> <span class="token function">testPrivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token string">"Foo::testPrivate\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$myFoo</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$myFoo</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Bar::testPrivate </span>
                <span class="token comment" spellcheck="true">// Foo::testPublic</span>
<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="常量的控制访问"><a href="#常量的控制访问" class="headerlink" title="常量的控制访问"></a>常量的控制访问</h4><p>PHP 7.1.0 开始，类的常量可以定义为公有、私有或受保护。如果没有设置这些关键字，则该常量默认为公有。</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token comment" spellcheck="true">//代码示例</span>
<span class="token delimiter">&lt;?php</span>
<span class="token comment" spellcheck="true">/**
 * Define MyClass
 */</span>
<span class="token keyword">class</span> <span class="token class-name">MyClass</span>
<span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// 公有常量</span>
    <span class="token keyword">public</span> <span class="token keyword">const</span> <span class="token constant">MY_PUBLIC</span> <span class="token operator">=</span> <span class="token string">'public'</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// 受保护的常量</span>
    <span class="token keyword">protected</span> <span class="token keyword">const</span> <span class="token constant">MY_PROTECTED</span> <span class="token operator">=</span> <span class="token string">'protected'</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// 私有常量</span>
    <span class="token keyword">private</span> <span class="token keyword">const</span> <span class="token constant">MY_PRIVATE</span> <span class="token operator">=</span> <span class="token string">'private'</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">MY_PUBLIC</span><span class="token punctuation">;</span>
        <span class="token keyword">echo</span> self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">MY_PROTECTED</span><span class="token punctuation">;</span>
        <span class="token keyword">echo</span> self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">MY_PRIVATE</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$myclass</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
MyClass<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">MY_PUBLIC</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 这行可以正常执行</span>
MyClass<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">MY_PROTECTED</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 这行会产生一个致命错误 </span>
MyClass<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">MY_PRIVATE</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 这行会产生一个致命错误</span>
<span class="token variable">$myclass</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 将会输出：Public Protected Private</span>


<span class="token comment" spellcheck="true">/**
 * Define MyClass2
 */</span>
<span class="token keyword">class</span> <span class="token class-name">MyClass2</span> <span class="token keyword">extends</span> <span class="token class-name">MyClass</span>
<span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// This is public</span>
    <span class="token keyword">function</span> <span class="token function">foo2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">MY_PUBLIC</span><span class="token punctuation">;</span>
        <span class="token keyword">echo</span> self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">MY_PROTECTED</span><span class="token punctuation">;</span>
        <span class="token keyword">echo</span> self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">MY_PRIVATE</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 这行会产生一个致命错误</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$myclass2</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass2</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> MyClass2<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">MY_PUBLIC</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 这行可以正常执行</span>
<span class="token variable">$myclass2</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">foo2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 将会输出：Public Protected，MY_PRIVATE 是私有常量，无法输出</span>
<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="其他对象的访问控制"><a href="#其他对象的访问控制" class="headerlink" title="其他对象的访问控制"></a>其他对象的访问控制</h4><p>同一个类的对象即使不是同一个实例也可以互相访问对方的私有与受保护成员。这是由于在这些对象的内部具体实现的细节都是已知的。</p>
<p>简单理解就是类里可以调用此类的私有对象和受保护对象，因为对象本身就在类里。</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token keyword">class</span> <span class="token class-name">Test</span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token variable">$foo</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token variable">$foo</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">foo</span> <span class="token operator">=</span> <span class="token variable">$foo</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token string">'Accessed the private method.'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">baz</span><span class="token punctuation">(</span>Test <span class="token variable">$other</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// We can change the private property:</span>
        <span class="token variable">$other</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">foo</span> <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">;</span>
        <span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$other</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">foo</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">// We can also call the private method:</span>
        <span class="token variable">$other</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$test</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Test</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$test</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">baz</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Test</span><span class="token punctuation">(</span><span class="token string">'other'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="范围解析操作符"><a href="#范围解析操作符" class="headerlink" title="范围解析操作符 ::"></a>范围解析操作符 ::</h4><blockquote>
<p>范围解析操作符（也可称作 Paamayim Nekudotayim）或者更简单地说是一对冒号，可以用于访问<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/language.oop5.static.php">静态</a>成员，<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/language.oop5.constants.php">类常量</a>，还可以用于覆盖类中的属性和方法。</p>
<p>当在类定义之外引用到这些项目时，要使用类名。</p>
<p>自 PHP 5.3.0 起，可以通过变量来引用类，该变量的值不能是关键字（如 <code>self</code>，<code>parent</code> 和 <code>static</code>）。</p>
<p>self （自己），parent （起源，父本）和 static （静止的，静态）这三个特殊的关键字是用于在类定义的内部对其属性或方法进行访问的。</p>
</blockquote>
<blockquote>
<p><strong>示例：在外部引用项目：</strong></p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token constant">CONST_VALUE</span> <span class="token operator">=</span> <span class="token string">'A constant value'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token variable">$classname</span> <span class="token operator">=</span> <span class="token string">'MyClass'</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$classname</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">CONST_VALUE</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 自 PHP 5.3.0 起</span>

<span class="token keyword">echo</span> MyClass<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">CONST_VALUE</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<blockquote>
<p><strong>示例：在内部引用项目：</strong></p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token keyword">class</span> <span class="token class-name">OtherClass</span> <span class="token keyword">extends</span> <span class="token class-name">MyClass</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token variable">$my_static</span> <span class="token operator">=</span> <span class="token string">'static var'</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function">doubleColon</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token keyword">parent</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">CONST_VALUE</span> <span class="token punctuation">.</span> <span class="token string">"\n"</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//引用父类方法使用parent::静态名</span>
        <span class="token keyword">echo</span> self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token variable">$my_static</span> <span class="token punctuation">.</span> <span class="token string">"\n"</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//引用本类方法使用self::静态名</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$classname</span> <span class="token operator">=</span> <span class="token string">'OtherClass'</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$classname</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">doubleColon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 自 PHP 5.3.0 起</span>

OtherClass<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">doubleColon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<blockquote>
<p>当一个子类覆盖其父类中的方法时，PHP 不会调用父类中已被覆盖的方法。是否调用父类的方法取决于子类。这种机制也作用于<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/language.oop5.decon.php">构造函数和析构函数</a>，<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/language.oop5.overloading.php">重载</a>以及<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/language.oop5.magic.php">魔术方法</a>。</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token keyword">class</span> <span class="token class-name">MyClass</span>
<span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function">myFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token string">"MyClass::myFunc()\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">OtherClass</span> <span class="token keyword">extends</span> <span class="token class-name">MyClass</span>
<span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// 覆盖了父类的定义</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">myFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// 但还是可以调用父类中被覆盖的方法</span>
        <span class="token keyword">parent</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">myFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">echo</span> <span class="token string">"OtherClass::myFunc()\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$class</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OtherClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$class</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">myFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h4 id="静态关键字static"><a href="#静态关键字static" class="headerlink" title="静态关键字static"></a>静态关键字static</h4><blockquote>
<p>声明类属性或方法为静态，就可以不实例化类而直接访问。静态属性不能通过一个类已实例化的对象来访问（但静态方法可以）。</p>
<p>由于静态方法不需要通过对象即可调用，所以伪变量 $this 在静态方法中不可用。</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function">aStaticMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

Foo<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">aStaticMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//无需实例化类就可以调用</span>
<span class="token variable">$classname</span> <span class="token operator">=</span> <span class="token string">'Foo'</span><span class="token punctuation">;</span>
<span class="token variable">$classname</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">aStaticMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//这里其实还是Foo::aStaticMethod();不过是把Foo给了$classname，耍了个小花招罢了</span>
<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<ul>
<li><p>静态属性</p>
<blockquote>
<p>静态属性不可以由对象通过 -&gt; 操作符来访问。 //简单说 ：：访问静态，-&gt;访问动态</p>
</blockquote>
</li>
</ul>
<h3 id="trait-特质-方法"><a href="#trait-特质-方法" class="headerlink" title="trait[特质]方法"></a>trait[特质]方法</h3><blockquote>
<p><strong>tarit 是php实现继承和调用的快速简洁的方法</strong></p>
<p><strong>和类相似，但无法实例化。</strong></p>
<p><strong>与使用数据库一样，使用use调用</strong></p>
</blockquote>
<h4 id="优先级："><a href="#优先级：" class="headerlink" title="优先级："></a>优先级：</h4><blockquote>
<p>从基类继承的成员会被 trait 插入的成员所覆盖。优先顺序是来自当前类的成员覆盖了 trait 的方法，而 trait 则覆盖了被继承的方法。</p>
<p>简单说既是：<strong>当前类 &gt; trait &gt; 被继承的父类</strong></p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token keyword">class</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token string">'Hello '</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token comment" spellcheck="true">//这是一个父类</span>

<span class="token keyword">trait</span> <span class="token class-name">SayWorld</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">parent</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//父类的Hello 被trait覆盖，所以使用parent:: 重新调用出来</span>
        <span class="token comment" spellcheck="true">//这里sayHello并没有变量，看作静态处理使用::</span>
        <span class="token keyword">echo</span> <span class="token string">'World!'</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//覆盖父类</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token comment" spellcheck="true">//这是一个trait</span>

<span class="token keyword">class</span> <span class="token class-name">MyHelloWorld</span> <span class="token keyword">extends</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">//继承父类Base</span>
    <span class="token keyword">use</span> <span class="token package">SayWorld</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//调用trait Sayworld</span>
   <span class="token comment" spellcheck="true">//这里使用trait可以一次性调用许多的“类”，而不用一步步的继承</span>
<span class="token punctuation">}</span>

<span class="token variable">$o</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyHelloWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$o</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>
<span class="token comment" spellcheck="true">//以上会输出Hello World!</span>
    
<span class="token comment" spellcheck="true">//另一个例子</span>
<span class="token delimiter">&lt;?php</span>
<span class="token keyword">trait</span> <span class="token class-name">HelloWorld</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token string">'Hello World!'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">TheWorldIsNotEnough</span> <span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">HelloWorld</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//调用trait</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token string">'Hello Universe!'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//本类优先级高于trait，覆盖调用的trait</span>
<span class="token punctuation">}</span>

<span class="token variable">$o</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TheWorldIsNotEnough</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$o</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>
<span class="token comment" spellcheck="true">//结果为：Hello Universe!</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h4 id="调用多个trait"><a href="#调用多个trait" class="headerlink" title="调用多个trait"></a>调用多个trait</h4><blockquote>
<p>使用逗号，即可调用多个trait</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token keyword">trait</span> <span class="token class-name">Hello</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token string">'Hello '</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">trait</span> <span class="token class-name">World</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">sayWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token string">'World'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">MyHelloWorld</span> <span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">Hello</span><span class="token punctuation">,</span> World<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">sayExclamationMark</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token string">'!'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$o</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyHelloWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$o</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$o</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">sayWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$o</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">sayExclamationMark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>
<span class="token comment" spellcheck="true">//以上会输出 Hello World!</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h4 id="trait同名冲突解决方法"><a href="#trait同名冲突解决方法" class="headerlink" title="trait同名冲突解决方法"></a>trait同名冲突解决方法</h4><blockquote>
<p>如果两个 trait 都插入了一个同名的方法，如果没有明确解决冲突将会产生一个致命错误。</p>
<p>为了解决多个 trait 在同一个类中的命名冲突，需要使用 <code>insteadof</code>（代替） 操作符来明确指定使用冲突方法中的哪一个。</p>
<p>以上方式仅允许排除掉其它方法，<code>as</code> 操作符可以 为某个方法引入别名。 注意，<code>as</code> 操作符不会对方法进行重命名，也不会影响其方法。</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token keyword">trait</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">smallTalk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token string">'a'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">bigTalk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token string">'A'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">trait</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">smallTalk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token string">'b'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">bigTalk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token string">'B'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Talker</span> <span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">A</span><span class="token punctuation">,</span> B <span class="token punctuation">{</span>
        B<span class="token punctuation">:</span><span class="token punctuation">:</span>smallTalk insteadof A<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//以B中的smallTalk代替A中的smallTalk(两个同名方法优先B)</span>
        A<span class="token punctuation">:</span><span class="token punctuation">:</span>bigTalk insteadof B<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//将A中的bigTalk代替B中的bigTalk(优先A)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
    <span class="token variable">$a</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Talker</span><span class="token punctuation">;</span>
    <span class="token keyword">echo</span> <span class="token variable">$a</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">smallTalk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//说明smallTalk优先级</span>
    <span class="token keyword">echo</span> <span class="token variable">$a</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">bigTalk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//说明bigTalk优先级</span>
    <span class="token keyword">echo</span> <span class="token string">"\n"</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Aliased_Talker</span> <span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">A</span><span class="token punctuation">,</span> B <span class="token punctuation">{</span>
        B<span class="token punctuation">:</span><span class="token punctuation">:</span>smallTalk insteadof A<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//以B中的smallTalk代替A中的smallTalk</span>
        A<span class="token punctuation">:</span><span class="token punctuation">:</span>bigTalk insteadof B<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//将A中的bigTalk代替B中的bigTalk</span>
        B<span class="token punctuation">:</span><span class="token punctuation">:</span>bigTalk <span class="token keyword">as</span> talk<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//给B中的bigTalk起个别名叫talk</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
    <span class="token variable">$b</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Aliased_Talker</span><span class="token punctuation">;</span>
    <span class="token keyword">echo</span> <span class="token variable">$b</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">smallTalk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">echo</span> <span class="token variable">$b</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">bigTalk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">echo</span> <span class="token variable">$b</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">talk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//说明替代并不是“覆盖，消除”只是定义同名时优先输出的方法</span>
<span class="token comment" spellcheck="true">//结果：</span>
<span class="token comment" spellcheck="true">//bA</span>
<span class="token comment" spellcheck="true">//bAB</span>
<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h4 id="使用as修改类的访问控制"><a href="#使用as修改类的访问控制" class="headerlink" title="使用as修改类的访问控制"></a>使用as修改类的访问控制</h4><blockquote>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token keyword">trait</span> <span class="token class-name">HelloWorld</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token string">'Hello World!'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// 修改 sayHello 的访问控制</span>
<span class="token keyword">class</span> <span class="token class-name">MyClass1</span> <span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">HelloWorld</span> <span class="token punctuation">{</span> sayHello <span class="token keyword">as</span> <span class="token keyword">protected</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//格式为{内容}，将sayHello 改为protected属性</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// 给方法一个改变了访问控制的别名</span>
<span class="token comment" spellcheck="true">// 原版 sayHello 的访问控制则没有发生变化</span>
<span class="token keyword">class</span> <span class="token class-name">MyClass2</span> <span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">HelloWorld</span> <span class="token punctuation">{</span> sayHello <span class="token keyword">as</span> <span class="token keyword">private</span> Hello<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//改为private属性，并起别名为Hello</span>
<span class="token punctuation">}</span>
<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h4 id="从-trait-来组成-trait"><a href="#从-trait-来组成-trait" class="headerlink" title="从 trait 来组成 trait"></a>从 trait 来组成 trait</h4><blockquote>
<p>正如 class 能够使用 trait 一样，其它 trait 也能够使用 trait。在 trait 定义时通过使用一个或多个 trait，能够组合其它 trait 中的部分或全部成员</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token keyword">trait</span> <span class="token class-name">Hello</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token string">'Hello '</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">trait</span> <span class="token class-name">World</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">sayWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token string">'World!'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">trait</span> <span class="token class-name">HelloWorld</span> <span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">Hello</span><span class="token punctuation">,</span> World<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//调用上面的trait</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">MyHelloWorld</span> <span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">HelloWorld</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token variable">$o</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyHelloWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$o</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$o</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">sayWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>
<span class="token comment" spellcheck="true">//输出结果为：Hello World！</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h3 id="对象序列化"><a href="#对象序列化" class="headerlink" title="对象序列化"></a>对象序列化</h3><blockquote>
<p><strong>所有php里面的值都可以使用函数<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/function.serialize.php">serialize()</a>来返回一个包含字节流的字符串来表示。<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/function.unserialize.php">unserialize()</a>函数能够重新把字符串变回php原来的值。 序列化一个对象将会保存对象的所有变量，但是不会保存对象的方法，只会保存类的名字。</strong></p>
<p><strong>为了能够<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/function.unserialize.php">unserialize()</a>一个对象，这个对象的类必须已经定义过。如果序列化类A的一个对象，将会返回一个跟类A相关，而且包含了对象所有变量值的字符串。 如果要想在另外一个文件中反序列化一个对象，这个对象的类必须在反序列化之前定义，可以通过包含一个定义该类的文件或使用函数<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/function.spl-autoload-register.php">spl_autoload_register()</a>来实现。</strong></p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token comment" spellcheck="true">// classa.inc:</span>
  
  <span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
      <span class="token keyword">public</span> <span class="token variable">$one</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    
      <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">show_one</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">one</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
<span class="token comment" spellcheck="true">// page1.php:</span>

  <span class="token keyword">include</span><span class="token punctuation">(</span><span class="token string">"classa.inc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token variable">$a</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">;</span>
  <span class="token variable">$s</span> <span class="token operator">=</span> <span class="token function">serialize</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// 把变量$s保存起来以便文件page2.php能够读到</span>
  <span class="token function">file_put_contents</span><span class="token punctuation">(</span><span class="token string">'store'</span><span class="token punctuation">,</span> <span class="token variable">$s</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// page2.php:</span>
  
  <span class="token comment" spellcheck="true">// 要正确反序列化，必须包含下面一个文件</span>
  <span class="token keyword">include</span><span class="token punctuation">(</span><span class="token string">"classa.inc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token variable">$s</span> <span class="token operator">=</span> <span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token string">'store'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token variable">$a</span> <span class="token operator">=</span> <span class="token function">unserialize</span><span class="token punctuation">(</span><span class="token variable">$s</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">// 现在可以使用对象$a里面的函数 show_one()</span>
  <span class="token variable">$a</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">show_one</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//无需实例化</span>
<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h4 id="匿名类："><a href="#匿名类：" class="headerlink" title="匿名类："></a>匿名类：</h4><blockquote>
<p>PHP从7开始支持匿名类，通常匿名类用来创建一次性的简单对象，匿名类可以继承其他类、实现接口、使用trait，还可以向其构造函数传递参数。</p>
<p>匿名类无需设置类名</p>
<p>注意，匿名类的名称是通过引擎赋予的，如下例所示。 由于实现的细节，不应该去依赖这个类名。</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
    <span class="token variable">$class</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">class</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token variable">$c</span><span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">c</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">c</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//直接实例化一个不知名的类</span>

    <span class="token keyword">echo</span> <span class="token variable">$class</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//输出类的函数</span>
<span class="token delimiter">?></span>
    <span class="token comment" spellcheck="true">//结果为 2</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>匿名类可以直接使用，用后即焚</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">class</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token variable">$msg</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token variable">$msg</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>
<span class="token comment" spellcheck="true">//输出结果</span>
<span class="token comment" spellcheck="true">//object(class@anonymous)#1 (0) {</span>
<span class="token comment" spellcheck="true">//}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h5 id="匿名类的嵌套"><a href="#匿名类的嵌套" class="headerlink" title="匿名类的嵌套:"></a>匿名类的嵌套:</h5><blockquote>
<p>匿名类被嵌套进普通 Class 后，不能访问这个外部类（Outer class）的 private（私有）、protected（受保护）方法或者属性。 为了访问外部类（Outer class）protected 属性或方法，匿名类可以 extend（扩展）此外部类。 为了使用外部类（Outer class）的 private 属性，必须通过构造器传进来：</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
    <span class="token keyword">class</span> <span class="token class-name">niming</span>
    <span class="token punctuation">{</span>
        
        <span class="token keyword">protected</span> <span class="token variable">$b</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//public $a;</span>
    
        <span class="token comment" spellcheck="true">//public function A()</span>
        <span class="token comment" spellcheck="true">//{</span>
        <span class="token comment" spellcheck="true">//    $this->a = 1;</span>
        <span class="token comment" spellcheck="true">//    $this->b = $this->a + 1;</span>
        <span class="token comment" spellcheck="true">//    return $this->b;</span>
        <span class="token comment" spellcheck="true">//}</span>

        <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">class</span> <span class="token keyword">extends</span> <span class="token class-name">niming</span><span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//嵌套一个匿名类</span>
                <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">b</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 返回$b的值</span>
                    <span class="token comment" spellcheck="true">//如果成功访问到$b = 100 输出100</span>
                    <span class="token comment" spellcheck="true">//否则无输出值</span>
                <span class="token punctuation">}</span>
                
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">echo</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">niming</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//使用extends继承niming类时，结果为100</span>
<span class="token comment" spellcheck="true">//不继承输出为空</span>
<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h3 id="类的实例化"><a href="#类的实例化" class="headerlink" title="类的实例化"></a>类的实例化</h3><h4 id="实例化对象-new"><a href="#实例化对象-new" class="headerlink" title="实例化对象    new"></a>实例化对象    new</h4><blockquote>
<p>关键字new用于将类实例化成为对象</p>
<p>语法：$a = new [类的名字] (参数数列表);</p>
<p>如果不需为对象传递参数，可以只写名字</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token variable">$instance</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// 也可以这样做：</span>
<span class="token variable">$className</span> <span class="token operator">=</span> <span class="token string">'SimpleClass'</span><span class="token punctuation">;</span>
<span class="token variable">$instance</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token variable">$className</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// new SimpleClass()</span>
<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<pre><code>public的变量可以如果没有static是可以实例化调用的调用，如果有static，就不能实例化调用。
</code></pre>
<ul>
<li><p>调用静态的属性和方法：</p>
<p>  正确做法</p>
<pre><code>&lt;?php
class myclass&#123;
public static $name=&quot;amos&quot;;
&#125;
class myclass1&#123;
public $mingzi=&quot;amos&quot;;
&#125;
echo myclass::$name;
$p2=new myclass1();
echo $p2-&gt;mingzi;
?&gt;
</code></pre>
<p>  错误的写法：</p>
<pre><code>&lt;?php
class myclass&#123;
public static $name=&quot;amos&quot;;
&#125;
class myclass1&#123;
public $mingzi=&quot;amos&quot;;
&#125;
$p1=new myclass();
echo $p1-&gt;name;
echo myclass1::$mingzi;
?&gt;
</code></pre>
<p>  简单来说，非静态属性和方法先实例化类，在使用-&gt;调用，语法[实例化变量]-&gt;[要调用的属性或方法]；</p>
<p>  静态属性和方法则使用双冒号调用，语法：[类名]::[要调用的静态属性或方法]</p>
<pre class="line-numbers language-php"><code class="language-php">
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
</ul>
<h4 id="get-class-译为：获取类"><a href="#get-class-译为：获取类" class="headerlink" title="get_class 译为：获取类"></a>get_class 译为：获取类</h4><blockquote>
<p>用于返回类的名称</p>
<p>语法：</p>
<p>get_class(object $object=?):字符串</p>
<p>获取给定类的名称object。</p>
<pre><code>object
</code></pre>
<p>被测对象。在类内部时，可以省略此参数。</p>
<p>如果在一个类里，省略了参数 <code>object</code>， 则返回当前所在类的名称。</p>
<p>如果 <code>object</code> 是命名空间中某个类的实例，则会返回带上命名空间的类名。</p>
</blockquote>
<h2 id="命名空间"><a href="#命名空间" class="headerlink" title="命名空间"></a>命名空间</h2><h3 id="概述：-1"><a href="#概述：-1" class="headerlink" title="概述："></a>概述：</h3><blockquote>
<p>命名空间是封装事物的方法</p>
<p>在很多地方都可以见到这种抽象概念。例如，在操作系统中目录用来将相关文件分组，对于目录中的文件来说，它就扮演了命名空间的角色。具体举个例子，文件 <code>foo.txt</code> 可以同时在目录 <code>/home/greg</code> 和 <code>/home/other</code> 中存在，但在同一个目录中不能存在两个 <code>foo.txt</code> 文件。另外，在目录 <code>/home/greg</code> 外访问 <code>foo.txt</code> 文件时，我们必须将目录名以及目录分隔符放在文件名之前得到 <code>/home/greg/foo.txt</code>。这个原理应用到程序设计领域就是命名空间的概念。</p>
</blockquote>
<blockquote>
<p>在 PHP 中，命名空间用来解决在编写类库或应用程序时创建可重用的代码如类或函数时碰到的两类问题：</p>
<ol>
<li>用户编写的代码与PHP内部的类/函数/常量或第三方类/函数/常量之间的名字冲突。</li>
<li>为很长的标识符名称(通常是为了缓解第一类问题而定义的)创建一个别名（或简短）的名称，提高源代码的可读性。</li>
</ol>
<p>PHP 命名空间提供了一种将相关的类、函数和常量组合到一起的途径。</p>
</blockquote>
<h3 id="定义命名空间"><a href="#定义命名空间" class="headerlink" title="定义命名空间"></a>定义命名空间</h3><blockquote>
<p>虽然任意合法的 PHP 代码都可以包含在命名空间中，但只有以下类型的代码受命名空间的影响，它们是：类（包括抽象类和 trait）、接口、函数和常量。</p>
<p>命名空间通过关键字 <code>namespace</code> 来声明。如果一个文件中包含命名空间，它必须在其它所有代码之前声明命名空间，除了一个以外：<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/control-structures.declare.php">declare</a>关键字。</p>
</blockquote>
<h4 id="namespace-方法"><a href="#namespace-方法" class="headerlink" title="namespace 方法"></a>namespace 方法</h4><blockquote>
<p>namespace 译为：命名空间</p>
<p>语法：namespace [空间名称]</p>
<p>在声明命名空间之前唯一合法的代码是用于定义源文件编码方式的 <code>declare</code> 语句。另外，所有非 PHP 代码包括空白符都不能出现在命名空间的声明之前：</p>
<p>即声明命名空间的语句必须在php代码的第一条</p>
</blockquote>
<h2 id="数据类型与逻辑运算"><a href="#数据类型与逻辑运算" class="headerlink" title="数据类型与逻辑运算"></a>数据类型与逻辑运算</h2><h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><ul>
<li><p>数据的分类  </p>
<blockquote>
<p>数据主要分三大类八小类，值存储数据本身的类型而不是变量类型。</p>
</blockquote>
<blockquote>
<p>简单基本数据类型[四小类]<br>1- 整型：<br>int/integer ，在计算机中占四个字节储存，表示整数类型（前提为整型存的下）。<br>2- 浮点型：<br>float/double ，在php中浮点型单双精度是一个概念，两者并无区别，表示小数或整型存不下的数。<br>3- 字符串型：<br>string ,同其他语言，php中字符串用引号引起，系统根据实际长度分配存储空间。<br>4- 布尔型：<br>bool/boolean ,布尔型只有两个值，ture和false,是最简单的类型。</p>
</blockquote>
<blockquote>
<p>复合数据类型[两小类]<br>1- 对象类型：<br>object ,存放对象<br>2- 数组类型：<br>array ,一次性存储多个数据  </p>
</blockquote>
<blockquote>
<p>特殊类型[两小类]<br>1- 资源类型：<br>  resource ，存放数据资源（php外部数据，如数据库，文件）<br>2- 空类型：<br> NOLL ，只有一个NOLL，不能运算。  </p>
</blockquote>
</li>
<li><p>数据类型的转化  </p>
<blockquote>
<p>在有些时候需要指定的数据类型，这时需要将数据转化成指定形式 </p>
</blockquote>
<blockquote>
<p>php中类型转化的方式：<br>1- 自动转化：<br>常用，效率低。<br><img src="4.png" alt="4">如图加法运算不能包括字母，此时系统便会自动转化为整形和浮点型运算<br>注意：系统会将数字中遇到的第一个小数点当作浮点型转化，后续小数点会被忽略。<br>2- 强制（手动）转化：<br>在变量前加上括号，括号中写入数据类型。<br>NOLL类型比较特殊，转NOLL类型需要用到unset()函数。<br><img src="5.png" alt="5"></p>
</blockquote>
</li>
<li><p>数据类型判断  </p>
<blockquote>
<p>基本作用函数：is_变量名<br>用与查看的函数：var_dump();<br><img src="6.png" alt="6"><br>如图，是则输出turn，不是则输出false。  </p>
</blockquote>
<blockquote>
<p>设定数据类型：<br> gettype(变量名);查看当前数据类型。<br> settype(变量名，类型);设定数据类型（改变数据本身）<br><img src="7.png" alt="7"><br> bool(turn)说明转化成功。 </p>
</blockquote>
</li>
<li><p>数据的进制转化  </p>
<blockquote>
<p>进制表示：<br>$a=120 //dec（十进制）<br>$b=0b120 //bin(二进制)<br>$c=0120  //oct(八进制)<br>$d=0x120  //hex(十六进制)<br>注意：php中，所有数都会默认转化为十进制。<br><img src="8.png" alt="8"></p>
</blockquote>
<blockquote>
<p>进制的手动转化：<br> 函数：[转换前]<a href="%E8%BD%AC%E5%8C%96%E5%89%8D%E5%8F%98%E9%87%8F%E6%88%96%E6%95%B0">转换后</a><br><img src="9.png" alt="9"></p>
</blockquote>
</li>
<li><p>浮点型和布尔型的特殊分类：</p>
<blockquote>
<p>有小数点默认为浮点型<br>超过整型存储范围为浮点型<br>浮点型不精确<br><img src="10.png" alt="10"></p>
</blockquote>
<blockquote>
<p>两个判断数据存在的函数<br>1- empty(); 判断数据的值是否为空（不是NOLL），是则返回true，不为空返回false.<br>2- isset(); 判断数据储存的变量本身是否存在，存在返回true，不存在返回flase。  </p>
</blockquote>
</li>
</ul>
<h3 id="逻辑运算"><a href="#逻辑运算" class="headerlink" title="逻辑运算"></a>逻辑运算</h3><ul>
<li><p>运算符  </p>
<blockquote>
<p>赋值，算数与比较。<br>php运算符用法同其他语言。<br>“=”，将左边内容赋值给右边。<br>“+,-,*,/“,同数学<br>“%”,取余运算、返回余数。<br>“&lt;、&gt;、=、!=”，用法同数学。  </p>
</blockquote>
<blockquote>
<p>逻辑运算符<br>与运算：&amp;&amp; 相当与数学的交集，只有同时满足&amp;&amp;两边的条件时返回true，有一个错便是false。<br>或运算：|| 相当于数学的并集，左右两边任意一个成立便返回true，只有两边同时错误才返回false。<br>注意：或运算中如果第一个语句为真，便不再执行第二条语句。<br>非运算：！ 相当与数学的补集，条件为真时返回true，条件为假时返回false。  </p>
</blockquote>
<blockquote>
<p>连接运算符<br> php中语句中间部分用”,”或”.”连接。<br> 错误抑制符<br> “@”:错误抑制符，php有些错误可以被提前预知但无法避免，这时可以用错误抑制符处理。  </p>
</blockquote>
<blockquote>
<p>三目运算符<br>三目运算符是多个表达式运算的简单分支缩写<br>语法格式：<br>表达式1？表达式2：表达式3<br>运算：如果表达式1成立，运行表达式2，否则运行表达式3。<br>三目运算符可以多层使用，如：<br>表达式1？（表达式2？表达式3：表达式4）：（表达式5？表达式6：表达式7）  </p>
</blockquote>
<blockquote>
<p>自操作运算符<br>++<br>i++在i原来的基础上加一（先赋值再加1）<br>++i在原来基础上加一（先加1后赋值）<br>–（与++同理）  </p>
</blockquote>
</li>
<li><p>计算机码  </p>
<blockquote>
<p>原码、反码与补码<br>原码是将原本的数按二进制保存在计算机中<br>例如：%d=4/%d=-4<br>原码：00001000  10001000 计算机码中第一个字表示正负，0表示正数、1表示负数。  </p>
</blockquote>
<blockquote>
<p>反码：<br>反正是在原码的基础上，正数不变，负数除开头表示正负的1外全部取反。<br>例如：%d=-4<br>原码：10001000<br>反码：11110111  </p>
</blockquote>
<blockquote>
<p>补码是在反码的基础上，正数不变，负数加1。<br>例如：%d=-4<br>原码：10001000<br>反码：11110111<br>补码：11111000  </p>
</blockquote>
<blockquote>
<p>位运算符<br><img src="11.png" alt="11"></p>
</blockquote>
</li>
<li><p>运算符优先级<br><img src="12.png" alt="12"></p>
<blockquote>
<p>如图，优先级自上而下依次降低  </p>
</blockquote>
</li>
</ul>
<h3 id="结构控制"><a href="#结构控制" class="headerlink" title="结构控制"></a>结构控制</h3><h4 id="选择结构控制"><a href="#选择结构控制" class="headerlink" title="选择结构控制"></a>选择结构控制</h4><ul>
<li><p>if 分支语句  </p>
<blockquote>
<p>if语句用于条件选择<br>结构：<br>if(表达式1)  </p>
<pre><code>表达式2; //如果表达式1正确执行表达式2  
</code></pre>
<p>else </p>
<pre><code>表达式3; //反之则执行表达式3  
</code></pre>
</blockquote>
<blockquote>
<p>结构嵌套<br>if 语句包括大多数结构控制语句都可以结构嵌套（套娃）<br>如：<br>if(表达式1)</p>
<pre><code>表达式2;
</code></pre>
<p>  else if(表达式3)</p>
<pre><code>表达式4；
 else 
   whlie&#123;
     (表达式5)
</code></pre>
<p>}</p>
</blockquote>
</li>
<li><p>switch分支（转换分支）  </p>
<blockquote>
<p>在一种情况下有多个值，每个值都有对应不同的代码执行<br>语句结构：<br>switch(表达式1)<br>  case 值1;  </p>
<pre><code> 表达式2; //当表达式1的值为值1时，运行表达式2.  
</code></pre>
<p>  break;  //运行表达式2后结束循环，不再进行后续运算。<br>  case 值2;  </p>
<pre><code> 表达式3; //当表达式1运行结果是值2时，运行表达式3.  
</code></pre>
<p>  break;  </p>
</blockquote>
</li>
</ul>
<h4 id="循环结构控制"><a href="#循环结构控制" class="headerlink" title="循环结构控制"></a>循环结构控制</h4><ul>
<li><p>for循环  </p>
<blockquote>
<p>for循环格式<br>for(条件表达式1;条件表达式2;条件表达式3)<br>//条件表达式1：定义初始化条件，可以是用逗号分隔的多个语句，但无论是否定义都必须用”;”结束。<br>//条件表达式2：边界判定，限制循环次数，最后要用”;”结束。<br>//条件表达式3：执行条件变化，因其是最后一条语句，不需要用”;”结束。  </p>
</blockquote>
</li>
<li><p>whlie循环与do-while循环    </p>
<blockquote>
<p>while循环：<br>循环语句：<br>条件初始化;<br>while(条件表达式)<br>{<br>  循环体  //循环条件变化。<br>}   </p>
</blockquote>
<blockquote>
<p>do-while循环<br>while循环先判断条件表达式，表达式成立才执行，do-while循环先执行循环，再判断表达式是否成立。<br>循环语句：<br>do<br>{<br>  循环体;<br>}<br>while(条件表达式);  </p>
</blockquote>
</li>
</ul>
<h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2><ul>
<li><p>PCRE(preg)函数</p>
<blockquote>
<p>规则正则读取的一类函数，包括查找，替换，匹配等<br>正则：字符串的匹配规则  </p>
</blockquote>
<p> 定界符：正则开始时需写明的字符，常用//也可用||和&lt;&gt;等</p>
<p> 原子：最少的一个匹配单位，每个正则都要有一个，写与定界符里</p>
<p> 元字符：用于扩展原子的功能，不能单独使用</p>
<p> 模式修正符：对整个表达式进行修正，位于定界符外</p>
</li>
</ul>
<h2 id="MySQL数据库的连接"><a href="#MySQL数据库的连接" class="headerlink" title="MySQL数据库的连接"></a>MySQL数据库的连接</h2><h3 id="mysql-connect-函数连接数据库"><a href="#mysql-connect-函数连接数据库" class="headerlink" title="mysql_connect()函数连接数据库"></a>mysql_connect()函数连接数据库</h3><blockquote>
<p>mysql_connect() 函数打开非持久的 MySQL 连接。</p>
<pre><code>mysql_connect(server,user,pwd,newlink,clientflag)
</code></pre>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">server<br />服务器</td>
<td align="left">可选。规定要连接的服务器。可以包括端口号，例如 “hostname:port”，或者到本地套接字的路径，例如对于 localhost 的 “:/path/to/socket”。如果 PHP 指令 mysql.default_host 未定义（默认情况），则默认值是 ‘localhost:3306’。</td>
</tr>
<tr>
<td align="left">user</td>
<td align="left">可选。用户名。默认值是服务器进程所有者的用户名。</td>
</tr>
<tr>
<td align="left">pwd</td>
<td align="left">可选。密码。默认值是空密码。</td>
</tr>
<tr>
<td align="left">newlink<br />新建链接</td>
<td align="left">可选。如果用同样的参数第二次调用 mysql_connect()，将不会建立新连接，而将返回已经打开的连接标识。参数 new_link 改变此行为并使 mysql_connect() 总是打开新的连接，甚至当 mysql_connect() 曾在前面被用同样的参数调用过。</td>
</tr>
<tr>
<td align="left">clientflag<br />客户端标志</td>
<td align="left">可选。client_flags 参数可以是以下常量的组合：MYSQL_CLIENT_SSL - 使用 SSL 加密MYSQL_CLIENT_COMPRESS - 使用压缩协议MYSQL_CLIENT_IGNORE_SPACE - 允许函数名后的间隔MYSQL_CLIENT_INTERACTIVE - 允许关闭连接之前的交互超时非活动时间</td>
</tr>
</tbody></table>
</blockquote>
<h3 id="mysqli-query-函数执行sql命令"><a href="#mysqli-query-函数执行sql命令" class="headerlink" title="mysqli_query()函数执行sql命令"></a>mysqli_query()函数执行sql命令</h3><blockquote>
<p>语法：</p>
<p>mysqli_query(<em>connection,query,resultmode</em>)<em>;</em></p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><em>connection</em></td>
<td align="left">必需。规定要使用的 MySQL 连接。</td>
</tr>
<tr>
<td align="left"><em>query</em></td>
<td align="left">必需，规定查询字符串（要执行的语句）。</td>
</tr>
<tr>
<td align="left"><em>resultmode</em></td>
<td align="left">可选。一个常量。可以是下列值中的任意一个：MYSQLI_USE_RESULT（如果需要检索大量数据，请使用这个）MYSQLI_STORE_RESULT（默认）</td>
</tr>
</tbody></table>
</blockquote>
<h3 id="mysql-fetch-array-函数生成关联数组"><a href="#mysql-fetch-array-函数生成关联数组" class="headerlink" title="mysql_fetch_array()函数生成关联数组"></a>mysql_fetch_array()函数生成关联数组</h3><blockquote>
<p>mysql_fetch_array() 函数从结果集中取得一行作为关联数组，或数字数组，或二者兼有</p>
<p>返回根据从结果集取得的行生成的数组，如果没有更多行则返回 false。</p>
<pre><code>mysql_fetch_array(data,array_type)
</code></pre>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><em>data</em></td>
<td align="left">可选。规定要使用的数据指针。该数据指针是 mysql_query() 函数产生的结果。</td>
</tr>
<tr>
<td align="left"><em>array_type</em></td>
<td align="left">可选。规定返回哪种结果。可能的值：MYSQL_ASSOC - 关联数组MYSQL_NUM - 数字数组MYSQL_BOTH - 默认。同时产生关联和数字数组</td>
</tr>
</tbody></table>
</blockquote>
<h2 id="文件处理"><a href="#文件处理" class="headerlink" title="文件处理"></a>文件处理</h2><h3 id="加载文件"><a href="#加载文件" class="headerlink" title="加载文件"></a>加载文件</h3><h4 id="include-文件-requeire-文件"><a href="#include-文件-requeire-文件" class="headerlink" title="include 文件 || requeire 文件"></a>include 文件 || requeire 文件</h4><blockquote>
<p>include （或 require）语句会获取指定文件中存在的所有文本/代码/标记，并复制到使用 include 语句的文件中。</p>
<p>包含文件很有用，如果您需要在网站的多张页面上引用相同的 PHP、HTML 或文本的话。</p>
<p>通过 include 或 require 语句，可以将 PHP 文件的内容插入另一个 PHP 文件（在服务器执行它之前）。</p>
<ul>
<li>include 和 require 语句是相同的，除了错误处理方面：<ul>
<li>require 会生成致命错误（E_COMPILE_ERROR）并停止脚本</li>
<li>include 只生成警告（E_WARNING），并且脚本会继续</li>
</ul>
</li>
</ul>
<p>包含文件省去了大量的工作。这意味着您可以为所有页面创建标准页头、页脚或者菜单文件。然后，在页头需要更新时，您只需更新这个页头包含文件即可。</p>
<ul>
<li><p>语法：</p>
<p>  include ‘filename’; 或 require ‘filename’;</p>
<p>  filename: 必须，文件路径（优先相对路径）</p>
<p>  使用include || require 命令的位置就是代码嵌入的位置</p>
</li>
</ul>
<p>php中被包含的文件是单独编译的</p>
<p><img src="image-20210403195725604.png" alt="image-20210403195725604"></p>
</blockquote>
<h3 id="创建文件"><a href="#创建文件" class="headerlink" title="创建文件"></a>创建文件</h3><h4 id="fopen-函数创建文件"><a href="#fopen-函数创建文件" class="headerlink" title="fopen()函数创建文件"></a>fopen()函数创建文件</h4><blockquote>
<p>fopen() 函数也用于创建文件</p>
<p>在 PHP 中，创建文件所用的函数与打开文件的相同。</p>
<p>如果用 fopen() 打开并不存在的文件，此函数会创建文件</p>
<p>语法：<strong>fopen(“[文件名称]”，”[打开方式]”)</strong></p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token variable">$buildfile</span> <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">"text.txt"</span><span class="token punctuation">,</span><span class="token string">"w"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><strong>打开方式：</strong></p>
<table>
<thead>
<tr>
<th align="left">模式</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">r</td>
<td align="center">只读。在文件的开头开始。</td>
</tr>
<tr>
<td align="left">r+</td>
<td align="center">读/写。在文件的开头开始。</td>
</tr>
<tr>
<td align="left">w</td>
<td align="center">只写。打开并清空文件的内容；如果文件不存在，则创建新文件。</td>
</tr>
<tr>
<td align="left">w+</td>
<td align="center">读/写。打开并清空文件的内容；如果文件不存在，则创建新文件。</td>
</tr>
<tr>
<td align="left">a</td>
<td align="center">追加。打开并向文件末尾进行写操作，如果文件不存在，则创建新文件。</td>
</tr>
<tr>
<td align="left">a+</td>
<td align="center">读/追加。通过向文件末尾写内容，来保持文件内容。</td>
</tr>
<tr>
<td align="left">x</td>
<td align="center">只写。创建新文件。如果文件已存在，则返回 FALSE 和一个错误。</td>
</tr>
<tr>
<td align="left">x+</td>
<td align="center">读/写。创建新文件。如果文件已存在，则返回 FALSE 和一个错误。</td>
</tr>
</tbody></table>
</blockquote>
<h4 id="fclose-函数关闭文件"><a href="#fclose-函数关闭文件" class="headerlink" title="fclose()函数关闭文件"></a>fclose()函数关闭文件</h4><blockquote>
<p>同之前版本的python ，php 操作文件后也需要关闭操作</p>
<p>与创建文件命令同时使用</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token variable">$buildfile</span> <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">"text"</span><span class="token punctuation">,</span><span class="token string">"w"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">fclose</span><span class="token punctuation">(</span><span class="token variable">$bulidfile</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</blockquote>
<h4 id="feof-函数检测是否达到文件末尾"><a href="#feof-函数检测是否达到文件末尾" class="headerlink" title="feof()函数检测是否达到文件末尾"></a>feof()函数检测是否达到文件末尾</h4><blockquote>
<p>feof() 函数检测是否已到达文件末尾（EOF）。</p>
<p>在循环遍历未知长度的数据时，feof() 函数很有用。</p>
<p>在 w 、a 和 x 模式下，无法读取打开的文件！</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token keyword">if</span>（<span class="token function">feof</span><span class="token punctuation">(</span><span class="token variable">$buildfile</span><span class="token punctuation">)</span>） <span class="token keyword">echo</span> <span class="token string">"文件已到结束"</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</blockquote>
<h4 id="fgets-函数逐行读取文件"><a href="#fgets-函数逐行读取文件" class="headerlink" title="fgets()函数逐行读取文件"></a>fgets()函数逐行读取文件</h4><blockquote>
<p>fgets() 函数用于从文件中逐行读取文件。</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token variable">$file</span> <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">"welcome.txt"</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token function">exit</span><span class="token punctuation">(</span><span class="token string">"无法打开文件!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// 读取文件每一行，直到文件结尾</span>
<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">feof</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token function">fgets</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token string">"&lt;br>"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">fclose</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h4 id="fgetc-函数逐字符读取文件"><a href="#fgetc-函数逐字符读取文件" class="headerlink" title="fgetc()函数逐字符读取文件"></a>fgetc()函数逐字符读取文件</h4><blockquote>
<p>fgetc() 函数用于从文件中逐字符地读取文件。</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token variable">$file</span><span class="token operator">=</span><span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">"welcome.txt"</span><span class="token punctuation">,</span><span class="token string">"r"</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token function">exit</span><span class="token punctuation">(</span><span class="token string">"无法打开文件!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">feof</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token function">fgetc</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">fclose</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h4 id="fwrite-函数写入文件"><a href="#fwrite-函数写入文件" class="headerlink" title="fwrite()函数写入文件"></a>fwrite()函数写入文件</h4><blockquote>
<p>fwrite() 的第一个参数包含要写入的文件的文件名，第二个参数是被写的字符串。</p>
<p>语法：</p>
<p>fwrite(“text.txt”,”hello world!”)</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
    <span class="token variable">$buildfile</span> <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">"text.txt"</span><span class="token punctuation">,</span><span class="token string">"w"</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token function">exit</span><span class="token punctuation">(</span><span class="token string">"创建文件失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$txt</span> <span class="token operator">=</span> <span class="token string">"Hello World!\n"</span><span class="token punctuation">;</span>
    <span class="token function">fwrite</span><span class="token punctuation">(</span><span class="token variable">$buildfile</span><span class="token punctuation">,</span><span class="token variable">$txt</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">fclose</span><span class="token punctuation">(</span><span class="token variable">$buildfile</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当文件中原本就有内容新写入的内容将会覆盖原来的内容</p>
</blockquote>
<h4 id="file-put-contents-函数将字符串写入文件"><a href="#file-put-contents-函数将字符串写入文件" class="headerlink" title="file_put_contents()函数将字符串写入文件"></a>file_put_contents()函数将字符串写入文件</h4><blockquote>
<ol>
<li>如果设置了 FILE_USE_INCLUDE_PATH，那么将检查 <em>filename</em> 副本的内置路径</li>
<li>如果文件不存在，将创建一个文件</li>
<li>打开文件</li>
<li>如果设置了 LOCK_EX，那么将锁定文件</li>
<li>如果设置了 FILE_APPEND，那么将移至文件末尾。否则，将会清除文件的内容</li>
<li>向文件中写入数据</li>
<li>关闭文件并对所有文件解锁</li>
</ol>
<p>如果成功，该函数将返回写入文件中的字符数。如果失败，则返回 False。</p>
<p>语法：</p>
<p><strong>file_put_contents(“文件名/路径”,”字符串/数据”)</strong></p>
</blockquote>
<h4 id="file-get-contents-函数获取文件内容"><a href="#file-get-contents-函数获取文件内容" class="headerlink" title="file_get_contents()函数获取文件内容"></a>file_get_contents()函数获取文件内容</h4><blockquote>
<p>语法：</p>
<p><strong>fille_get_contents(‘文件名’);</strong></p>
</blockquote>
<h2 id="函数创建"><a href="#函数创建" class="headerlink" title="函数创建"></a>函数创建</h2><ul>
<li>function方法<blockquote>
<p>自定义函数<br>语法：<br>function <a href="">函数名</a><br>{<br> //要执行的代码<br>}<br>自定义函数调用示例：</p>
<?php
function writeName()
{
    echo "Atmujie";
}
</blockquote>
echo “My name is “;<br>writeName();<br>?&gt;<br>输出结果：My name is Atmujie  </li>
</ul>
<h2 id="内置函数解析"><a href="#内置函数解析" class="headerlink" title="内置函数解析"></a>内置函数解析</h2><h3 id="json函数"><a href="#json函数" class="headerlink" title="json函数"></a>json函数</h3><blockquote>
<table>
<thead>
<tr>
<th><strong>json_encode</strong></th>
<th><strong>对变量进行json编码</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>json_decode</strong></td>
<td><strong>对json格式的字符串进行解码，转换为php变量</strong></td>
</tr>
<tr>
<td><strong>json_last_error</strong></td>
<td><strong>返回最后发生的错误</strong></td>
</tr>
</tbody></table>
<p><strong>在函数中返回一个数组时，要用json函数</strong></p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
    <span class="token keyword">function</span> <span class="token function">abc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$a</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string">'aa'</span><span class="token operator">=</span><span class="token operator">></span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'bb'</span><span class="token operator">=</span><span class="token operator">></span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">abc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//结果{"aa":1,"bb":2}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h3 id="assert-函数检查表达式是否成立"><a href="#assert-函数检查表达式是否成立" class="headerlink" title="assert()函数检查表达式是否成立"></a>assert()函数检查表达式是否成立</h3><blockquote>
<p>php中assert函数用来检查表达式是否成立，返回ture or flase</p>
<p>主要用来debug（调试）</p>
<p>语法：assert(mixed[类型说明] $assertion[断言])</p>
<p><strong>如果 <code>assertion</code> 是字符串，它将会被 assert() 当做 PHP 代码来执行。</strong></p>
<pre><code>assertion
</code></pre>
<p>断言。在PHP 5中，它必须是要评估的字符串或要测试的布尔值。在PHP 7中，这也可以是任何返回值的表达式，该表达式将被执行并将结果用于指示断言是成功还是失败。</p>
<pre><code>description
</code></pre>
<p>如果 <code>assertion</code> 失败了，选项 description 将会包括在失败信息里。</p>
<pre><code>exception
</code></pre>
<p>在PHP 7中，第二个参数可以是 <strong>Throwable</strong>对象，而不是描述性 字符串，在这种情况下，这是断言失败并且 启用<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/info.configuration.php#ini.assert.exception">assert.exception</a>配置指令时将抛出的对象 。</p>
</blockquote>
<h3 id="isset-函数"><a href="#isset-函数" class="headerlink" title="isset()函数"></a>isset()函数</h3><blockquote>
<p>isset 译为：弹出</p>
<p>功能：检测变量是否已设置并且非null</p>
<p>语法：isset($var,$…=?)</p>
<p>$var:要检查的变量</p>
<p>如果 <code>var</code> 存在并且值不是 <strong><code>null</code></strong> 则返回 **<code>true</code>**，否则返回 **<code>false</code>**。</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>

<span class="token variable">$a</span> <span class="token operator">=</span> <span class="token keyword">array</span> <span class="token punctuation">(</span><span class="token string">'test'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'hello'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> <span class="token string">'pie'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string">'a'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token string">'apple'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">isset</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">[</span><span class="token string">'test'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">// TRUE</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">isset</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment" spellcheck="true">// FALSE</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">isset</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">[</span><span class="token string">'hello'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment" spellcheck="true">// FALSE</span>

<span class="token comment" spellcheck="true">// 键 'hello' 的值等于 NULL，所以被认为是未置值的。</span>
<span class="token comment" spellcheck="true">// 如果想检测 NULL 键值，可以试试下边的方法。 </span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">array_key_exists</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token variable">$a</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// TRUE</span>

<span class="token comment" spellcheck="true">// Checking deeper array values</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">isset</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">[</span><span class="token string">'pie'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// TRUE</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">isset</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">[</span><span class="token string">'pie'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// FALSE</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">isset</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">[</span><span class="token string">'cake'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// FALSE</span>

<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h3 id="highlight-file-函数"><a href="#highlight-file-函数" class="headerlink" title="highlight_file()函数"></a>highlight_file()函数</h3><blockquote>
<p>对文件进行语法高亮显示<br> high高的，light光 highlight高亮<br> 语法：highlight_file(filename,return)<br> filename:必须，要进行高亮处理的路径<br> return:可选，如果为trun 则返回高亮处理的代码  </p>
</blockquote>
<h3 id="dirname-函数"><a href="#dirname-函数" class="headerlink" title="dirname()函数"></a>dirname()函数</h3><blockquote>
<p>返回路径中的目录部分<br> dirname 译为：文件名<br> 语法：<br> dirname(filename)<br> filename:必要，文件路径    </p>
</blockquote>
<h3 id="array-函数"><a href="#array-函数" class="headerlink" title="array()函数"></a>array()函数</h3><blockquote>
<p>创建一个数组<br>语法：$a = array();    </p>
<p>举例：</p>
<p><img src="image-20210417143743209.png" alt="image-20210417143743209"></p>
</blockquote>
<h3 id="count-函数"><a href="#count-函数" class="headerlink" title="count()函数"></a>count()函数</h3><blockquote>
<p>返回数组长度<br> 语法：$b = count($a);  </p>
</blockquote>
<h3 id="serialize-函数"><a href="#serialize-函数" class="headerlink" title="serialize()函数"></a>serialize()函数</h3><blockquote>
<p>将指定的字符串进行序列化        </p>
</blockquote>
<h3 id="exit-函数"><a href="#exit-函数" class="headerlink" title="exit()函数"></a>exit()函数</h3><blockquote>
<p>输出一条消息，并退出当前脚本<br>语法：exit(status)<br>status:必须，规定退出脚本之前写入的消息或状态号。状态号不会被写入输出。</p>
<p>如果 <em>status</em> 是字符串，则该函数会在退出前输出字符串。</p>
<p>如果 <em>status</em> 是整数，这个值会被用作退出状态。退出状态的值在 0 至 254 之间。退出状态 255 由 PHP 保留，不会被使用。状态 0 用于成功地终止程序。</p>
</blockquote>
<h3 id="mb-substr-函数用于获取一部分字符串"><a href="#mb-substr-函数用于获取一部分字符串" class="headerlink" title="mb_substr()函数用于获取一部分字符串"></a>mb_substr()函数用于获取一部分字符串</h3><blockquote>
<p>语法：</p>
<p><strong>mb_substr ( string【要提取的字符串】 , int【开始位置】 , int <code>$length</code> = NULL , string <code>$encoding</code> =【字符串编码】)</strong> </p>
<p><strong>结果为string</strong></p>
<p><strong>$length表示读取的字符串个数，省略或传入NULL则提取到尾部</strong></p>
<p><strong>不就是mysql的substr()语句</strong></p>
</blockquote>
<h3 id="mb-strpos-函数用于查找字符串在另一个字符串中首次出现的位置"><a href="#mb-strpos-函数用于查找字符串在另一个字符串中首次出现的位置" class="headerlink" title="mb_strpos()函数用于查找字符串在另一个字符串中首次出现的位置"></a>mb_strpos()函数用于查找字符串在另一个字符串中首次出现的位置</h3><blockquote>
<p>语法：</p>
<p><strong>mb_strpos ( string (要检查的字符串), string （要查找的字符串） , int <code>$offset</code> = 0 , string <code>$encoding</code> = 【字符串编码 )</strong> </p>
<p><strong>$offset搜索位置的偏移。如果没有提供该参数，将会使用 0。负数的 offset 会从字符串尾部开始统计。</strong></p>
<p><strong>结果为int</strong></p>
</blockquote>
<h3 id="header-函数向客户端发送原始的-HTTP-报头。"><a href="#header-函数向客户端发送原始的-HTTP-报头。" class="headerlink" title="header()函数向客户端发送原始的 HTTP 报头。"></a>header()函数向客户端发送原始的 HTTP 报头。</h3><blockquote>
<p>语法：header(string,replace,http_response_code)</p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">string</td>
<td align="left">必需。规定要发送的报头字符串。</td>
</tr>
<tr>
<td align="left">replace</td>
<td align="left">可选。指示该报头是否替换之前的报头，或添加第二个报头。默认是 true（替换）。false（允许相同类型的多个报头）。</td>
</tr>
<tr>
<td align="left">http_response_code</td>
<td align="left">可选。把 HTTP 响应代码强制为指定的值。（PHP 4 以及更高版本可用）</td>
</tr>
</tbody></table>
<ul>
<li><p>实现页面跳转</p>
<blockquote>
<p><strong>header(Location: url);</strong> location 译为：位置</p>
</blockquote>
</li>
</ul>
</blockquote>
<h3 id="get-class-函数返回对象的类名"><a href="#get-class-函数返回对象的类名" class="headerlink" title="get_class()函数返回对象的类名"></a>get_class()函数返回对象的类名</h3><blockquote>
<p>语法：get_class ( object <code>$object</code> = <strong><code>null</code></strong> ) : string</p>
<p>返回对象实例 <code>object</code> 所属类的名字。</p>
</blockquote>
<h3 id="strpos-函数查找字符串在另一字符串中最后一次出现的位置"><a href="#strpos-函数查找字符串在另一字符串中最后一次出现的位置" class="headerlink" title="strpos()函数查找字符串在另一字符串中最后一次出现的位置"></a>strpos()函数查找字符串在另一字符串中最后一次出现的位置</h3><blockquote>
<p>strpos()函数对大小写敏感</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token function">strrpos</span><span class="token punctuation">(</span>string<span class="token punctuation">,</span>find<span class="token punctuation">,</span>start<span class="token punctuation">)</span>
 <span class="token comment" spellcheck="true">//string：要搜索的字符串</span>
 <span class="token comment" spellcheck="true">//find:要查找的字符串</span>
 <span class="token comment" spellcheck="true">//start:可选，从何处搜索</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>返回字符串在另一字符串中最后一次出现的位置，如果没有找到字符串则返回 FALSE。</strong></p>
</blockquote>
<h3 id="require-与require-once-amp-amp-include-与include-once-包含文件"><a href="#require-与require-once-amp-amp-include-与include-once-包含文件" class="headerlink" title="require()与require_once()&amp;&amp;include() 与include_once()包含文件"></a>require()与require_once()&amp;&amp;include() 与include_once()包含文件</h3><blockquote>
<p><strong>三者都是包含文件</strong></p>
<p><strong>include()【包含】 读入指定文件并执行其中的程序</strong></p>
<p><strong>require()【请求】会将目标文件的内容读入，并且把自己本身代换成这些读入的内容；</strong></p>
<p><strong>include_once() 【包含一次】 和 include 语句类似，唯一区别是如果该文件中已经被包含过，则不会再次包含。如同此语句名字暗示的那样，只会包含一次；</strong></p>
<p><strong>require()【请求一次】 和 require 语句完全相同，唯一区别是 PHP 会检查该文件是否已经被包含过，如果是则不会再次包含</strong></p>
</blockquote>
<h4 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h4><blockquote>
<p>require() 语句的性能与 include() 相类似，都是包括并运行指定文件。不同之处在于：对 include() 语句来说，在执行文件时每次都要进行读取和评估；而对于 require() 来说，文件只处理一次（实际上，文件内容替换 require() 语句）。</p>
<p><strong>简单来说，include包含文件时的运行步骤是先运行被包含的文件，然后将结果带入自身代码中执行</strong></p>
<p><strong>require不同，reauire是先把被包含文件的整个代码放入自身文件，再运行自身放入代码后的文件</strong></p>
<p><strong>就是先执行和先包含的关系</strong></p>
<p>这就意味着如果可能执行多次的代码，则使用 require() 效率比较高。另外一方面，如果每次执行代码时是读取不同的文件，或者有通过一组文件迭代的循环，就使用 include() 语句。</p>
</blockquote>
<h3 id="time-函数返回当前时间戳，并格式化为日期："><a href="#time-函数返回当前时间戳，并格式化为日期：" class="headerlink" title="time()函数返回当前时间戳，并格式化为日期："></a>time()函数返回当前时间戳，并格式化为日期：</h3><blockquote>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token variable">$t</span><span class="token operator">=</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span><span class="token punctuation">(</span><span class="token variable">$t</span> <span class="token punctuation">.</span> <span class="token string">"&lt;br>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span><span class="token punctuation">(</span><span class="token function">date</span><span class="token punctuation">(</span><span class="token string">"Y-m-d"</span><span class="token punctuation">,</span><span class="token variable">$t</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>
<span class="token comment" spellcheck="true">//1621153043</span>
<span class="token comment" spellcheck="true">//2021-05-16</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h3 id="mail-函数-发送电子邮件"><a href="#mail-函数-发送电子邮件" class="headerlink" title="mail()函数 发送电子邮件"></a>mail()函数 发送电子邮件</h3><p>mail() 函数允许您从脚本中直接发送电子邮件。</p>
<p>如果电子邮件的投递被成功地接受，则返回 TRUE，否则返回 FALSE。</p>
<h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><p>mail(to,subject,message,headers,parameters)</p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">to</td>
<td align="left">必需。规定电子邮件的接收者。</td>
</tr>
<tr>
<td align="left">subject</td>
<td align="left">必需。规定电子邮件的主题。<strong>注释：</strong>该参数不能包含任何换行字符。</td>
</tr>
<tr>
<td align="left">message</td>
<td align="left">必需。定义要发送的消息。用 LF（\n）将每一行分开。行不应超过70个字符。<strong>Windows 注释：</strong>当 PHP 直接连接到 SMTP 服务器时，如果在消息的某行开头发现一个句号，则会被删掉。要解决这个问题，请将单个句号替换成两个句号： <?php $txt = str_replace("n.", "n..", $txt); ?></td>
</tr>
<tr>
<td align="left">headers</td>
<td align="left">可选。规定额外的报头，比如 From、Cc 和 Bcc。附加标头应该用 CRLF（\r\n）分开。<strong>注释：</strong>发送电子邮件时，它必须包含一个 From 标头。可通过该参数进行设置或在 php.ini 文件中进行设置。</td>
</tr>
<tr>
<td align="left">parameters</td>
<td align="left">可选。规定 sendmail 程序的额外参数（在 sendmail_path 配置设置中定义）。例如：当 sendmail 和 -f sendmail 的选项一起使用时，sendmail 可用于设置发件人地址。</td>
</tr>
</tbody></table>
<h3 id="substr-count-子序列计数"><a href="#substr-count-子序列计数" class="headerlink" title="substr_count() 子序列计数"></a>substr_count() 子序列计数</h3><p>substr_count()函数用于计数某些字符在整个字符串中出现的个数</p>
<h2 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h2><pre class="line-numbers language-php"><code class="language-php"><span class="token function">substr_count</span><span class="token punctuation">(</span>string<span class="token punctuation">,</span>substring<span class="token punctuation">,</span>start<span class="token punctuation">,</span>length<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><em>string</em></td>
<td align="left">必需。规定被检查的字符串。</td>
</tr>
<tr>
<td align="left"><em>substring</em></td>
<td align="left">必需。规定要搜索的字符串。</td>
</tr>
<tr>
<td align="left"><em>start</em></td>
<td align="left">可选。规定在字符串中何处开始搜索。</td>
</tr>
<tr>
<td align="left"><em>length</em></td>
<td align="left">可选。规定搜索的长度。</td>
</tr>
</tbody></table>
<p><strong>注释：</strong>子串是区分大小写的。</p>
<p><strong>注释：</strong>该函数不计数重叠的子串（参见例子 2）。</p>
<p><strong>注释：</strong>如果 <em>start</em> 参数加上 <em>length</em> 参数大于字符串长度，则该函数生成一个警告（参见例子 3）。</p>
<p>例一</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token variable">$a</span> <span class="token operator">=</span> <span class="token string">'abcdaabcaabaa'</span><span class="token punctuation">;</span>
<span class="token variable">$b</span> <span class="token operator">=</span> <span class="token function">substr_count</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">,</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$b</span><span class="token punctuation">;</span>
<span class="token shell-comment comment"># 7 </span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>例二</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token variable">$a</span> <span class="token operator">=</span> <span class="token string">'abcabca'</span><span class="token punctuation">;</span>
<span class="token variable">$b</span> <span class="token operator">=</span> <span class="token function">substr_count</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">,</span><span class="token string">"abca"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$b</span><span class="token punctuation">;</span>
<span class="token shell-comment comment"># 1</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>例三</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token variable">$a</span> <span class="token operator">=</span> <span class="token string">'aa'</span><span class="token punctuation">;</span>
<span class="token variable">$b</span> <span class="token operator">=</span> <span class="token function">substr_count</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">,</span><span class="token string">"a"</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$b</span><span class="token punctuation">;</span>
<span class="token shell-comment comment"># Warning: substr_count(): Offset not contained in string in D:\phpstudy_pro\WWW\1.php on line 3</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="魔术函数"><a href="#魔术函数" class="headerlink" title="魔术函数"></a>魔术函数</h2><h3 id="sleep-函数"><a href="#sleep-函数" class="headerlink" title="__sleep()函数"></a>__sleep()函数</h3><blockquote>
<p>sleep 英译：睡觉<br>执行serialize()时，先会调用这个函数<br>如果存在，则该方法会优先被调用，然后才执行序列化操作。<br>相当于一个过滤器<br>必须定义返回值</p>
<pre class="line-numbers language-php"><code class="language-php">
<span class="token keyword">class</span> <span class="token class-name">Person</span>

<span class="token punctuation">{</span>

   <span class="token keyword">public</span> <span class="token variable">$sex</span><span class="token punctuation">;</span>

   <span class="token keyword">public</span> <span class="token variable">$name</span><span class="token punctuation">;</span>

   <span class="token keyword">public</span> <span class="token variable">$age</span><span class="token punctuation">;</span>

   <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">,</span>  <span class="token variable">$age</span><span class="token operator">=</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token variable">$sex</span><span class="token operator">=</span><span class="token string">'男'</span><span class="token punctuation">)</span>

   <span class="token punctuation">{</span>

       <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">name</span> <span class="token operator">=</span> <span class="token variable">$name</span><span class="token punctuation">;</span>

       <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">age</span>  <span class="token operator">=</span> <span class="token variable">$age</span><span class="token punctuation">;</span>

       <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">sex</span>  <span class="token operator">=</span> <span class="token variable">$sex</span><span class="token punctuation">;</span>

   <span class="token punctuation">}</span>

   <span class="token comment" spellcheck="true">/**

    * @return array

    */</span>

   <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

       <span class="token keyword">echo</span> "当在类外部使用<span class="token function">serialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>时会调用这里的<span class="token function">__sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法
"<span class="token punctuation">;</span>

       <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">name</span> <span class="token operator">=</span> <span class="token function">base64_encode</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">name</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

       <span class="token keyword">return</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 这里必须返回一个数值，里边的元素表示返回的属性名称</span>

   <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token variable">$person</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'小明'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 初始赋值</span>

<span class="token keyword">echo</span> <span class="token function">serialize</span><span class="token punctuation">(</span><span class="token variable">$person</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">echo</span> '
'<span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>返回name和age，过滤了sex<br>返回结果：<br>当在类外部使用serialize()时会调用这里的__sleep()方法<br>O:6:”Person”:2:{s:4:”name”;s:8:”5bCP5piO”;s:3:”age”;i:25;}</p>
</blockquote>
<h3 id="construct-函数"><a href="#construct-函数" class="headerlink" title="__construct()函数"></a>__construct()函数</h3><blockquote>
<p>construct 译为：建造，构造、</p>
<p>当类实例化一个对象时，constaruct函数将自动调用</p>
<p>语法：</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token keyword">class</span> <span class="token class-name">a</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token variable">$name</span><span class="token punctuation">,</span><span class="token variable">$sex</span><span class="token punctuation">,</span><span class="token variable">$age</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">shu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">shu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">name</span><span class="token operator">=</span><span class="token string">'Atmujie'</span><span class="token punctuation">;</span>
        <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">sex</span><span class="token operator">=</span><span class="token string">"男"</span><span class="token punctuation">;</span>
        <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">age</span><span class="token operator">=</span><span class="token string">"19"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token variable">$new</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">a</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>jiang</p>
</blockquote>
<h3 id="wakeup-函数"><a href="#wakeup-函数" class="headerlink" title="__wakeup()函数"></a>__wakeup()函数</h3><blockquote>
<p>英译：醒醒<br>wakeup函数与sleep函数相对<br>如何有unserialize()函数进行反序列化，则先执行这个函数</p>
<pre class="line-numbers language-php"><code class="language-php">
<span class="token keyword">class</span> <span class="token class-name">Person</span>

<span class="token punctuation">{</span>

   <span class="token keyword">public</span> <span class="token variable">$sex</span><span class="token punctuation">;</span>

   <span class="token keyword">public</span> <span class="token variable">$name</span><span class="token punctuation">;</span>

   <span class="token keyword">public</span> <span class="token variable">$age</span><span class="token punctuation">;</span>

   <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">,</span>  <span class="token variable">$age</span><span class="token operator">=</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token variable">$sex</span><span class="token operator">=</span><span class="token string">'男'</span><span class="token punctuation">)</span>

   <span class="token punctuation">{</span>

       <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">name</span> <span class="token operator">=</span> <span class="token variable">$name</span><span class="token punctuation">;</span>

       <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">age</span>  <span class="token operator">=</span> <span class="token variable">$age</span><span class="token punctuation">;</span>

       <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">sex</span>  <span class="token operator">=</span> <span class="token variable">$sex</span><span class="token punctuation">;</span>

   <span class="token punctuation">}</span>

   <span class="token comment" spellcheck="true">/**

    * @return array

    */</span>

   <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

       <span class="token keyword">echo</span> "当在类外部使用<span class="token function">serialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>时会调用这里的<span class="token function">__sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法
"<span class="token punctuation">;</span>

       <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">name</span> <span class="token operator">=</span> <span class="token function">base64_encode</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">name</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

       <span class="token keyword">return</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 这里必须返回一个数值，里边的元素表示返回的属性名称</span>

   <span class="token punctuation">}</span>

   <span class="token comment" spellcheck="true">/**

    * __wakeup

    */</span>

   <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__wakeup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

       <span class="token keyword">echo</span> "当在类外部使用<span class="token function">unserialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>时会调用这里的<span class="token function">__wakeup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法
"<span class="token punctuation">;</span>

       <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">name</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

       <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">sex</span> <span class="token operator">=</span> <span class="token string">'男'</span><span class="token punctuation">;</span>

       <span class="token comment" spellcheck="true">// 这里不需要返回数组</span>

   <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token variable">$person</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'小明'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 初始赋值</span>

<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">serialize</span><span class="token punctuation">(</span><span class="token variable">$person</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">unserialize</span><span class="token punctuation">(</span><span class="token function">serialize</span><span class="token punctuation">(</span><span class="token variable">$person</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>wakeup重新定义了name的值，无需返回</p>
<p>运行结果：</p>
<p>当在类外部使用serialize()时会调用这里的__sleep()方法</p>
<p>string(58) “O:6:”Person”:2:{s:4:”name”;s:8:”5bCP5piO”;s:3:”age”;i:25;}” 当在类外部使用serialize()时会调用这里的__sleep()方法</p>
<p>当在类外部使用unserialize()时会调用这里的__wakeup()方法</p>
<p>object(Person)#2 (3) { [“sex”]=&gt; string(3) “男” [“name”]=&gt; int(2) [“age”]=&gt; int(25) }</p>
</blockquote>
<h3 id="invoke-函数"><a href="#invoke-函数" class="headerlink" title="__invoke()函数"></a>__invoke()函数</h3><blockquote>
<p>当尝试以调用函数的方式调用一个对象时，__invoke() 方法会被自动调用。</p>
<pre class="line-numbers language-php"><code class="language-php">
<span class="token keyword">class</span> <span class="token class-name">Person</span>

<span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token variable">$sex</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token variable">$name</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token variable">$age</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">,</span>  <span class="token variable">$age</span><span class="token operator">=</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token variable">$sex</span><span class="token operator">=</span><span class="token string">'男'</span><span class="token punctuation">)</span>

    <span class="token punctuation">{</span>

        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">name</span> <span class="token operator">=</span> <span class="token variable">$name</span><span class="token punctuation">;</span>

        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">age</span>  <span class="token operator">=</span> <span class="token variable">$age</span><span class="token punctuation">;</span>

        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">sex</span>  <span class="token operator">=</span> <span class="token variable">$sex</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__invoke</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">echo</span> <span class="token string">'这可是一个对象哦'</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token variable">$person</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'小明'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 初始赋值</span>

<span class="token variable">$person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//类不是函数，不能以这种方式输出，应使用 echo $person;</span>
<span class="token comment" spellcheck="true">//结果：这可是一个对象哦</span>
<span class="token comment" spellcheck="true">//如果没有__invoke(),仍当方法使用，就会报错</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h3 id="toString-函数"><a href="#toString-函数" class="headerlink" title="__toString()函数"></a>__toString()函数</h3><blockquote>
<p>可以用来返回表示对象的字符串信息，一旦定义，打印命令将调用它并打印出返回的字符串。</p>
<p>__toString() 方法用于一个类被当成字符串时应怎样回应。例如 <code>echo $obj;</code> 应该显示些什么。</p>
<p>当类被当作字符串执行时使用</p>
</blockquote>
<h3 id="set-函数"><a href="#set-函数" class="headerlink" title="__set()函数"></a>__set()函数</h3><blockquote>
<p>给一个未定义的变量赋值时触发</p>
</blockquote>
<h3 id="call-函数"><a href="#call-函数" class="headerlink" title="__call()函数"></a>__call()函数</h3><blockquote>
<p>试着调用一个对象中不存在或被权限控制中的方法，__call 方法将会被自动调用。</p>
</blockquote>
<h3 id="get-函数"><a href="#get-函数" class="headerlink" title="__get()函数"></a>__get()函数</h3><blockquote>
<p>在 php 面向对象编程中，类的成员属性被设定为 private 后，如果我们试图在外面调用它则会出现“不能访问某个私有属性”的错误。那么为了解决这个问题，我们可以使用魔术方法 __get()。</p>
<p>在程序运行过程中，通过它可以在对象的外部获取私有成员属性的值。</p>
<pre class="line-numbers language-php"><code class="language-php">
<span class="token keyword">class</span> <span class="token class-name">Person</span>

<span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token variable">$name</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token variable">$age</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">,</span> <span class="token variable">$age</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>

    <span class="token punctuation">{</span>

        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">name</span> <span class="token operator">=</span> <span class="token variable">$name</span><span class="token punctuation">;</span>

        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">age</span> <span class="token operator">=</span> <span class="token variable">$age</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**

     * 在类中添加__get()方法，在直接获取属性值时自动调用一次，以属性名作为参数传入并处理

     * @param $propertyName

     *

     * @return int

     */</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__get</span><span class="token punctuation">(</span><span class="token variable">$propertyName</span><span class="token punctuation">)</span>

    <span class="token punctuation">{</span>  

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$propertyName</span> <span class="token operator">==</span> <span class="token string">"age"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">age</span> <span class="token operator">></span> <span class="token number">30</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

                <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">age</span> <span class="token operator">-</span> <span class="token number">10</span><span class="token punctuation">;</span>

            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

                <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token variable">$propertyName</span><span class="token punctuation">;</span>

            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

            <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token variable">$propertyName</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token variable">$Person</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"小明"</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">// 通过Person类实例化的对象，并通过构造方法为属性赋初值</span>

<span class="token keyword">echo</span> <span class="token string">"姓名："</span> <span class="token punctuation">.</span> <span class="token variable">$Person</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">name</span> <span class="token punctuation">.</span> <span class="token string">"&lt;br/>"</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">// 直接访问私有属性name，自动调用了__get()方法可以间接获取</span>

<span class="token keyword">echo</span> <span class="token string">"年龄："</span> <span class="token punctuation">.</span> <span class="token variable">$Person</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">age</span> <span class="token punctuation">.</span> <span class="token string">"&lt;br/>"</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 自动调用了__get()方法，根据对象本身的情况会返回不同的</span>
<span class="token comment" spellcheck="true">//姓名：小明</span>
<span class="token comment" spellcheck="true">//年龄：50</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h2 id="魔术常量"><a href="#魔术常量" class="headerlink" title="魔术常量"></a>魔术常量</h2><h3 id="FILE常量"><a href="#FILE常量" class="headerlink" title="FILE常量"></a>FILE常量</h3><blockquote>
<pre class="line-numbers language-php"><code class="language-php"><span class="token constant">__FILE__</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>//返回当前文件的绝对路径<br>结果如：D:\www\1.php  </p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token function">dirname</span><span class="token punctuation">(</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>//返回当前文件的上一级目录<br>结果如：D:\www<br>返回更上级可写为：</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token function">dirname</span><span class="token punctuation">(</span><span class="token function">dirname</span><span class="token punctuation">(</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</blockquote>
<h2 id="超全局变量"><a href="#超全局变量" class="headerlink" title="超全局变量"></a>超全局变量</h2><h3 id="GLOBALS"><a href="#GLOBALS" class="headerlink" title="$GLOBALS"></a>$GLOBALS</h3><blockquote>
<p>$GLOBALS — 引用全局作用域中可用的全部变量</p>
</blockquote>
<p>例如：</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$foo</span> <span class="token operator">=</span> <span class="token string">"local variable"</span><span class="token punctuation">;</span>

    <span class="token keyword">echo</span> <span class="token string">'$foo in global scope: '</span> <span class="token punctuation">.</span> <span class="token variable">$GLOBALS</span><span class="token punctuation">[</span><span class="token string">"foo"</span><span class="token punctuation">]</span> <span class="token punctuation">.</span> <span class="token string">"\n"</span><span class="token punctuation">;</span>
    <span class="token keyword">echo</span> <span class="token string">'$foo in current scope: '</span> <span class="token punctuation">.</span> <span class="token variable">$foo</span> <span class="token punctuation">.</span> <span class="token string">"\n"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token variable">$foo</span> <span class="token operator">=</span> <span class="token string">"Example content"</span><span class="token punctuation">;</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>其在脚本的所有作用域中都是可用的。不需要在函数或方法中用 <strong>global $variable;</strong> 来访问它。</p>
<h3 id="SESSION"><a href="#SESSION" class="headerlink" title="$_SESSION[ ]"></a>$_SESSION[ ]</h3><blockquote>
<p>Session的中文是会话的意思，在Web编程中Session代表服务器与客户端之间的“会话”，意思是服务器与客户端在不断的交流。<br>在PHP中，使用$_SESSION[]可以存储特定用户的Session信息。并且每个用户的Session信息都是不同的。</p>
</blockquote>
<p>当用户请求网站中任意一个页面时，若用户未建立Session对象，则服务器会自动为用户创建一个Session对象，它包含唯一的SessionID和其他Session变量，并保存在服务器内存中，不同用户的Session对象存着各自指定的信息。</p>
<p>session_start(); //开启Session功能<br>session_id();//获取用户Session ID值，如需修改在括号中传值即可</p>
<p>例如：**$_SESSION[‘id’] = $id**</p>
<p>意为将用户的id赋值给变量$id</p>
<h3 id="SERVER"><a href="#SERVER" class="headerlink" title="$_SERVER"></a>$_SERVER</h3><blockquote>
<p>servers是一个包含了诸如头信息(header)、路径(path)、以及脚本位置(script locations)等等信息的数组。这个数组中的项目由 Web 服务器创建。</p>
</blockquote>
<p>以下摘自官方文档</p>
<h4 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h4><p>在 $_SERVER 中，你也许能够，也许不能够找到下面的这些元素。注意，如果以<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/features.commandline.php">命令行</a>方式运行 PHP，下面列出的元素几乎没有有效的(或是没有任何实际意义的)。</p>
<ul>
<li><p>‘PHP_SELF’</p>
<p>  当前执行脚本的文件名，与 document root 有关。例如，在地址为 <a target="_blank" rel="noopener" href="http://example.com/foo/bar.php">http://example.com/foo/bar.php</a> 的脚本中使用 $_SERVER[‘PHP_SELF’] 将得到 /foo/bar.php。<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/language.constants.predefined.php"><strong>FILE</strong></a> 常量包含当前(例如包含)文件的完整路径和文件名。 如果 PHP 以命令行模式运行，这个变量将包含脚本名。</p>
</li>
<li><p>‘<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/reserved.variables.argv.php">argv</a>‘</p>
<p>  传递给该脚本的参数的数组。当脚本以命令行方式运行时，argv 变量传递给程序 C 语言样式的命令行参数。当通过 GET 方式调用时，该变量包含query string。</p>
</li>
<li><p>‘<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/reserved.variables.argc.php">argc</a>‘</p>
<p>  包含命令行模式下传递给该脚本的参数的数目(如果运行在命令行模式下)。</p>
</li>
<li><p>‘GATEWAY_INTERFACE’</p>
<p>  服务器使用的 CGI 规范的版本；例如，“<code>CGI/1.1</code>”。</p>
</li>
<li><p>‘SERVER_ADDR’</p>
<p>  当前运行脚本所在的服务器的 IP 地址。</p>
</li>
<li><p>‘SERVER_NAME’</p>
<p>  当前运行脚本所在的服务器的主机名。如果脚本运行于虚拟主机中，该名称是由那个虚拟主机所设置的值决定。<strong>注意</strong>: 在 Apache 2 里，必须设置 <code>UseCanonicalName = On</code> 和 <code>ServerName</code>。 否则该值会由客户端提供，就有可能被伪造。 上下文有安全性要求的环境里，不应该依赖此值。</p>
</li>
<li><p>‘SERVER_SOFTWARE’</p>
<p>  服务器标识字符串，在响应请求时的头信息中给出。</p>
</li>
<li><p>‘SERVER_PROTOCOL’</p>
<p>  请求页面时通信协议的名称和版本。例如，“HTTP/1.0”。</p>
</li>
<li><p>‘REQUEST_METHOD’</p>
<p>  访问页面使用的请求方法；例如，“<code>GET</code>”, “<code>HEAD</code>”，“<code>POST</code>”，“<code>PUT</code>”。<strong>注意</strong>:如果请求方法为 <code>HEAD</code>，PHP 脚本将在发送 Header 头信息之后终止(这意味着在产生任何输出后，不再有输出缓冲)。</p>
</li>
<li><p>‘REQUEST_TIME’</p>
<p>  请求开始时的时间戳。</p>
</li>
<li><p>‘REQUEST_TIME_FLOAT’</p>
<p>  请求开始时的时间戳，微秒级别的精准度。</p>
</li>
<li><p>‘QUERY_STRING’</p>
<p>  query string（查询字符串），如果有的话，通过它进行页面访问。</p>
</li>
<li><p>‘DOCUMENT_ROOT’</p>
<p>  当前运行脚本所在的文档根目录。在服务器配置文件中定义。</p>
</li>
<li><p>‘HTTP_ACCEPT’</p>
<p>  当前请求头中 <code>Accept:</code> 项的内容，如果存在的话。</p>
</li>
<li><p>‘HTTP_ACCEPT_CHARSET’</p>
<p>  当前请求头中 <code>Accept-Charset:</code> 项的内容，如果存在的话。例如：“<code>iso-8859-1,*,utf-8</code>”。</p>
</li>
<li><p>‘HTTP_ACCEPT_ENCODING’</p>
<p>  当前请求头中 <code>Accept-Encoding:</code> 项的内容，如果存在的话。例如：“<code>gzip</code>”。</p>
</li>
<li><p>‘HTTP_ACCEPT_LANGUAGE’</p>
<p>  当前请求头中 <code>Accept-Language:</code> 项的内容，如果存在的话。例如：“<code>en</code>”。</p>
</li>
<li><p>‘HTTP_CONNECTION’</p>
<p>  当前请求头中 <code>Connection:</code> 项的内容，如果存在的话。例如：“<code>Keep-Alive</code>”。</p>
</li>
<li><p>‘HTTP_HOST’</p>
<p>  当前请求头中 <code>Host:</code> 项的内容，如果存在的话。</p>
</li>
<li><p>‘HTTP_REFERER’</p>
<p>  引导用户代理到当前页的前一页的地址（如果存在）。由 user agent 设置决定。并不是所有的用户代理都会设置该项，有的还提供了修改 HTTP_REFERER 的功能。简言之，该值并不可信。</p>
</li>
<li><p>‘HTTP_USER_AGENT’</p>
<p>  当前请求头中 <code>User-Agent:</code> 项的内容，如果存在的话。该字符串表明了访问该页面的用户代理的信息。一个典型的例子是：Mozilla/4.5 [en] (X11; U; Linux 2.2.9 i586)。除此之外，你可以通过 <a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/function.get-browser.php">get_browser()</a> 来使用该值，从而定制页面输出以便适应用户代理的性能。</p>
</li>
<li><p>‘HTTPS’</p>
<p>  如果脚本是通过 HTTPS 协议被访问，则被设为一个非空的值。</p>
</li>
<li><p>‘REMOTE_ADDR’</p>
<p>  浏览当前页面的用户的 IP 地址。</p>
</li>
<li><p>‘REMOTE_HOST’</p>
<p>  浏览当前页面的用户的主机名。DNS 反向解析不依赖于用户的 REMOTE_ADDR。<strong>注意</strong>: 你的服务器必须被配置以便产生这个变量。例如在 Apache 中，你需要在 httpd.conf 中设置 <code>HostnameLookups On</code> 来产生它。参见 <a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/function.gethostbyaddr.php">gethostbyaddr()</a>。</p>
</li>
<li><p>‘REMOTE_PORT’</p>
<p>  用户机器上连接到 Web 服务器所使用的端口号。</p>
</li>
<li><p>‘REMOTE_USER’</p>
<p>  经验证的用户</p>
</li>
<li><p>‘REDIRECT_REMOTE_USER’</p>
<p>  验证的用户，如果请求已在内部重定向。</p>
</li>
<li><p>‘SCRIPT_FILENAME’</p>
<p>  当前执行脚本的绝对路径。<strong>注意</strong>:如果在命令行界面（Command Line Interface, CLI）使用相对路径执行脚本，例如 file.php 或 ../file.php，那么 $_SERVER[‘SCRIPT_FILENAME’] 将包含用户指定的相对路径。</p>
</li>
<li><p>‘SERVER_ADMIN’</p>
<p>  该值指明了 Apache 服务器配置文件中的 SERVER_ADMIN 参数。如果脚本运行在一个虚拟主机上，则该值是那个虚拟主机的值。</p>
</li>
<li><p>‘SERVER_PORT’</p>
<p>  Web 服务器使用的端口。默认值为 “<code>80</code>”。如果使用 SSL 安全连接，则这个值为用户设置的 HTTP 端口。<strong>注意</strong>: 在 Apache 2 里，为了获取真实物理端口，必须设置 <code>UseCanonicalName = On</code> 以及 <code>UseCanonicalPhysicalPort = On</code>。 否则此值可能被伪造，不一定会返回真实端口值。 上下文有安全性要求的环境里，不应该依赖此值。</p>
</li>
<li><p>‘SERVER_SIGNATURE’</p>
<p>  包含了服务器版本和虚拟主机名的字符串。</p>
</li>
<li><p>‘PATH_TRANSLATED’</p>
<p>  当前脚本所在文件系统（非文档根目录）的基本路径。这是在服务器进行虚拟到真实路径的映像后的结果。<strong>注意</strong>: Apache 2 用户可以在 httpd.conf 中设置 <code>AcceptPathInfo = On</code> 来定义 PATH_INFO。</p>
</li>
<li><p>‘SCRIPT_NAME’</p>
<p>  包含当前脚本的路径。这在页面需要指向自己时非常有用。<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/language.constants.predefined.php"><strong>FILE</strong></a> 常量包含当前脚本(例如包含文件)的完整路径和文件名。</p>
</li>
<li><p>‘REQUEST_URI’</p>
<p>  URI 用来指定要访问的页面。例如 “<code>/index.html</code>”。</p>
</li>
<li><p>‘PHP_AUTH_DIGEST’</p>
<p>  当作为 Apache 模块运行时，进行 HTTP Digest 认证的过程中，此变量被设置成客户端发送的“Authorization” HTTP 头内容（以便作进一步的认证操作）。</p>
</li>
<li><p>‘PHP_AUTH_USER’</p>
<p>  当 PHP 运行在 Apache 或 IIS（PHP 5 是 ISAPI）模块方式下，并且正在使用 HTTP 认证功能，这个变量便是用户输入的用户名。</p>
</li>
<li><p>‘PHP_AUTH_PW’</p>
<p>  当 PHP 运行在 Apache 或 IIS（PHP 5 是 ISAPI）模块方式下，并且正在使用 HTTP 认证功能，这个变量便是用户输入的密码。</p>
</li>
<li><p>‘AUTH_TYPE’</p>
<p>  当 PHP 运行在 Apache 模块方式下，并且正在使用 HTTP 认证功能，这个变量便是认证的类型。</p>
</li>
<li><p>‘PATH_INFO’</p>
<p>  包含由客户端提供的、跟在真实脚本名称之后并且在查询语句（query string）之前的路径信息，如果存在的话。例如，如果当前脚本是通过 URL <a target="_blank" rel="noopener" href="http://www.example.com/php/path_info.php/some/stuff?foo=bar">http://www.example.com/php/path_info.php/some/stuff?foo=bar</a> 被访问，那么 $_SERVER[‘PATH_INFO’] 将包含 <code>/some/stuff</code>。</p>
</li>
<li><p>‘ORIG_PATH_INFO’</p>
<p>  在被 PHP 处理之前，“PATH_INFO” 的原始版本。</p>
</li>
</ul>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token variable">$indicesServer</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string">'PHP_SELF'</span><span class="token punctuation">,</span>
<span class="token string">'argv'</span><span class="token punctuation">,</span>
<span class="token string">'argc'</span><span class="token punctuation">,</span>
<span class="token string">'GATEWAY_INTERFACE'</span><span class="token punctuation">,</span>
<span class="token string">'SERVER_ADDR'</span><span class="token punctuation">,</span>
<span class="token string">'SERVER_NAME'</span><span class="token punctuation">,</span>
<span class="token string">'SERVER_SOFTWARE'</span><span class="token punctuation">,</span>
<span class="token string">'SERVER_PROTOCOL'</span><span class="token punctuation">,</span>
<span class="token string">'REQUEST_METHOD'</span><span class="token punctuation">,</span>
<span class="token string">'REQUEST_TIME'</span><span class="token punctuation">,</span>
<span class="token string">'REQUEST_TIME_FLOAT'</span><span class="token punctuation">,</span>
<span class="token string">'QUERY_STRING'</span><span class="token punctuation">,</span>
<span class="token string">'DOCUMENT_ROOT'</span><span class="token punctuation">,</span>
<span class="token string">'HTTP_ACCEPT'</span><span class="token punctuation">,</span>
<span class="token string">'HTTP_ACCEPT_CHARSET'</span><span class="token punctuation">,</span>
<span class="token string">'HTTP_ACCEPT_ENCODING'</span><span class="token punctuation">,</span>
<span class="token string">'HTTP_ACCEPT_LANGUAGE'</span><span class="token punctuation">,</span>
<span class="token string">'HTTP_CONNECTION'</span><span class="token punctuation">,</span>
<span class="token string">'HTTP_HOST'</span><span class="token punctuation">,</span>
<span class="token string">'HTTP_REFERER'</span><span class="token punctuation">,</span>
<span class="token string">'HTTP_USER_AGENT'</span><span class="token punctuation">,</span>
<span class="token string">'HTTPS'</span><span class="token punctuation">,</span>
<span class="token string">'REMOTE_ADDR'</span><span class="token punctuation">,</span>
<span class="token string">'REMOTE_HOST'</span><span class="token punctuation">,</span>
<span class="token string">'REMOTE_PORT'</span><span class="token punctuation">,</span>
<span class="token string">'REMOTE_USER'</span><span class="token punctuation">,</span>
<span class="token string">'REDIRECT_REMOTE_USER'</span><span class="token punctuation">,</span>
<span class="token string">'SCRIPT_FILENAME'</span><span class="token punctuation">,</span>
<span class="token string">'SERVER_ADMIN'</span><span class="token punctuation">,</span>
<span class="token string">'SERVER_PORT'</span><span class="token punctuation">,</span>
<span class="token string">'SERVER_SIGNATURE'</span><span class="token punctuation">,</span>
<span class="token string">'PATH_TRANSLATED'</span><span class="token punctuation">,</span>
<span class="token string">'SCRIPT_NAME'</span><span class="token punctuation">,</span>
<span class="token string">'REQUEST_URI'</span><span class="token punctuation">,</span>
<span class="token string">'PHP_AUTH_DIGEST'</span><span class="token punctuation">,</span>
<span class="token string">'PHP_AUTH_USER'</span><span class="token punctuation">,</span>
<span class="token string">'PHP_AUTH_PW'</span><span class="token punctuation">,</span>
<span class="token string">'AUTH_TYPE'</span><span class="token punctuation">,</span>
<span class="token string">'PATH_INFO'</span><span class="token punctuation">,</span>
<span class="token string">'ORIG_PATH_INFO'</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>

<span class="token keyword">echo</span> <span class="token string">'&lt;table cellpadding="10">'</span> <span class="token punctuation">;</span>
<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$indicesServer</span> <span class="token keyword">as</span> <span class="token variable">$arg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//遍历数组</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isset</span><span class="token punctuation">(</span><span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token variable">$arg</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token string">'&lt;tr>&lt;td>'</span><span class="token punctuation">.</span><span class="token variable">$arg</span><span class="token punctuation">.</span><span class="token string">'&lt;/td>&lt;td>'</span> <span class="token punctuation">.</span> <span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token variable">$arg</span><span class="token punctuation">]</span> <span class="token punctuation">.</span> <span class="token string">'&lt;/td>&lt;/tr>'</span> <span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token string">'&lt;tr>&lt;td>'</span><span class="token punctuation">.</span><span class="token variable">$arg</span><span class="token punctuation">.</span><span class="token string">'&lt;/td>&lt;td>-&lt;/td>&lt;/tr>'</span> <span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">echo</span> <span class="token string">'&lt;/table>'</span> <span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/*

That will give you the result of each variable like (if the file is server_indices.php at the root and Apache Web directory is in E:\web) :

PHP_SELF    /server_indices.php
argv    -
argc    -
GATEWAY_INTERFACE    CGI/1.1
SERVER_ADDR    127.0.0.1
SERVER_NAME    localhost
SERVER_SOFTWARE    Apache/2.2.22 (Win64) PHP/5.3.13
SERVER_PROTOCOL    HTTP/1.1
REQUEST_METHOD    GET
REQUEST_TIME    1361542579
REQUEST_TIME_FLOAT    -
QUERY_STRING   
DOCUMENT_ROOT    E:/web/
HTTP_ACCEPT    text/html,application/xhtml+xml,application/xml;q=0.9,*/</span><span class="token operator">*</span><span class="token punctuation">;</span>q<span class="token operator">=</span><span class="token number">0.8</span>
<span class="token constant">HTTP_ACCEPT_CHARSET</span>    <span class="token constant">ISO</span><span class="token number">-8859</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>utf<span class="token number">-8</span><span class="token punctuation">;</span>q<span class="token operator">=</span><span class="token number">0.7</span><span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">;</span>q<span class="token operator">=</span><span class="token number">0.3</span>
<span class="token constant">HTTP_ACCEPT_ENCODING</span>    gzip<span class="token punctuation">,</span>deflate<span class="token punctuation">,</span>sdch
<span class="token constant">HTTP_ACCEPT_LANGUAGE</span>    fr<span class="token operator">-</span><span class="token constant">FR</span><span class="token punctuation">,</span>fr<span class="token punctuation">;</span>q<span class="token operator">=</span><span class="token number">0.8</span><span class="token punctuation">,</span>en<span class="token operator">-</span><span class="token constant">US</span><span class="token punctuation">;</span>q<span class="token operator">=</span><span class="token number">0.6</span><span class="token punctuation">,</span>en<span class="token punctuation">;</span>q<span class="token operator">=</span><span class="token number">0.4</span>
<span class="token constant">HTTP_CONNECTION</span>    keep<span class="token operator">-</span>alive
<span class="token constant">HTTP_HOST</span>    localhost
<span class="token constant">HTTP_REFERER</span>    http<span class="token punctuation">:</span><span class="token comment" spellcheck="true">//localhost/</span>
<span class="token constant">HTTP_USER_AGENT</span>    Mozilla<span class="token operator">/</span><span class="token number">5</span><span class="token punctuation">.</span><span class="token function">0</span> <span class="token punctuation">(</span>Windows <span class="token constant">NT</span> <span class="token number">6.1</span><span class="token punctuation">;</span> <span class="token constant">WOW64</span><span class="token punctuation">)</span> AppleWebKit<span class="token operator">/</span><span class="token number">537</span><span class="token punctuation">.</span><span class="token function">17</span> <span class="token punctuation">(</span><span class="token constant">KHTML</span><span class="token punctuation">,</span> like Gecko<span class="token punctuation">)</span> Chrome<span class="token operator">/</span><span class="token number">24.0</span><span class="token punctuation">.</span><span class="token number">1312.57</span> Safari<span class="token operator">/</span><span class="token number">537.17</span>
<span class="token constant">HTTPS</span>    <span class="token operator">-</span>
<span class="token constant">REMOTE_ADDR</span>    <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span>
<span class="token constant">REMOTE_HOST</span>    <span class="token operator">-</span>
<span class="token constant">REMOTE_PORT</span>    <span class="token number">65037</span>
<span class="token constant">REMOTE_USER</span>    <span class="token operator">-</span>
<span class="token constant">REDIRECT_REMOTE_USER</span>    <span class="token operator">-</span>
<span class="token constant">SCRIPT_FILENAME</span>    E<span class="token punctuation">:</span><span class="token operator">/</span>web<span class="token operator">/</span>server_indices<span class="token punctuation">.</span>php
<span class="token constant">SERVER_ADMIN</span>    myemail@personal<span class="token punctuation">.</span>us
<span class="token constant">SERVER_PORT</span>    <span class="token number">80</span>
<span class="token constant">SERVER_SIGNATURE</span>   
<span class="token constant">PATH_TRANSLATED</span>    <span class="token operator">-</span>
<span class="token constant">SCRIPT_NAME</span>    <span class="token operator">/</span>server_indices<span class="token punctuation">.</span>php
<span class="token constant">REQUEST_URI</span>    <span class="token operator">/</span>server_indices<span class="token punctuation">.</span>php
<span class="token constant">PHP_AUTH_DIGEST</span>    <span class="token operator">-</span>
<span class="token constant">PHP_AUTH_USER</span>    <span class="token operator">-</span>
<span class="token constant">PHP_AUTH_PW</span>    <span class="token operator">-</span>
<span class="token constant">AUTH_TYPE</span>    <span class="token operator">-</span>
<span class="token constant">PATH_INFO</span>    <span class="token operator">-</span>
<span class="token constant">ORIG_PATH_INFO</span>    <span class="token operator">-</span>

<span class="token operator">*</span><span class="token operator">/</span>
<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="files"><a href="#files" class="headerlink" title="$_files"></a>$_files</h3><blockquote>
<p><strong>$_FILES 是一个预定义的数组，用来获取通过 POST 方法上传文件的相关信息</strong></p>
<p>如果为单个文件上传，那么 $_FILES 为二维数组；如果为多个文件上传，那么 $_FILES 为三维数组。</p>
</blockquote>
<pre class="line-numbers language-php"><code class="language-php"><span class="token keyword">Array</span>
<span class="token punctuation">(</span>
    <span class="token punctuation">[</span>userfile<span class="token punctuation">]</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">Array</span>
    <span class="token punctuation">(</span>
        <span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span><span class="token operator">></span> Screen Shot <span class="token number">2016</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">12</span> at <span class="token number">18.13</span><span class="token punctuation">.</span><span class="token number">24</span><span class="token punctuation">.</span>png
        <span class="token punctuation">[</span>type<span class="token punctuation">]</span> <span class="token operator">=</span><span class="token operator">></span> image<span class="token operator">/</span>png
        <span class="token punctuation">[</span>tmp_name<span class="token punctuation">]</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">/</span><span class="token keyword">private</span><span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>tmp<span class="token operator">/</span>phplVHp3W
        <span class="token punctuation">[</span>error<span class="token punctuation">]</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">0</span>
        <span class="token punctuation">[</span>size<span class="token punctuation">]</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">344925</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span>
    <span class="token comment" spellcheck="true">//单个文件</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="phpinfo-详解"><a href="#phpinfo-详解" class="headerlink" title="phpinfo()详解"></a>phpinfo()详解</h2><h3 id="disable-functions-禁用函数"><a href="#disable-functions-禁用函数" class="headerlink" title="disable_functions 禁用函数"></a>disable_functions 禁用函数</h3><p>为了安全,运维人员会禁用PHP的一些“危险”函数,将其写在php.ini配置文件中,就是我们所说的disable_functions了。</p>
<h3 id="绕过方式分类"><a href="#绕过方式分类" class="headerlink" title="绕过方式分类"></a><strong>绕过方式分类</strong></h3><ul>
<li>常规绕过：exec,shell_exec,system,passthru,popen,proc_open</li>
<li>利用环境变量LD_PRELOAD绕过(★)：mail,imap_mail,error_log,mb_send_mail</li>
<li>利用pcntl_exec绕过</li>
<li>利用imap_open函数任意命令执行(CVE-2018-19518)</li>
<li>利用系统组件window com绕过</li>
<li>利用Apache+mod_cgi+.htaccess绕过</li>
<li>利用ImageMagick漏洞绕过利用PHP7.4的FFI绕过</li>
<li>利用 ShellShock绕过(CVE-2014-6271)</li>
<li>蚁剑插件</li>
</ul>
<p>不在此做讲解</p>
<h3 id="script-filename-网站绝对路径"><a href="#script-filename-网站绝对路径" class="headerlink" title="script_filename 网站绝对路径"></a>script_filename 网站绝对路径</h3><p>pgpinfo()中script_filename 说明网站所在的绝对路径</p>
<p><img src="image-20210530161805446.png" alt="image-20210530161805446"></p>
<h3 id="Protocols-支持的协议"><a href="#Protocols-支持的协议" class="headerlink" title="Protocols 支持的协议"></a><strong>Protocols</strong> 支持的协议</h3><p><img src="image-20210530161932969.png" alt="image-20210530161932969"></p>
<p><strong>可以看到的有file://伪协议，Gopher信息查找系统（这个协议存在ssrf漏洞），telnet远程连接</strong></p>
<h3 id="server-addr-ip地址泄露"><a href="#server-addr-ip地址泄露" class="headerlink" title="server_addr ip地址泄露"></a>server_addr ip地址泄露</h3><p><img src="image-20210530161744131.png" alt="image-20210530161744131"></p>
<h3 id="fastcgi-解析，命令执行，文件读取漏洞"><a href="#fastcgi-解析，命令执行，文件读取漏洞" class="headerlink" title="fastcgi 解析，命令执行，文件读取漏洞"></a><strong>fastcgi</strong> 解析，命令执行，文件读取漏洞</h3><p>查看是否开启fastcgi和fastcgi的版本，可能导致解析漏洞、远程命令执行、任意文件读取等问题</p>
<p><img src="image-20210530162359768.png" alt="image-20210530162359768"></p>
<h3 id="file-查看文件详情"><a href="#file-查看文件详情" class="headerlink" title="file 查看文件详情"></a>file 查看文件详情</h3><p><strong>其中file1会泄漏缓存文件地址</strong></p>
<p><img src="image-20210530162724685.png" alt="image-20210530162724685"></p>
<h3 id="allow-url-include远程文件包含"><a href="#allow-url-include远程文件包含" class="headerlink" title="allow_url_include远程文件包含"></a>allow_url_include远程文件包含</h3><p><img src="image-20210530162851262.png" alt="image-20210530162851262"></p>
<h3 id="apache-log-dir-阿帕奇日志目录"><a href="#apache-log-dir-阿帕奇日志目录" class="headerlink" title="apache_log_dir 阿帕奇日志目录"></a>apache_log_dir 阿帕奇日志目录</h3><p><img src="image-20210530163107109.png" alt="image-20210530163107109"></p>
<h3 id="open-basedir-打开文件限制"><a href="#open-basedir-打开文件限制" class="headerlink" title="open_basedir 打开文件限制"></a>open_basedir 打开文件限制</h3><p>将<a target="_blank" rel="noopener" href="http://lib.csdn.net/base/php">PHP</a>所能打开的文件限制在指定的目录树中，包括文件本身。当程序要使用例如fopen()或file_get_contents()打开一个文件时，这个文件的位置将会被检查。当文件在指定的目录树之外，程序将拒绝打开。</p>
<h4 id="设置方法"><a href="#设置方法" class="headerlink" title="设置方法"></a>设置方法</h4><p><strong>1.在<a target="_blank" rel="noopener" href="http://lib.csdn.net/base/php">php</a>.ini 加入</strong></p>
<pre class="line-numbers language-php"><code class="language-php">open_basedir<span class="token operator">=</span><span class="token string">"指定目录"</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><strong>2.在程序中使用</strong></p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token function">ini_set</span><span class="token punctuation">(</span><span class="token string">'open_basedir'</span><span class="token punctuation">,</span> <span class="token string">'指定目录'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>但不建议使用这种方法</p>
<p><strong>3.在apache的httpd.conf中的Directory配置</strong></p>
<pre class="line-numbers language-php"><code class="language-php">php_admin_value open_basedir <span class="token string">"指定目录"</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><strong>httpd.conf中的VritualHost</strong></p>
<pre class="line-numbers language-php"><code class="language-php">php_admin_value open_basedir <span class="token string">"指定目录"</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><strong>4.nginx fastcgi.conf</strong></p>
<pre class="line-numbers language-php"><code class="language-php">fastcgi_param <span class="token constant">PHP_VALUE</span> <span class="token string">"open_basedir=指定目录"</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="一些敏感配置"><a href="#一些敏感配置" class="headerlink" title="一些敏感配置"></a><strong>一些敏感配置</strong></h3><p><strong>allow_url_include、allow_url_fopen、disable_functions、open_basedir、short_open_tag等等</strong></p>
<p><strong>比如allow_url_include可用来远程文件包含、disable_functions用来查看禁用函数，绕过执行、查看是否开启open_basedir，用p牛的绕过open_basedir的方法有可能能读一些没权限的目录等等。</strong></p>
<p><strong>此外还能获取一些环境信息，比如Environment中的path、log等</strong></p>
<h2 id="封协议——伪协议："><a href="#封协议——伪协议：" class="headerlink" title="封协议——伪协议："></a>封协议——伪协议：</h2><p>PHP 带有很多内置 URL 风格的封装协议，可用于类似 fopen() 、 copy() 、 file_exists() 和 filesize() 的文件系统函数。 除了这些封装协议，还能通过 <strong>stream_wrapper_register()</strong> 来注册自定义的封装协议。</p>
<p><img src="image-20210602203224119.png" alt="image-20210602203224119"></p>
<h3 id="data"><a href="#data" class="headerlink" title="data://"></a>data://</h3><p>语法：data:// — 数据（RFC 2397）</p>
<p>自 PHP 5.2.0 起 data:（» RFC 2397）数据流封装器开始有效。</p>
<p><strong>格式：data://封装格式;编码格式,字符串</strong></p>
<p>封装格式一般为 </p>
<ul>
<li>text/html</li>
<li>text/plain</li>
<li>image/jpeg</li>
</ul>
<p>等文件上传种常见的类型，表示将字符串封装为此格式的字节流</p>
<p>编码一般为base64</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token variable">$jpegimage</span> <span class="token operator">=</span> <span class="token function">imagecreatefromjpeg</span><span class="token punctuation">(</span>"data<span class="token punctuation">:</span><span class="token comment" spellcheck="true">//image/jpeg;base64," . base64_encode($sql_result_array['imagedata']));</span>
<span class="token delimiter">?></span>

<span class="token delimiter">&lt;?php</span>
<span class="token keyword">echo</span> <span class="token function">file_get_contents</span><span class="token punctuation">(</span>'data<span class="token punctuation">:</span><span class="token comment" spellcheck="true">//text/plain;base64,SSBsb3ZlIFBIUAo=');</span>
<span class="token comment" spellcheck="true">//I love PHP</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>data伪协议只有在php&lt;5.3且include=on时可以写木马。</p>
<h3 id="file"><a href="#file" class="headerlink" title="file://"></a>file://</h3><p>file:// — 访问本地文件系统</p>
<p><em>文件系统</em> 是 PHP 使用的默认封装协议，展现了本地文件系统。 当指定了一个相对路径（不以/、、或 Windows 盘符开头的路径）提供的路径将基于当前的工作目录。 在很多情况下是脚本所在的目录，除非被修改了。 使用 CLI 的时候，目录默认是脚本被调用时所在的目录。</p>
<p>php5添加</p>
<p>格式：</p>
<p>file://文件绝对路径</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token keyword">echo</span> <span class="token function">file_get_contents</span><span class="token punctuation">(</span>'file<span class="token punctuation">:</span><span class="token comment" spellcheck="true">//d:\phpstudy_pro\WWW\1\1.php');</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="image-20210602215350028.png" alt="image-20210602215350028"></p>
<h3 id="phar"><a href="#phar" class="headerlink" title="phar://"></a>phar://</h3><p>phar:// — PHP 归档</p>
<p>phar:// 数据流包装器自 PHP 5.3.0 起开始有效。详细的描述可参见 Phar 数据流包装器。</p>
<p>格式：<strong>phar://phar文件</strong></p>
<p>phar文件伪造</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
    <span class="token keyword">class</span> <span class="token class-name">TestObject</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    <span class="token variable">$phar</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Phar</span><span class="token punctuation">(</span><span class="token string">"phar.phar"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//后缀名必须为phar</span>
    <span class="token variable">$phar</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">startBuffering</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$phar</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">setStub</span><span class="token punctuation">(</span><span class="token string">"&lt;?php __HALT_COMPILER(); ?>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//设置stub</span>
    <span class="token variable">$o</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TestObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$o</span> <span class="token operator">-</span><span class="token operator">></span> data<span class="token operator">=</span><span class="token string">'hu3sky'</span><span class="token punctuation">;</span>
    <span class="token variable">$phar</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">setMetadata</span><span class="token punctuation">(</span><span class="token variable">$o</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//将自定义的meta-data存入manifest</span>
    <span class="token variable">$phar</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">addFromString</span><span class="token punctuation">(</span><span class="token string">"test.txt"</span><span class="token punctuation">,</span> <span class="token string">"test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//添加要压缩的文件</span>
    <span class="token comment" spellcheck="true">//签名自动计算</span>
    <span class="token variable">$phar</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">stopBuffering</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>phar的特征就是有 <code>__HALT_COMPILER(); ?&gt;</code>格式的文件头</p>
<h3 id="php"><a href="#php" class="headerlink" title="php://"></a>php://</h3><p>php:// — 访问各个输入/输出流（I/O streams）</p>
<p>需要开启allow_url_fopen的：php://input、php://stdin、php://memory和php://temp</p>
<p>不需要开启allow_wrl_fopen的：php://filter</p>
<p>在CTF中经常使用的是php://filter和php://input</p>
<p><strong>php://filter用于读取源码，php://input用于执行php代码</strong></p>
<p><strong>php://input需要post请求提交数据</strong></p>
<p><strong>php://filter可以get提交?a=php://filter/read=convert.base64-encode/resource=xxx.php</strong></p>
<p><strong>php协议可以用hackbar直接添加</strong></p>

            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Atmujie</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://atmujie.github.io/2020/11/28/php%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">http://atmujie.github.io/2020/11/28/php%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">Atmujie</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/%E8%AF%AD%E8%A8%80/">
                                    <span class="chip bg-color">语言</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    

    

    
        <div class="disqus-card card" data-aos="fade-up">
    <div id="disqus_thread" class="card-content">
        <noscript>Please enable JavaScript to view the
            <a target="_blank" rel="noopener" href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
    </div>
</div>

<script type="text/javascript">
    disqus_config = function () {
        this.page.url = 'http://atmujie.github.io/2020/11/28/php%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/';
        this.page.identifier = '/2020/11/28/php%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/';
        this.page.title = 'php学习笔记';
    };
    let disqus_shortname = '';

    (function () { // DON'T EDIT BELOW THIS LINE
        let d = document, s = d.createElement('script');
        // 如：s.src = 'https://blinkfox.disqus.com/embed.js';
        s.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>

    

    

    
        <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments textarea {
        box-sizing: border-box;
        background: url("/medias/comment_bg.png") 100% 100% no-repeat;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #4cbf30;
        font-weight: 500;
        text-decoration: none;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; padding-left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="vcomments" class="card-content" style="display: grid">
    </div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="/libs/valine/Valine.min.js"></script>
<script>
    new Valine({
        el: '#vcomments',
        appId: 'GHiPEgESACHszUJMqTqLWQtF-gzGzoHsz',
        appKey: 'Lm6vLWBnRM3KIlhuo4tqDNDq',
        notify: 'false' === 'true',
        verify: 'false' === 'true',
        visitor: 'true' === 'true',
        avatar: 'mm',
        pageSize: '10',
        lang: 'zh-cn',
        placeholder: 'just go go'
    });
</script>

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2020/12/08/mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/2.jpg" class="responsive-img" alt="mysql数据库与sql注入学习笔记">
                        
                        <span class="card-title">mysql数据库与sql注入学习笔记</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2020-12-08
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            Atmujie
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">
                        <span class="chip bg-color">数据库</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/11/06/Thinkphp5.1%E6%A1%86%E6%9E%B6/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/4.jpg" class="responsive-img" alt="thinkphp5.1框架学习笔记心得">
                        
                        <span class="card-title">thinkphp5.1框架学习笔记心得</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-11-06
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            Atmujie
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E6%A1%86%E6%9E%B6/">
                        <span class="chip bg-color">框架</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


<!-- 代码块功能依赖 -->
<!-- <script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script> -->

<!-- 代码语言 -->
<!--  -->
<!-- <script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script> -->
<!--  -->

<!-- 代码块复制 -->
<!-- 
<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>
 -->

<!-- 代码块收缩 -->
<!--  -->

<!-- 代码块折行 -->
<!-- 
<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>
 -->

    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2019</span>
            <a href="/about" target="_blank">Atmujie</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <br>
            
            <span id="icp"><img src="/medias/icp.png" style="vertical-align: text-bottom;" />
                <a href="https://beian.miit.gov.cn/" target="_blank">陇ICP备2022000869号</a>
            </span>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/atmujie" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>















</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
