<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="php学习笔记, Atmujie">
    <meta name="description" content="有一美人兮，见之不忘，一日不见兮，思之如狂；">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>php学习笔记 | Atmujie</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.4.0"></head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Atmujie</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Atmujie</div>
        <div class="logo-desc">
            
            有一美人兮，见之不忘，一日不见兮，思之如狂；
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/22.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">php学习笔记</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/%E8%AF%AD%E8%A8%80/">
                                <span class="chip bg-color">语言</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2020-11-28
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="php是世界上最自由的语言"><a href="#php是世界上最自由的语言" class="headerlink" title="php是世界上最自由的语言"></a>php是世界上最自由的语言<hr/></h1><h2 id="php学习的必要准备工作"><a href="#php学习的必要准备工作" class="headerlink" title="php学习的必要准备工作"></a>php学习的必要准备工作</h2><ul>
<li>在php学习中，需要准备两样软件。<blockquote>
<p>阿帕奇（apache）和mysql。<br>这两搭建环境非常麻烦，所以我建议先学习他们的搭建过程，然后直接下载phpstudy集成环境。<br>一定要先学习搭建过程，毕竟世界上最恐怖的事就是拿到了傻瓜版操作软件却不会用。<br><img src="0.png" alt="0"></p>
</blockquote>
</li>
</ul>
<h2 id="php基础之常量和变量"><a href="#php基础之常量和变量" class="headerlink" title="php基础之常量和变量"></a>php基础之常量和变量</h2><h3 id="php语法和标记符"><a href="#php语法和标记符" class="headerlink" title="php语法和标记符"></a>php语法和标记符</h3><ul>
<li><p>标记和注释  </p>
<blockquote>
<p>标记：现在通用为’&lt;?php? &gt;’其他不做说明。<br>注释：php语言可用大部分语言的注释格式进行注释<br>如/<em>..</em>/,#,//等都可以使用。  </p>
</blockquote>
</li>
<li><p>php语法格式  </p>
<blockquote>
<p>php语言以&lt;?php做开头，以？&gt;结尾。<br>php变量用$表示，$后内容可以自行定义，但不能以数字开头<br>php同c语言一般,每句代码后都需要用”;”作为结束，相对的，我们可以省略用与结尾的？&gt;。<br>例如：<br>&lt;？php<br>$name=”mujie”;<br>echo $name;<br>？&gt;<br>此代码会在网页输出mujie。  </p>
</blockquote>
</li>
<li><p>php替代语法</p>
<blockquote>
<p>php对分支结构和循环结构均提供了替代语法</p>
<p>全部对应一个模式</p>
<p>例如：</p>
<p>for(str1;str2;str3){</p>
<p>​    内容；</p>
<p>}</p>
<p>可以将花括号替代为：</p>
<p>for(str1;str2;str3):</p>
<p>​    内容；</p>
<p>endfor;</p>
</blockquote>
</li>
</ul>
<h3 id="php变量"><a href="#php变量" class="headerlink" title="php变量"></a>php变量</h3><ul>
<li>变量的概念  <blockquote>
<p>变量来源于数学，是计算机中储存结果和表示值的抽象概念，变量是可变的。  </p>
</blockquote>
</li>
<li>变量的使用  <blockquote>
<p>在系统中增加变量的名字并给变量赋值。<br>变量使用$开头<br>格式：$[变量名]=”[赋值内容]”;<br>变量名的第一个字符不能是数字。  </p>
</blockquote>
</li>
<li>预定义变量<br><img src="1.png" alt="1"></li>
<li>可变变量  <blockquote>
<p>如果一个变量的值是另一个变量的名字，就会输出另一个变量<br>可变变量用$$引用。<br>相当于连续赋值。<br>例如：<br>$a=b;<br>$b=1234;<br>echo $$a;<br>输出结果是1234.</p>
</blockquote>
</li>
<li>变量传值  <blockquote>
<p>值传递：<br>值传递是将一个变量的值“复制”给另一个变量，虽然值一样，但变量的储存区间不同，所以两者没有影响。<br>例如：<br>$a=1;<br>$b=$a;<br>就属于值传递。</p>
</blockquote>
</li>
</ul>
<blockquote>
<p>引用传递和值传递的区别是引用前后的变量值都存储在同一个位置中。<br>引用传递用&amp;表示<br>例如：<br>$a=123;<br>$b=&amp;$a;<br>便是把a的值引用给b。</p>
</blockquote>
<p>注：当程序运行完毕后，变量会被删除，如果不想变量被删除，需要写入域[后面会说到]。    </p>
<h3 id="php常量"><a href="#php常量" class="headerlink" title="php常量"></a>php常量</h3><ul>
<li><p>常量的定义  </p>
<blockquote>
<p>常量是在运行中不可改变的量。 </p>
<p>在PHP 5.3.0 之后的版本中，你可以用 <a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/function.define.php">define()</a> 函数，或 <code>const</code> 两种方法来定义一个常量。函数 <a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/function.define.php">define()</a> 允许将常量定义为一个表达式，而 <code>const</code> 关键字有一些限制，一个常量一旦被定义，就不能再改变或者取消定义。</p>
<p>使用 <code>const</code> 关键字定义常量时，PHP 5.6 之前只能包含标量数据（boolean，integer，float 和 string）。从 PHP 5.6 开始，可以将常量定义为一个表达式，也可以定义为一个 array。还可以定义 resource 为常量，但应尽量避免，因为可能会造成不可预料的结果。</p>
</blockquote>
</li>
<li><p>常量的使用形式  </p>
<blockquote>
<p>在php5.3后，常量有两中定义方式<br>1- 使用函数define<br>格式：define(“常量名”，常量值);</p>
</blockquote>
<blockquote>
<p>2- const 常量名=值;<br>通常用大写字母定义。  </p>
</blockquote>
<blockquote>
<p>3- constant 针对有特殊名字的常量(名字以数字开头，或有-之类不合法字符的常量)<br>格式：constant(“常量名”);  </p>
</blockquote>
</li>
<li><p>系统常量<br><img src="2.png" alt="2"></p>
</li>
<li><p>魔术常量<br><img src="3.png" alt="3"></p>
</li>
</ul>
<h2 id="类"><a href="#类" class="headerlink" title="类"></a>类</h2><p><u><em><strong>类是面向对象的过程</strong></em></u></p>
<ul>
<li>class  </li>
</ul>
<blockquote>
<p>在php中，可以使用class定义类 </p>
<p>一个类可以包含有属于自己的 <a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/language.oop5.constants.php">常量</a>，<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/language.oop5.properties.php">变量</a>（称为“属性”）以及函数（称为“方法”）语法：<br>[修饰关键字] class [类名] {<br>类的属性和方法<br>}  </p>
</blockquote>
<h3 id="类的调用"><a href="#类的调用" class="headerlink" title="类的调用"></a>类的调用</h3><h4 id="方法的调用"><a href="#方法的调用" class="headerlink" title="方法的调用"></a>方法的调用</h4><blockquote>
<p>当一个方法在类定义内部被调用时，有一个可用的伪变量 $this。</p>
<p>$this 是一个到当前对象的引用。</p>
<p>以静态方式去调用静态方法时将会抛出一个Error</p>
</blockquote>
<h4 id="self-与-this"><a href="#self-与-this" class="headerlink" title="self 与 $this"></a>self 与 $this</h4><blockquote>
<p><strong>1.self代表类，$this代表对象</strong><br><strong>2.能用$this的地方一定使用self，能用self的地方不一定能用$this</strong><br><strong>静态的方法中不能使用$this，静态方法给类访问的。</strong></p>
<p><strong>3、$this是实例化对象的指针，self是对象的指针。</strong></p>
<p><u><strong>!!!!!!!!本质都是指针</strong></u></p>
<p><img src="https://images2018.cnblogs.com/blog/779030/201809/779030-20180910170105248-1450602458.png" alt="img"></p>
<p>self调用的类的指针，而非实例化后的对象指针，静态变量和静态方法始终属于类，而非属于实例化后的对象，因此在静态方法中无法使用$this，因为此时所处的位置是类所在的指针，只能使用self调用静态方法或者静态变量。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">demo</span> </span>&#123;</span><br><span class="line"> <span class="keyword">public</span> <span class="variable">$a</span>;</span><br><span class="line"> <span class="keyword">public</span> <span class="variable">$b</span>;</span><br><span class="line"> <span class="keyword">public</span> <span class="built_in">static</span> <span class="variable">$c</span> = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$a</span></span>) </span>&#123;</span><br><span class="line">     <span class="keyword">$this</span>-&gt;a = <span class="variable">$a</span>;</span><br><span class="line">     <span class="keyword">$this</span>-&gt;funct();</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="variable">$newObj</span> = <span class="keyword">new</span> <span class="built_in">self</span>(<span class="number">20</span>);</span><br><span class="line">     <span class="variable">$newObj</span>-&gt;funct();</span><br><span class="line">     <span class="built_in">self</span>::<span class="variable">$c</span> += <span class="number">100</span>;</span><br><span class="line">     <span class="keyword">echo</span> <span class="built_in">self</span>::<span class="variable">$c</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">funct</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="keyword">$this</span>-&gt;b = <span class="keyword">$this</span>-&gt;a * <span class="number">200</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getC</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">         <span class="keyword">echo</span>  <span class="built_in">self</span>::<span class="variable">$c</span>;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$demo</span> = <span class="keyword">new</span> demo(<span class="number">3</span>);</span><br><span class="line"><span class="variable">$demo</span>::func();</span><br><span class="line"><span class="variable">$demo</span>::getC();</span><br><span class="line"><span class="variable">$demo2</span> = <span class="keyword">new</span> demo(<span class="number">4</span>);</span><br><span class="line"><span class="variable">$demo2</span>::func();</span><br><span class="line"><span class="variable">$demo</span>::getC();</span><br><span class="line"><span class="variable">$demo2</span>::getC();</span><br><span class="line"><span class="variable">$demo</span>-&gt;getC();</span><br></pre></td></tr></table></figure>


</blockquote>
<h3 id="关键字"><a href="#关键字" class="headerlink" title="关键字:"></a>关键字:</h3><blockquote>
<p>关键字不能修饰成员属性，只能修饰类和方法</p>
<ul>
<li><p>abstract 译为：摘要<br> 抽象类或方法，被修饰为抽象类之后，类将不能被实例化，但可以被继承。<br> 如果类中有至少一个方法被声明为抽象的，那么这个类也必须声明为抽象的。继承一个抽象类的时候，子类必须重新定义父类中的所有抽象方法，而且这些方法的访问控制必须和父类中一样。 </p>
<p> 属性无法抽象</p>
</li>
<li><p>final 译为： 最终的</p>
<p> 定义一个不能被继承的类</p>
</li>
</ul>
</blockquote>
<h3 id="属性和方法："><a href="#属性和方法：" class="headerlink" title="属性和方法："></a>属性和方法：</h3><h4 id="概述："><a href="#概述：" class="headerlink" title="概述："></a>概述：</h4><blockquote>
<p>类的属性和方法存在于不同的“命名空间”中，这意味着同一个类的属性和方法可以使用同样的名字。在类中访问属性和调用方法使用同样的操作符。</p>
<p>具体是访问一个属性还是调用一个方法，取决于你的上下文，即用法是变量访问还是函数调用。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="meta">&lt;?php</span></span><br><span class="line">&gt;<span class="class"><span class="keyword">class</span> <span class="title">Foo</span></span></span><br><span class="line"><span class="class">&gt;</span>&#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="variable">$bar</span> = <span class="string">&#x27;property&#x27;</span>;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="string">&#x27;method&#x27;</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line">&gt;<span class="variable">$obj</span> = <span class="keyword">new</span> Foo();</span><br><span class="line">&gt;<span class="keyword">echo</span> <span class="variable">$obj</span>-&gt;bar, PHP_EOL, <span class="variable">$obj</span>-&gt;bar(), PHP_EOL;<span class="comment">//使用$obj-&gt;bar,定位类中具体的属性或方法</span></span><br></pre></td></tr></table></figure>



<p>1、成员属性就是对该类定义的一些变量属性</p>
<p>2、类中声明成员属性要使用关键字</p>
<p>​    常见成员属性声明是由关以下键字</p>
<p>​    public，var，protected，private开头的，然后跟一个变量来组成的。还有一些成员属性包括，静态static,常量const.</p>
</blockquote>
<h4 id="属性关键字"><a href="#属性关键字" class="headerlink" title="属性关键字"></a>属性关键字</h4><blockquote>
<blockquote>
<p>public 译为：公众的 </p>
<ul>
<li>从PHP5.0版本开始，对象声明时需要声明对象属性和方法的可见性，public关键字表示属性或方法是公开可见的。</li>
<li>在PHP5.0之前未支持对象属性和方法的可见性定义，默认所有的属性和方法都是公开可见的</li>
<li>类的内外都可以调用</li>
</ul>
</blockquote>
<blockquote>
<p>protected 译为：受保护的</p>
<ul>
<li>类内和派生类能用，类外不能用</li>
</ul>
</blockquote>
<blockquote>
<p>private 译为：私有的</p>
<ul>
<li>私有的，定义只能类内使用的变量</li>
</ul>
</blockquote>
<blockquote>
<p>static 译为：静止的</p>
<ul>
<li>用static修饰的成员属性可以被同一个类的所有对象共享</li>
<li>用法同php的域，可保留程序运行后变量的值</li>
</ul>
</blockquote>
<blockquote>
<p>const 译为：常量</p>
<ul>
<li>在类的声明中常量必须使用const</li>
</ul>
</blockquote>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">//代码示例</span></span><br><span class="line">&gt;<span class="meta">&lt;?php</span></span><br><span class="line">&gt;<span class="comment">/**</span></span><br><span class="line"><span class="comment">&gt;* Define MyClass</span></span><br><span class="line"><span class="comment">&gt;*/</span></span><br><span class="line">&gt;<span class="class"><span class="keyword">class</span> <span class="title">MyClass</span></span></span><br><span class="line"><span class="class">&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="variable">$public</span> = <span class="string">&#x27;Public&#x27;</span>;</span><br><span class="line">  <span class="keyword">protected</span> <span class="variable">$protected</span> = <span class="string">&#x27;Protected&#x27;</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="variable">$private</span> = <span class="string">&#x27;Private&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">printHello</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">      <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;public;</span><br><span class="line">      <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;protected;</span><br><span class="line">      <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;private;</span><br><span class="line">  &#125;</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line">&gt;<span class="variable">$obj</span> = <span class="keyword">new</span> MyClass();</span><br><span class="line">&gt;<span class="keyword">echo</span> <span class="variable">$obj</span>-&gt;public; <span class="comment">// 这行能被正常执行</span></span><br><span class="line">&gt;<span class="keyword">echo</span> <span class="variable">$obj</span>-&gt;protected; <span class="comment">// 这行会产生一个致命错误</span></span><br><span class="line">&gt;<span class="keyword">echo</span> <span class="variable">$obj</span>-&gt;private; <span class="comment">// 这行也会产生一个致命错误</span></span><br><span class="line">&gt;<span class="variable">$obj</span>-&gt;printHello(); <span class="comment">// 输出 Public、Protected 和 Private</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">/**</span></span><br><span class="line"><span class="comment">&gt;* Define MyClass2</span></span><br><span class="line"><span class="comment">&gt;*/</span></span><br><span class="line">&gt;<span class="class"><span class="keyword">class</span> <span class="title">MyClass2</span> <span class="keyword">extends</span> <span class="title">MyClass</span></span></span><br><span class="line"><span class="class">&gt;</span>&#123;</span><br><span class="line">  <span class="comment">// 可以对 public 和 protected 进行重定义，但 private 而不能</span></span><br><span class="line">  <span class="keyword">public</span> <span class="variable">$public</span> = <span class="string">&#x27;Public2&#x27;</span>;</span><br><span class="line">  <span class="keyword">protected</span> <span class="variable">$protected</span> = <span class="string">&#x27;Protected2&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">printHello</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">      <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;public;</span><br><span class="line">      <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;protected;</span><br><span class="line">      <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;private;</span><br><span class="line">  &#125;</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line">&gt;<span class="variable">$obj2</span> = <span class="keyword">new</span> MyClass2();</span><br><span class="line">&gt;<span class="keyword">echo</span> <span class="variable">$obj2</span>-&gt;public; <span class="comment">// 这行能被正常执行</span></span><br><span class="line">&gt;<span class="keyword">echo</span> <span class="variable">$obj2</span>-&gt;protected; <span class="comment">// 这行会产生一个致命错误</span></span><br><span class="line">&gt;<span class="keyword">echo</span> <span class="variable">$obj2</span>-&gt;private; <span class="comment">// 未定义 private</span></span><br><span class="line">&gt;<span class="variable">$obj2</span>-&gt;printHello(); <span class="comment">// 输出 Public、Protected2 和 Undefined</span></span><br><span class="line"></span><br><span class="line">&gt;<span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="类常量："><a href="#类常量：" class="headerlink" title="类常量："></a>类常量：</h3><blockquote>
<p>可以把在类中始终保持不变的值定义为常量。在定义和使用常量的时候不需要使用 $ 符号。</p>
<p>常量的值必须是一个定值，不能是变量，类属性，数学运算的结果或函数调用。</p>
<p>接口（interface）中也可以定义常量。</p>
<p>自 PHP 5.3.0 起，可以用一个变量来动态调用类。但该变量的值不能为关键字（如 <code>self</code>，<code>parent</code> 或 <code>static</code>）。</p>
</blockquote>
<h4 id="类常量的定义："><a href="#类常量的定义：" class="headerlink" title="类常量的定义："></a>类常量的定义：</h4><blockquote>
<p>类常量用const 定义</p>
<p>类常量使用：：号调用</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">const</span> constant = <span class="string">&#x27;constant value&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">showConstant</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span>  <span class="built_in">self</span>::constant . <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> MyClass::constant . <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$classname</span> = <span class="string">&quot;MyClass&quot;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$classname</span>::constant . <span class="string">&quot;\n&quot;</span>; <span class="comment">// 自 5.3.0 起</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$class</span> = <span class="keyword">new</span> MyClass();</span><br><span class="line"><span class="variable">$class</span>-&gt;showConstant();</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$class</span>::constant.<span class="string">&quot;\n&quot;</span>; <span class="comment">// 自 PHP 5.3.0 起</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="接口："><a href="#接口：" class="headerlink" title="接口："></a>接口：</h3><blockquote>
<p>使用接口（interface），可以指定某个类必须实现哪些方法，但不需要定义这些方法的具体内容。</p>
<p>接口是通过 <code>interface</code> 关键字来定义的，就像定义一个标准的类一样，但其中定义所有的方法都是空的。</p>
<p>接口中定义的所有方法都必须是公有，这是接口的特性。</p>
<p>在接口中定义一个<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/language.oop5.decon.php#language.oop5.decon.constructor">构造方法</a>是被允许的。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">   <span class="class"><span class="keyword">interface</span> <span class="title">kou</span></span></span><br><span class="line"><span class="class">   </span>&#123;</span><br><span class="line">      <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>;</span><br><span class="line">      <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>)</span>;<span class="comment">//接口所有的方法都为空</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="class"><span class="keyword">class</span> <span class="title">jie</span> <span class="keyword">implements</span> <span class="title">kou</span>//类中必须实现所有的接口</span></span><br><span class="line"><span class="class">   </span>&#123;</span><br><span class="line">      <span class="keyword">public</span> <span class="variable">$a</span> = <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">      </span>&#123;</span><br><span class="line">         <span class="keyword">$this</span>-&gt;a = <span class="number">2</span>;</span><br><span class="line">         <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;a;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">      </span>&#123;</span><br><span class="line">         <span class="keyword">$this</span>-&gt;a =<span class="number">3</span>;</span><br><span class="line">         <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;a;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="variable">$b</span> = <span class="keyword">new</span> jie();</span><br><span class="line">   <span class="keyword">echo</span> <span class="variable">$b</span>-&gt;a();</span><br><span class="line">   <span class="keyword">echo</span> <span class="string">&quot;\t&quot;</span>;</span><br><span class="line">   <span class="keyword">echo</span> <span class="variable">$b</span>-&gt;b();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="接口的扩充"><a href="#接口的扩充" class="headerlink" title="接口的扩充"></a>接口的扩充</h4><blockquote>
<p>接口可以继承，所以可以使用继承的方法扩充接口</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">a</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">b</span> <span class="keyword">extends</span> <span class="title">a</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">baz</span>(<span class="params">Baz <span class="variable">$baz</span></span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">c</span> <span class="keyword">extends</span> <span class="title">a</span>, <span class="title">b</span>//继承多个接口</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">baz</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 正确写法</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">c</span> <span class="keyword">implements</span> <span class="title">b</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">baz</span>(<span class="params">Baz <span class="variable">$baz</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 错误写法会导致一个致命错误</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">d</span> <span class="keyword">implements</span> <span class="title">b</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">baz</span>(<span class="params">Foo <span class="variable">$foo</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="接口常量"><a href="#接口常量" class="headerlink" title="接口常量"></a>接口常量</h4><blockquote>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">a</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">const</span> b = <span class="string">&#x27;Interface constant&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出接口常量</span></span><br><span class="line"><span class="keyword">echo</span> a::b;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 错误写法，因为常量不能被覆盖。接口常量的概念和类常量是一样的。</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">b</span> <span class="keyword">implements</span> <span class="title">a</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">const</span> b = <span class="string">&#x27;Class constant&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>接口常量和类常量无本质的不同</p>
</blockquote>
<ul>
<li><p>实现</p>
<blockquote>
<p>要实现一个接口，使用 <code>implements</code>（实施） 操作符。类中必须实现接口中定义的所有方法，否则会报一个致命错误。类可以实现多个接口，用逗号来分隔多个接口的名称。</p>
<p>接口也可以继承，通过使用 <a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/language.oop5.inheritance.php">extends</a> 操作符。</p>
<p>类要实现接口，必须使用和接口中所定义的方法完全一致的方式。否则会导致致命错误。</p>
<p>接口中也可以定义常量。接口常量和<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/language.oop5.constants.php">类常量</a>的使用完全相同，但是不能被子类或子接口所覆盖。</p>
</blockquote>
</li>
</ul>
<h3 id="类的自动加载"><a href="#类的自动加载" class="headerlink" title="类的自动加载"></a>类的自动加载</h3><h4 id="sql-autoload-register-函数可实现自定义加载"><a href="#sql-autoload-register-函数可实现自定义加载" class="headerlink" title="sql_autoload_register()函数可实现自定义加载"></a>sql_autoload_register()函数可实现自定义加载</h4><blockquote>
<p>英译：autoload:自动加载  register:登记</p>
<p> <a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/function.spl-autoload-register.php">spl_autoload_register()</a> 函数可以注册任意数量的自动加载器，当使用尚未被定义的类（class）和接口（interface）时自动去加载。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">spl_autoload_register(<span class="function"><span class="keyword">function</span> (<span class="params"><span class="variable">$class_name</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">require_once</span> <span class="variable">$class_name</span> . <span class="string">&#x27;.php&#x27;</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable">$obj</span>  = <span class="keyword">new</span> MyClass1();</span><br><span class="line"><span class="variable">$obj2</span> = <span class="keyword">new</span> MyClass2();</span><br><span class="line"><span class="meta">?&gt;</span>   </span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">spl_autoload_register(<span class="function"><span class="keyword">function</span> (<span class="params"><span class="variable">$name</span></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (preg_match(<span class="string">&#x27;/Controller$/&#x27;</span>, <span class="variable">$name</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="variable">$name</span> = <span class="string">&quot;controllers/$&#123;name&#125;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (preg_match(<span class="string">&#x27;/Model$/&#x27;</span>, <span class="variable">$name</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="variable">$name</span> = <span class="string">&quot;models/$&#123;name&#125;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">include_once</span> <span class="string">&quot;$&#123;name&#125;.php&quot;</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="重载"><a href="#重载" class="headerlink" title="重载"></a>重载</h3><blockquote>
<p>重载（overloading）是指动态地创建类属性和方法,通过魔术方法实现</p>
<p>所有的重载方法都必须被声明为 <code>public</code>。</p>
<p><strong>简单理解为调用魔术函数</strong></p>
</blockquote>
<h3 id="遍历对象"><a href="#遍历对象" class="headerlink" title="遍历对象"></a>遍历对象</h3><h4 id="foreach-语句用于遍历对象"><a href="#foreach-语句用于遍历对象" class="headerlink" title="foreach()语句用于遍历对象"></a>foreach()语句用于遍历对象</h4><blockquote>
<p><code>foreach</code> （遍历）仅能够应用于数组和对象，如果尝试应用于其他数据类型的变量，或者未初始化的变量将发出错误信息。有两种语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">foreach (iterable_expression(可迭代的表达式) as $value)</span><br><span class="line">    statement（说明）</span><br><span class="line">//遍历给定的 iterable_expression 迭代器。每次循环中，当前单元的值被赋给 $value。</span><br><span class="line">foreach (iterable_expression as $key =&gt; $value)</span><br><span class="line">    statement</span><br><span class="line">//第二种格式做同样的事，只除了当前单元的键名也会在每次循环中被赋给变量 $key。</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="自定义遍历对象"><a href="#自定义遍历对象" class="headerlink" title="自定义遍历对象"></a>自定义遍历对象</h4><blockquote>
<p>通过加上 &amp; 来修改数组的元素。将以<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/language.references.php">引用</a>赋值而不是拷贝一个值。</p>
<p>同指针的概念，修改引用值原值同样改变</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$arr</span> = <span class="keyword">array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$arr</span> <span class="keyword">as</span> &amp;<span class="variable">$value</span>) &#123;</span><br><span class="line">    <span class="variable">$value</span> = <span class="variable">$value</span> * <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// $arr is now array(2, 4, 6, 8)</span></span><br><span class="line"><span class="keyword">unset</span>(<span class="variable">$value</span>); <span class="comment">// 最后取消掉引用</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"><span class="comment">//数组最后一个元素的 $value 引用在 foreach 循环之后仍会保留。建议使用 unset() 来将其销毁</span></span><br></pre></td></tr></table></figure>

<p><code>foreach</code> 不支持用 “<code>@</code>” 来抑制错误信息的能力。</p>
</blockquote>
<h3 id="用-list-给嵌套的数组解包"><a href="#用-list-给嵌套的数组解包" class="headerlink" title="用 list() 给嵌套的数组解包"></a>用 list() 给嵌套的数组解包</h3><blockquote>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$array</span> = [</span><br><span class="line">    [<span class="number">1</span>, <span class="number">2</span>],<span class="comment">//定义多个数组</span></span><br><span class="line">    [<span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$array</span> <span class="keyword">as</span> <span class="keyword">list</span>(<span class="variable">$a</span>, <span class="variable">$b</span>)) &#123; <span class="comment">//使用list（）函数可以解开多个定义的函数，分别赋值给$a,$b</span></span><br><span class="line">    <span class="comment">// $a contains the first element of the nested array,</span></span><br><span class="line">    <span class="comment">// and $b contains the second element.</span></span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;A: <span class="subst">$a</span>; B: <span class="subst">$b</span>\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"><span class="comment">//结果：</span></span><br><span class="line"><span class="comment">//A: 1; B: 2</span></span><br><span class="line"><span class="comment">//A: 3; B: 4</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/function.list.php">list()</a> 中的单元可以少于嵌套数组的，此时多出来的数组单元将被忽略：</p>
</blockquote>
<h3 id="抽象类："><a href="#抽象类：" class="headerlink" title="抽象类："></a>抽象类：</h3><blockquote>
<p>任何一个类，如果它里面至少有一个方法是被声明为抽象的，那么这个类就必须被声明为抽象的。</p>
<p>继承一个抽象类的时候，子类必须定义父类中的所有抽象方法；</p>
<p>但无需在定义非抽象的方法</p>
<p>属性无法抽象</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">chou</span></span></span><br><span class="line"><span class="class">    </span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="variable">$a</span> = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">$this</span>-&gt;a = <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;a;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">xaing</span> <span class="keyword">extends</span> <span class="title">chou</span></span>&#123;</span><br><span class="line">         </span><br><span class="line">    &#125;<span class="comment">//无法直接实例化，但可以继承</span></span><br><span class="line">    <span class="variable">$shikl</span> = <span class="keyword">new</span> xaing();</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$shikl</span>-&gt;a;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;\t&quot;</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$shikl</span>-&gt;b();</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">    <span class="comment">//输出结果：1 2</span></span><br></pre></td></tr></table></figure>


</blockquote>
<h3 id="访问控制"><a href="#访问控制" class="headerlink" title="访问控制:"></a>访问控制:</h3><blockquote>
<p>对属性或方法的访问控制（PHP 7.1.0 以后支持常量），是通过在前面添加关键字 <em>public</em>（公有），<em>protected</em>（受保护）或 <em>private</em>（私有）来实现的。被定义为公有的类成员可以在任何地方被访问。被定义为受保护的类成员则可以被其自身以及其子类和父类访问。被定义为私有的类成员则只能被其定义所在的类访问。</p>
</blockquote>
<blockquote>
<p>类属性必须定义为公有，受保护，私有之一。如果用 <em>var</em>(变量)或没有设置关键字，则被视为公有。</p>
</blockquote>
<h4 id="类的继承"><a href="#类的继承" class="headerlink" title="类的继承"></a>类的继承</h4><blockquote>
<p>extends 译为：延伸</p>
<p>将父类的属性和方法继承给子类，子类可以重新对父类的方法进行定义和添加</p>
<p>限制：</p>
<p>可重新定义public属性和protected属性，不能重新定义private属性</p>
</blockquote>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//代码示例</span></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Define MyClass</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">// 声明一个公有的构造函数</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 声明一个公有的方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">MyPublic</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 声明一个受保护的方法</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">MyProtected</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 声明一个私有的方法</span></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">MyPrivate</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 此方法为公有</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;MyPublic();</span><br><span class="line">        <span class="keyword">$this</span>-&gt;MyProtected();</span><br><span class="line">        <span class="keyword">$this</span>-&gt;MyPrivate();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$myclass</span> = <span class="keyword">new</span> MyClass;</span><br><span class="line"><span class="variable">$myclass</span>-&gt;MyPublic(); <span class="comment">// 这行能被正常执行</span></span><br><span class="line"><span class="variable">$myclass</span>-&gt;MyProtected(); <span class="comment">// 这行会产生一个致命错误</span></span><br><span class="line"><span class="variable">$myclass</span>-&gt;MyPrivate(); <span class="comment">// 这行会产生一个致命错误</span></span><br><span class="line"><span class="variable">$myclass</span>-&gt;Foo(); <span class="comment">// 公有，受保护，私有都可以执行</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Define MyClass2</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass2</span> <span class="keyword">extends</span> <span class="title">MyClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">// 此方法为公有</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Foo2</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;MyPublic();</span><br><span class="line">        <span class="keyword">$this</span>-&gt;MyProtected();</span><br><span class="line">        <span class="keyword">$this</span>-&gt;MyPrivate(); <span class="comment">// 这行会产生一个致命错误</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$myclass2</span> = <span class="keyword">new</span> MyClass2;</span><br><span class="line"><span class="variable">$myclass2</span>-&gt;MyPublic(); <span class="comment">// 这行能被正常执行</span></span><br><span class="line"><span class="variable">$myclass2</span>-&gt;Foo2(); <span class="comment">// 公有的和受保护的都可执行，但私有的不行</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bar</span> </span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;testPrivate();</span><br><span class="line">        <span class="keyword">$this</span>-&gt;testPublic();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">testPublic</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;Bar::testPublic\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">testPrivate</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;Bar::testPrivate\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> <span class="keyword">extends</span> <span class="title">Bar</span> </span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">testPublic</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;Foo::testPublic\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">testPrivate</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;Foo::testPrivate\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$myFoo</span> = <span class="keyword">new</span> foo();</span><br><span class="line"><span class="variable">$myFoo</span>-&gt;test(); <span class="comment">// Bar::testPrivate </span></span><br><span class="line">                <span class="comment">// Foo::testPublic</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="常量的控制访问"><a href="#常量的控制访问" class="headerlink" title="常量的控制访问"></a>常量的控制访问</h4><p>PHP 7.1.0 开始，类的常量可以定义为公有、私有或受保护。如果没有设置这些关键字，则该常量默认为公有。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//代码示例</span></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Define MyClass</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">// 公有常量</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">const</span> MY_PUBLIC = <span class="string">&#x27;public&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 受保护的常量</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">const</span> MY_PROTECTED = <span class="string">&#x27;protected&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 私有常量</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">const</span> MY_PRIVATE = <span class="string">&#x27;private&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="built_in">self</span>::MY_PUBLIC;</span><br><span class="line">        <span class="keyword">echo</span> <span class="built_in">self</span>::MY_PROTECTED;</span><br><span class="line">        <span class="keyword">echo</span> <span class="built_in">self</span>::MY_PRIVATE;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$myclass</span> = <span class="keyword">new</span> MyClass();</span><br><span class="line">MyClass::MY_PUBLIC; <span class="comment">// 这行可以正常执行</span></span><br><span class="line">MyClass::MY_PROTECTED; <span class="comment">// 这行会产生一个致命错误 </span></span><br><span class="line">MyClass::MY_PRIVATE; <span class="comment">// 这行会产生一个致命错误</span></span><br><span class="line"><span class="variable">$myclass</span>-&gt;foo(); <span class="comment">// 将会输出：Public Protected Private</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Define MyClass2</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass2</span> <span class="keyword">extends</span> <span class="title">MyClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">// This is public</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">foo2</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="built_in">self</span>::MY_PUBLIC;</span><br><span class="line">        <span class="keyword">echo</span> <span class="built_in">self</span>::MY_PROTECTED;</span><br><span class="line">        <span class="keyword">echo</span> <span class="built_in">self</span>::MY_PRIVATE; <span class="comment">// 这行会产生一个致命错误</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$myclass2</span> = <span class="keyword">new</span> MyClass2;</span><br><span class="line"><span class="keyword">echo</span> MyClass2::MY_PUBLIC; <span class="comment">// 这行可以正常执行</span></span><br><span class="line"><span class="variable">$myclass2</span>-&gt;foo2(); <span class="comment">// 将会输出：Public Protected，MY_PRIVATE 是私有常量，无法输出</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="其他对象的访问控制"><a href="#其他对象的访问控制" class="headerlink" title="其他对象的访问控制"></a>其他对象的访问控制</h4><p>同一个类的对象即使不是同一个实例也可以互相访问对方的私有与受保护成员。这是由于在这些对象的内部具体实现的细节都是已知的。</p>
<p>简单理解就是类里可以调用此类的私有对象和受保护对象，因为对象本身就在类里。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$foo</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$foo</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;foo = <span class="variable">$foo</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;Accessed the private method.&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">baz</span>(<span class="params">Test <span class="variable">$other</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// We can change the private property:</span></span><br><span class="line">        <span class="variable">$other</span>-&gt;foo = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line">        var_dump(<span class="variable">$other</span>-&gt;foo);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// We can also call the private method:</span></span><br><span class="line">        <span class="variable">$other</span>-&gt;bar();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$test</span> = <span class="keyword">new</span> Test(<span class="string">&#x27;test&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$test</span>-&gt;baz(<span class="keyword">new</span> Test(<span class="string">&#x27;other&#x27;</span>));</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="范围解析操作符"><a href="#范围解析操作符" class="headerlink" title="范围解析操作符 ::"></a>范围解析操作符 ::</h4><blockquote>
<p>范围解析操作符（也可称作 Paamayim Nekudotayim）或者更简单地说是一对冒号，可以用于访问<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/language.oop5.static.php">静态</a>成员，<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/language.oop5.constants.php">类常量</a>，还可以用于覆盖类中的属性和方法。</p>
<p>当在类定义之外引用到这些项目时，要使用类名。</p>
<p>自 PHP 5.3.0 起，可以通过变量来引用类，该变量的值不能是关键字（如 <code>self</code>，<code>parent</code> 和 <code>static</code>）。</p>
<p>self （自己），parent （起源，父本）和 static （静止的，静态）这三个特殊的关键字是用于在类定义的内部对其属性或方法进行访问的。</p>
</blockquote>
<blockquote>
<p><strong>示例：在外部引用项目：</strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> CONST_VALUE = <span class="string">&#x27;A constant value&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$classname</span> = <span class="string">&#x27;MyClass&#x27;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$classname</span>::CONST_VALUE; <span class="comment">// 自 PHP 5.3.0 起</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> MyClass::CONST_VALUE;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p><strong>示例：在内部引用项目：</strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OtherClass</span> <span class="keyword">extends</span> <span class="title">MyClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="variable">$my_static</span> = <span class="string">&#x27;static var&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">doubleColon</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="built_in">parent</span>::CONST_VALUE . <span class="string">&quot;\n&quot;</span>; <span class="comment">//引用父类方法使用parent::静态名</span></span><br><span class="line">        <span class="keyword">echo</span> <span class="built_in">self</span>::<span class="variable">$my_static</span> . <span class="string">&quot;\n&quot;</span>;<span class="comment">//引用本类方法使用self::静态名</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$classname</span> = <span class="string">&#x27;OtherClass&#x27;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$classname</span>::doubleColon(); <span class="comment">// 自 PHP 5.3.0 起</span></span><br><span class="line"></span><br><span class="line">OtherClass::doubleColon();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>当一个子类覆盖其父类中的方法时，PHP 不会调用父类中已被覆盖的方法。是否调用父类的方法取决于子类。这种机制也作用于<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/language.oop5.decon.php">构造函数和析构函数</a>，<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/language.oop5.overloading.php">重载</a>以及<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/language.oop5.magic.php">魔术方法</a>。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">myFunc</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;MyClass::myFunc()\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OtherClass</span> <span class="keyword">extends</span> <span class="title">MyClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">// 覆盖了父类的定义</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">myFunc</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// 但还是可以调用父类中被覆盖的方法</span></span><br><span class="line">        <span class="built_in">parent</span>::myFunc();</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;OtherClass::myFunc()\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$class</span> = <span class="keyword">new</span> OtherClass();</span><br><span class="line"><span class="variable">$class</span>-&gt;myFunc();</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="静态关键字static"><a href="#静态关键字static" class="headerlink" title="静态关键字static"></a>静态关键字static</h4><blockquote>
<p>声明类属性或方法为静态，就可以不实例化类而直接访问。静态属性不能通过一个类已实例化的对象来访问（但静态方法可以）。</p>
<p>由于静态方法不需要通过对象即可调用，所以伪变量 $this 在静态方法中不可用。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">aStaticMethod</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Foo::aStaticMethod();<span class="comment">//无需实例化类就可以调用</span></span><br><span class="line"><span class="variable">$classname</span> = <span class="string">&#x27;Foo&#x27;</span>;</span><br><span class="line"><span class="variable">$classname</span>::aStaticMethod();<span class="comment">//这里其实还是Foo::aStaticMethod();不过是把Foo给了$classname，耍了个小花招罢了</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li><p>静态属性</p>
<blockquote>
<p>静态属性不可以由对象通过 -&gt; 操作符来访问。 //简单说 ：：访问静态，-&gt;访问动态</p>
</blockquote>
</li>
</ul>
<h3 id="trait-特质-方法"><a href="#trait-特质-方法" class="headerlink" title="trait[特质]方法"></a>trait[特质]方法</h3><blockquote>
<p><strong>tarit 是php实现继承和调用的快速简洁的方法</strong></p>
<p><strong>和类相似，但无法实例化。</strong></p>
<p><strong>与使用数据库一样，使用use调用</strong></p>
</blockquote>
<h4 id="优先级："><a href="#优先级：" class="headerlink" title="优先级："></a>优先级：</h4><blockquote>
<p>从基类继承的成员会被 trait 插入的成员所覆盖。优先顺序是来自当前类的成员覆盖了 trait 的方法，而 trait 则覆盖了被继承的方法。</p>
<p>简单说既是：<strong>当前类 &gt; trait &gt; 被继承的父类</strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHello</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;Hello &#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;<span class="comment">//这是一个父类</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">SayWorld</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHello</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">parent</span>::sayHello();<span class="comment">//父类的Hello 被trait覆盖，所以使用parent:: 重新调用出来</span></span><br><span class="line">        <span class="comment">//这里sayHello并没有变量，看作静态处理使用::</span></span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;World!&#x27;</span>; <span class="comment">//覆盖父类</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;<span class="comment">//这是一个trait</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHelloWorld</span> <span class="keyword">extends</span> <span class="title">Base</span> </span>&#123;  <span class="comment">//继承父类Base</span></span><br><span class="line">    <span class="keyword">use</span> <span class="title">SayWorld</span>; <span class="comment">//调用trait Sayworld</span></span><br><span class="line">   <span class="comment">//这里使用trait可以一次性调用许多的“类”，而不用一步步的继承</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$o</span> = <span class="keyword">new</span> MyHelloWorld();</span><br><span class="line"><span class="variable">$o</span>-&gt;sayHello();</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"><span class="comment">//以上会输出Hello World!</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//另一个例子</span></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHello</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;Hello World!&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TheWorldIsNotEnough</span> </span>&#123;</span><br><span class="line">    <span class="keyword">use</span> <span class="title">HelloWorld</span>;<span class="comment">//调用trait</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHello</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;Hello Universe!&#x27;</span>;</span><br><span class="line">    &#125;<span class="comment">//本类优先级高于trait，覆盖调用的trait</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$o</span> = <span class="keyword">new</span> TheWorldIsNotEnough();</span><br><span class="line"><span class="variable">$o</span>-&gt;sayHello();</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"><span class="comment">//结果为：Hello Universe!</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="调用多个trait"><a href="#调用多个trait" class="headerlink" title="调用多个trait"></a>调用多个trait</h4><blockquote>
<p>使用逗号，即可调用多个trait</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Hello</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHello</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;Hello &#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">World</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayWorld</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;World&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHelloWorld</span> </span>&#123;</span><br><span class="line">    <span class="keyword">use</span> <span class="title">Hello</span>, <span class="title">World</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayExclamationMark</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;!&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$o</span> = <span class="keyword">new</span> MyHelloWorld();</span><br><span class="line"><span class="variable">$o</span>-&gt;sayHello();</span><br><span class="line"><span class="variable">$o</span>-&gt;sayWorld();</span><br><span class="line"><span class="variable">$o</span>-&gt;sayExclamationMark();</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"><span class="comment">//以上会输出 Hello World!</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="trait同名冲突解决方法"><a href="#trait同名冲突解决方法" class="headerlink" title="trait同名冲突解决方法"></a>trait同名冲突解决方法</h4><blockquote>
<p>如果两个 trait 都插入了一个同名的方法，如果没有明确解决冲突将会产生一个致命错误。</p>
<p>为了解决多个 trait 在同一个类中的命名冲突，需要使用 <code>insteadof</code>（代替） 操作符来明确指定使用冲突方法中的哪一个。</p>
<p>以上方式仅允许排除掉其它方法，<code>as</code> 操作符可以 为某个方法引入别名。 注意，<code>as</code> 操作符不会对方法进行重命名，也不会影响其方法。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">smallTalk</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">bigTalk</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">smallTalk</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;b&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">bigTalk</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;B&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Talker</span> </span>&#123;</span><br><span class="line">    <span class="keyword">use</span> <span class="title">A</span>, <span class="title">B</span> &#123;</span><br><span class="line">        <span class="title">B</span>::<span class="title">smallTalk</span> <span class="title">insteadof</span> <span class="title">A</span>;<span class="comment">//以B中的smallTalk代替A中的smallTalk(两个同名方法优先B)</span></span><br><span class="line">        A::bigTalk <span class="keyword">insteadof</span> B;<span class="comment">//将A中的bigTalk代替B中的bigTalk(优先A)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="variable">$a</span> = <span class="keyword">new</span> Talker;</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$a</span>-&gt;smallTalk();<span class="comment">//说明smallTalk优先级</span></span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$a</span>-&gt;bigTalk();<span class="comment">//说明bigTalk优先级</span></span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Aliased_Talker</span> </span>&#123;</span><br><span class="line">    <span class="keyword">use</span> <span class="title">A</span>, <span class="title">B</span> &#123;</span><br><span class="line">        <span class="title">B</span>::<span class="title">smallTalk</span> <span class="title">insteadof</span> <span class="title">A</span>;<span class="comment">//以B中的smallTalk代替A中的smallTalk</span></span><br><span class="line">        A::bigTalk <span class="keyword">insteadof</span> B;<span class="comment">//将A中的bigTalk代替B中的bigTalk</span></span><br><span class="line">        B::bigTalk <span class="keyword">as</span> talk;<span class="comment">//给B中的bigTalk起个别名叫talk</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="variable">$b</span> = <span class="keyword">new</span> Aliased_Talker;</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$b</span>-&gt;smallTalk();</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$b</span>-&gt;bigTalk();</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$b</span>-&gt;talk();<span class="comment">//说明替代并不是“覆盖，消除”只是定义同名时优先输出的方法</span></span><br><span class="line"><span class="comment">//结果：</span></span><br><span class="line"><span class="comment">//bA</span></span><br><span class="line"><span class="comment">//bAB</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="使用as修改类的访问控制"><a href="#使用as修改类的访问控制" class="headerlink" title="使用as修改类的访问控制"></a>使用as修改类的访问控制</h4><blockquote>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHello</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;Hello World!&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 修改 sayHello 的访问控制</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass1</span> </span>&#123;</span><br><span class="line">    <span class="keyword">use</span> <span class="title">HelloWorld</span> &#123; <span class="title">sayHello</span> <span class="title">as</span> <span class="title">protected</span>; &#125;<span class="comment">//格式为&#123;内容&#125;，将sayHello 改为protected属性</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 给方法一个改变了访问控制的别名</span></span><br><span class="line"><span class="comment">// 原版 sayHello 的访问控制则没有发生变化</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass2</span> </span>&#123;</span><br><span class="line">    <span class="keyword">use</span> <span class="title">HelloWorld</span> &#123; <span class="title">sayHello</span> <span class="title">as</span> <span class="title">private</span> <span class="title">Hello</span>; &#125;<span class="comment">//改为private属性，并起别名为Hello</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="从-trait-来组成-trait"><a href="#从-trait-来组成-trait" class="headerlink" title="从 trait 来组成 trait"></a>从 trait 来组成 trait</h4><blockquote>
<p>正如 class 能够使用 trait 一样，其它 trait 也能够使用 trait。在 trait 定义时通过使用一个或多个 trait，能够组合其它 trait 中的部分或全部成员</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Hello</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHello</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;Hello &#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">World</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayWorld</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;World!&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">    <span class="keyword">use</span> <span class="title">Hello</span>, <span class="title">World</span>; <span class="comment">//调用上面的trait</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHelloWorld</span> </span>&#123;</span><br><span class="line">    <span class="keyword">use</span> <span class="title">HelloWorld</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$o</span> = <span class="keyword">new</span> MyHelloWorld();</span><br><span class="line"><span class="variable">$o</span>-&gt;sayHello();</span><br><span class="line"><span class="variable">$o</span>-&gt;sayWorld();</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"><span class="comment">//输出结果为：Hello World！</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="对象序列化"><a href="#对象序列化" class="headerlink" title="对象序列化"></a>对象序列化</h3><blockquote>
<p><strong>所有php里面的值都可以使用函数<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/function.serialize.php">serialize()</a>来返回一个包含字节流的字符串来表示。<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/function.unserialize.php">unserialize()</a>函数能够重新把字符串变回php原来的值。 序列化一个对象将会保存对象的所有变量，但是不会保存对象的方法，只会保存类的名字。</strong></p>
<p><strong>为了能够<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/function.unserialize.php">unserialize()</a>一个对象，这个对象的类必须已经定义过。如果序列化类A的一个对象，将会返回一个跟类A相关，而且包含了对象所有变量值的字符串。 如果要想在另外一个文件中反序列化一个对象，这个对象的类必须在反序列化之前定义，可以通过包含一个定义该类的文件或使用函数<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/function.spl-autoload-register.php">spl_autoload_register()</a>来实现。</strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// classa.inc:</span></span><br><span class="line">  </span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">      <span class="keyword">public</span> <span class="variable">$one</span> = <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">      <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">show_one</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">          <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;one;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line"><span class="comment">// page1.php:</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">include</span>(<span class="string">&quot;classa.inc&quot;</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="variable">$a</span> = <span class="keyword">new</span> A;</span><br><span class="line">  <span class="variable">$s</span> = serialize(<span class="variable">$a</span>);</span><br><span class="line">  <span class="comment">// 把变量$s保存起来以便文件page2.php能够读到</span></span><br><span class="line">  file_put_contents(<span class="string">&#x27;store&#x27;</span>, <span class="variable">$s</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// page2.php:</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 要正确反序列化，必须包含下面一个文件</span></span><br><span class="line">  <span class="keyword">include</span>(<span class="string">&quot;classa.inc&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="variable">$s</span> = file_get_contents(<span class="string">&#x27;store&#x27;</span>);</span><br><span class="line">  <span class="variable">$a</span> = unserialize(<span class="variable">$s</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 现在可以使用对象$a里面的函数 show_one()</span></span><br><span class="line">  <span class="variable">$a</span>-&gt;show_one();<span class="comment">//无需实例化</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="匿名类："><a href="#匿名类：" class="headerlink" title="匿名类："></a>匿名类：</h4><blockquote>
<p>PHP从7开始支持匿名类，通常匿名类用来创建一次性的简单对象，匿名类可以继承其他类、实现接口、使用trait，还可以向其构造函数传递参数。</p>
<p>匿名类无需设置类名</p>
<p>注意，匿名类的名称是通过引擎赋予的，如下例所示。 由于实现的细节，不应该去依赖这个类名。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="variable">$class</span> = <span class="keyword">new</span> <span class="class"><span class="keyword">class</span></span></span><br><span class="line"><span class="class">    </span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="variable">$c</span>;</span><br><span class="line">        <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">A</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">$this</span>-&gt;c = <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;c;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;<span class="comment">//直接实例化一个不知名的类</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$class</span>-&gt;A();<span class="comment">//输出类的函数</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">    <span class="comment">//结果为 2</span></span><br></pre></td></tr></table></figure>


<p>匿名类可以直接使用，用后即焚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">var_dump(<span class="keyword">new</span> <span class="class"><span class="keyword">class</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">log</span>(<span class="params"><span class="variable">$msg</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="variable">$msg</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"><span class="comment">//输出结果</span></span><br><span class="line"><span class="comment">//object(class@anonymous)#1 (0) &#123;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h5 id="匿名类的嵌套"><a href="#匿名类的嵌套" class="headerlink" title="匿名类的嵌套:"></a>匿名类的嵌套:</h5><blockquote>
<p>匿名类被嵌套进普通 Class 后，不能访问这个外部类（Outer class）的 private（私有）、protected（受保护）方法或者属性。 为了访问外部类（Outer class）protected 属性或方法，匿名类可以 extend（扩展）此外部类。 为了使用外部类（Outer class）的 private 属性，必须通过构造器传进来：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">niming</span></span></span><br><span class="line"><span class="class">    </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">protected</span> <span class="variable">$b</span> = <span class="number">100</span>;</span><br><span class="line">    	<span class="comment">//public $a;</span></span><br><span class="line">    </span><br><span class="line">        <span class="comment">//public function A()</span></span><br><span class="line">        <span class="comment">//&#123;</span></span><br><span class="line">        <span class="comment">//    $this-&gt;a = 1;</span></span><br><span class="line">        <span class="comment">//    $this-&gt;b = $this-&gt;a + 1;</span></span><br><span class="line">        <span class="comment">//    return $this-&gt;b;</span></span><br><span class="line">        <span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">B</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">niming</span></span>&#123; <span class="comment">//嵌套一个匿名类</span></span><br><span class="line">                <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">C</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">                </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;b; <span class="comment">// 返回$b的值</span></span><br><span class="line">                    <span class="comment">//如果成功访问到$b = 100 输出100</span></span><br><span class="line">                    <span class="comment">//否则无输出值</span></span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">echo</span> (<span class="keyword">new</span> niming())-&gt;B()-&gt;C();</span><br><span class="line"><span class="comment">//使用extends继承niming类时，结果为100</span></span><br><span class="line"><span class="comment">//不继承输出为空</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>


</blockquote>
<h3 id="类的实例化"><a href="#类的实例化" class="headerlink" title="类的实例化"></a>类的实例化</h3><h4 id="实例化对象-new"><a href="#实例化对象-new" class="headerlink" title="实例化对象    new"></a>实例化对象    new</h4><blockquote>
<p>关键字new用于将类实例化成为对象</p>
<p>语法：$a = new [类的名字] (参数数列表);</p>
<p>如果不需为对象传递参数，可以只写名字</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$instance</span> = <span class="keyword">new</span> SimpleClass();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 也可以这样做：</span></span><br><span class="line"><span class="variable">$className</span> = <span class="string">&#x27;SimpleClass&#x27;</span>;</span><br><span class="line"><span class="variable">$instance</span> = <span class="keyword">new</span> <span class="variable">$className</span>(); <span class="comment">// new SimpleClass()</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public的变量可以如果没有static是可以实例化调用的调用，如果有static，就不能实例化调用。</span><br></pre></td></tr></table></figure>

<ul>
<li><p>调用静态的属性和方法：</p>
<p>  正确做法</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">class myclass&#123;</span><br><span class="line">public static $name=&quot;amos&quot;;</span><br><span class="line">&#125;</span><br><span class="line">class myclass1&#123;</span><br><span class="line">public $mingzi=&quot;amos&quot;;</span><br><span class="line">&#125;</span><br><span class="line">echo myclass::$name;</span><br><span class="line">$p2=new myclass1();</span><br><span class="line">echo $p2-&gt;mingzi;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>  错误的写法：</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">class myclass&#123;</span><br><span class="line">public static $name=&quot;amos&quot;;</span><br><span class="line">&#125;</span><br><span class="line">class myclass1&#123;</span><br><span class="line">public $mingzi=&quot;amos&quot;;</span><br><span class="line">&#125;</span><br><span class="line">$p1=new myclass();</span><br><span class="line">echo $p1-&gt;name;</span><br><span class="line">echo myclass1::$mingzi;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>  简单来说，非静态属性和方法先实例化类，在使用-&gt;调用，语法[实例化变量]-&gt;[要调用的属性或方法]；</p>
<p>  静态属性和方法则使用双冒号调用，语法：[类名]::[要调用的静态属性或方法]</p>
  <figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">	</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="get-class-译为：获取类"><a href="#get-class-译为：获取类" class="headerlink" title="get_class 译为：获取类"></a>get_class 译为：获取类</h4><blockquote>
<p>用于返回类的名称</p>
<p>语法：</p>
<p>get_class(object $object=?):字符串</p>
<p>获取给定类的名称object。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">object</span><br></pre></td></tr></table></figure>

<p>被测对象。在类内部时，可以省略此参数。</p>
<p>如果在一个类里，省略了参数 <code>object</code>， 则返回当前所在类的名称。</p>
<p>如果 <code>object</code> 是命名空间中某个类的实例，则会返回带上命名空间的类名。</p>
</blockquote>
<h2 id="命名空间"><a href="#命名空间" class="headerlink" title="命名空间"></a>命名空间</h2><h3 id="概述：-1"><a href="#概述：-1" class="headerlink" title="概述："></a>概述：</h3><blockquote>
<p>命名空间是封装事物的方法</p>
<p>在很多地方都可以见到这种抽象概念。例如，在操作系统中目录用来将相关文件分组，对于目录中的文件来说，它就扮演了命名空间的角色。具体举个例子，文件 <code>foo.txt</code> 可以同时在目录 <code>/home/greg</code> 和 <code>/home/other</code> 中存在，但在同一个目录中不能存在两个 <code>foo.txt</code> 文件。另外，在目录 <code>/home/greg</code> 外访问 <code>foo.txt</code> 文件时，我们必须将目录名以及目录分隔符放在文件名之前得到 <code>/home/greg/foo.txt</code>。这个原理应用到程序设计领域就是命名空间的概念。</p>
</blockquote>
<blockquote>
<p>在 PHP 中，命名空间用来解决在编写类库或应用程序时创建可重用的代码如类或函数时碰到的两类问题：</p>
<ol>
<li>用户编写的代码与PHP内部的类/函数/常量或第三方类/函数/常量之间的名字冲突。</li>
<li>为很长的标识符名称(通常是为了缓解第一类问题而定义的)创建一个别名（或简短）的名称，提高源代码的可读性。</li>
</ol>
<p>PHP 命名空间提供了一种将相关的类、函数和常量组合到一起的途径。</p>
</blockquote>
<h3 id="定义命名空间"><a href="#定义命名空间" class="headerlink" title="定义命名空间"></a>定义命名空间</h3><blockquote>
<p>虽然任意合法的 PHP 代码都可以包含在命名空间中，但只有以下类型的代码受命名空间的影响，它们是：类（包括抽象类和 trait）、接口、函数和常量。</p>
<p>命名空间通过关键字 <code>namespace</code> 来声明。如果一个文件中包含命名空间，它必须在其它所有代码之前声明命名空间，除了一个以外：<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/control-structures.declare.php">declare</a>关键字。</p>
</blockquote>
<h4 id="namespace-方法"><a href="#namespace-方法" class="headerlink" title="namespace 方法"></a>namespace 方法</h4><blockquote>
<p>namespace 译为：命名空间</p>
<p>语法：namespace [空间名称]</p>
<p>在声明命名空间之前唯一合法的代码是用于定义源文件编码方式的 <code>declare</code> 语句。另外，所有非 PHP 代码包括空白符都不能出现在命名空间的声明之前：</p>
<p>即声明命名空间的语句必须在php代码的第一条</p>
</blockquote>
<h2 id="数据类型与逻辑运算"><a href="#数据类型与逻辑运算" class="headerlink" title="数据类型与逻辑运算"></a>数据类型与逻辑运算</h2><h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><ul>
<li><p>数据的分类  </p>
<blockquote>
<p>数据主要分三大类八小类，值存储数据本身的类型而不是变量类型。</p>
</blockquote>
<blockquote>
<p>简单基本数据类型[四小类]<br>1- 整型：<br>int/integer ，在计算机中占四个字节储存，表示整数类型（前提为整型存的下）。<br>2- 浮点型：<br>float/double ，在php中浮点型单双精度是一个概念，两者并无区别，表示小数或整型存不下的数。<br>3- 字符串型：<br>string ,同其他语言，php中字符串用引号引起，系统根据实际长度分配存储空间。<br>4- 布尔型：<br>bool/boolean ,布尔型只有两个值，ture和false,是最简单的类型。</p>
</blockquote>
<blockquote>
<p>复合数据类型[两小类]<br>1- 对象类型：<br>object ,存放对象<br>2- 数组类型：<br>array ,一次性存储多个数据  </p>
</blockquote>
<blockquote>
<p>特殊类型[两小类]<br>1- 资源类型：<br>  resource ，存放数据资源（php外部数据，如数据库，文件）<br>2- 空类型：<br> NOLL ，只有一个NOLL，不能运算。  </p>
</blockquote>
</li>
<li><p>数据类型的转化  </p>
<blockquote>
<p>在有些时候需要指定的数据类型，这时需要将数据转化成指定形式 </p>
</blockquote>
<blockquote>
<p>php中类型转化的方式：<br>1- 自动转化：<br>常用，效率低。<br><img src="4.png" alt="4">如图加法运算不能包括字母，此时系统便会自动转化为整形和浮点型运算<br>注意：系统会将数字中遇到的第一个小数点当作浮点型转化，后续小数点会被忽略。<br>2- 强制（手动）转化：<br>在变量前加上括号，括号中写入数据类型。<br>NOLL类型比较特殊，转NOLL类型需要用到unset()函数。<br><img src="5.png" alt="5"></p>
</blockquote>
</li>
<li><p>数据类型判断  </p>
<blockquote>
<p>基本作用函数：is_变量名<br>用与查看的函数：var_dump();<br><img src="6.png" alt="6"><br>如图，是则输出turn，不是则输出false。  </p>
</blockquote>
<blockquote>
<p>设定数据类型：<br> gettype(变量名);查看当前数据类型。<br> settype(变量名，类型);设定数据类型（改变数据本身）<br><img src="7.png" alt="7"><br> bool(turn)说明转化成功。 </p>
</blockquote>
</li>
<li><p>数据的进制转化  </p>
<blockquote>
<p>进制表示：<br>$a=120 //dec（十进制）<br>$b=0b120 //bin(二进制)<br>$c=0120  //oct(八进制)<br>$d=0x120  //hex(十六进制)<br>注意：php中，所有数都会默认转化为十进制。<br><img src="8.png" alt="8"></p>
</blockquote>
<blockquote>
<p>进制的手动转化：<br> 函数：[转换前]<a href="%E8%BD%AC%E5%8C%96%E5%89%8D%E5%8F%98%E9%87%8F%E6%88%96%E6%95%B0">转换后</a><br><img src="9.png" alt="9"></p>
</blockquote>
</li>
<li><p>浮点型和布尔型的特殊分类：</p>
<blockquote>
<p>有小数点默认为浮点型<br>超过整型存储范围为浮点型<br>浮点型不精确<br><img src="10.png" alt="10"></p>
</blockquote>
<blockquote>
<p>两个判断数据存在的函数<br>1- empty(); 判断数据的值是否为空（不是NOLL），是则返回true，不为空返回false.<br>2- isset(); 判断数据储存的变量本身是否存在，存在返回true，不存在返回flase。  </p>
</blockquote>
</li>
</ul>
<h3 id="逻辑运算"><a href="#逻辑运算" class="headerlink" title="逻辑运算"></a>逻辑运算</h3><ul>
<li><p>运算符  </p>
<blockquote>
<p>赋值，算数与比较。<br>php运算符用法同其他语言。<br>“=”，将左边内容赋值给右边。<br>“+,-,*,/“,同数学<br>“%”,取余运算、返回余数。<br>“&lt;、&gt;、=、!=”，用法同数学。  </p>
</blockquote>
<blockquote>
<p>逻辑运算符<br>与运算：&amp;&amp; 相当与数学的交集，只有同时满足&amp;&amp;两边的条件时返回true，有一个错便是false。<br>或运算：|| 相当于数学的并集，左右两边任意一个成立便返回true，只有两边同时错误才返回false。<br>注意：或运算中如果第一个语句为真，便不再执行第二条语句。<br>非运算：！ 相当与数学的补集，条件为真时返回true，条件为假时返回false。  </p>
</blockquote>
<blockquote>
<p>连接运算符<br> php中语句中间部分用”,”或”.”连接。<br> 错误抑制符<br> “@”:错误抑制符，php有些错误可以被提前预知但无法避免，这时可以用错误抑制符处理。  </p>
</blockquote>
<blockquote>
<p>三目运算符<br>三目运算符是多个表达式运算的简单分支缩写<br>语法格式：<br>表达式1？表达式2：表达式3<br>运算：如果表达式1成立，运行表达式2，否则运行表达式3。<br>三目运算符可以多层使用，如：<br>表达式1？（表达式2？表达式3：表达式4）：（表达式5？表达式6：表达式7）  </p>
</blockquote>
<blockquote>
<p>自操作运算符<br>++<br>i++在i原来的基础上加一（先赋值再加1）<br>++i在原来基础上加一（先加1后赋值）<br>–（与++同理）  </p>
</blockquote>
</li>
<li><p>计算机码  </p>
<blockquote>
<p>原码、反码与补码<br>原码是将原本的数按二进制保存在计算机中<br>例如：%d=4/%d=-4<br>原码：00001000  10001000 计算机码中第一个字表示正负，0表示正数、1表示负数。  </p>
</blockquote>
<blockquote>
<p>反码：<br>反正是在原码的基础上，正数不变，负数除开头表示正负的1外全部取反。<br>例如：%d=-4<br>原码：10001000<br>反码：11110111  </p>
</blockquote>
<blockquote>
<p>补码是在反码的基础上，正数不变，负数加1。<br>例如：%d=-4<br>原码：10001000<br>反码：11110111<br>补码：11111000  </p>
</blockquote>
<blockquote>
<p>位运算符<br><img src="11.png" alt="11"></p>
</blockquote>
</li>
<li><p>运算符优先级<br><img src="12.png" alt="12"></p>
<blockquote>
<p>如图，优先级自上而下依次降低  </p>
</blockquote>
</li>
</ul>
<h3 id="结构控制"><a href="#结构控制" class="headerlink" title="结构控制"></a>结构控制</h3><h4 id="选择结构控制"><a href="#选择结构控制" class="headerlink" title="选择结构控制"></a>选择结构控制</h4><ul>
<li><p>if 分支语句  </p>
<blockquote>
<p>if语句用于条件选择<br>结构：<br>if(表达式1)  </p>
<pre><code>表达式2; //如果表达式1正确执行表达式2  
</code></pre>
<p>else </p>
<pre><code>表达式3; //反之则执行表达式3  
</code></pre>
</blockquote>
<blockquote>
<p>结构嵌套<br>if 语句包括大多数结构控制语句都可以结构嵌套（套娃）<br>如：<br>if(表达式1)</p>
<pre><code>表达式2;
</code></pre>
<p>  else if(表达式3)</p>
<pre><code>表达式4；
 else 
   whlie&#123;
     (表达式5)
</code></pre>
<p>}</p>
</blockquote>
</li>
<li><p>switch分支（转换分支）  </p>
<blockquote>
<p>在一种情况下有多个值，每个值都有对应不同的代码执行<br>语句结构：<br>switch(表达式1)<br>  case 值1;  </p>
<pre><code> 表达式2; //当表达式1的值为值1时，运行表达式2.  
</code></pre>
<p>  break;  //运行表达式2后结束循环，不再进行后续运算。<br>  case 值2;  </p>
<pre><code> 表达式3; //当表达式1运行结果是值2时，运行表达式3.  
</code></pre>
<p>  break;  </p>
</blockquote>
</li>
</ul>
<h4 id="循环结构控制"><a href="#循环结构控制" class="headerlink" title="循环结构控制"></a>循环结构控制</h4><ul>
<li><p>for循环  </p>
<blockquote>
<p>for循环格式<br>for(条件表达式1;条件表达式2;条件表达式3)<br>//条件表达式1：定义初始化条件，可以是用逗号分隔的多个语句，但无论是否定义都必须用”;”结束。<br>//条件表达式2：边界判定，限制循环次数，最后要用”;”结束。<br>//条件表达式3：执行条件变化，因其是最后一条语句，不需要用”;”结束。  </p>
</blockquote>
</li>
<li><p>whlie循环与do-while循环    </p>
<blockquote>
<p>while循环：<br>循环语句：<br>条件初始化;<br>while(条件表达式)<br>{<br>  循环体  //循环条件变化。<br>}   </p>
</blockquote>
<blockquote>
<p>do-while循环<br>while循环先判断条件表达式，表达式成立才执行，do-while循环先执行循环，再判断表达式是否成立。<br>循环语句：<br>do<br>{<br>  循环体;<br>}<br>while(条件表达式);  </p>
</blockquote>
</li>
</ul>
<h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2><ul>
<li><p>PCRE(preg)函数</p>
<blockquote>
<p>规则正则读取的一类函数，包括查找，替换，匹配等<br>正则：字符串的匹配规则  </p>
</blockquote>
<p> 定界符：正则开始时需写明的字符，常用//也可用||和&lt;&gt;等</p>
<p> 原子：最少的一个匹配单位，每个正则都要有一个，写与定界符里</p>
<p> 元字符：用于扩展原子的功能，不能单独使用</p>
<p> 模式修正符：对整个表达式进行修正，位于定界符外</p>
</li>
</ul>
<h2 id="MySQL数据库的连接"><a href="#MySQL数据库的连接" class="headerlink" title="MySQL数据库的连接"></a>MySQL数据库的连接</h2><h3 id="mysql-connect-函数连接数据库"><a href="#mysql-connect-函数连接数据库" class="headerlink" title="mysql_connect()函数连接数据库"></a>mysql_connect()函数连接数据库</h3><blockquote>
<p>mysql_connect() 函数打开非持久的 MySQL 连接。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql_connect(server,user,pwd,newlink,clientflag)</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">server<br />服务器</td>
<td align="left">可选。规定要连接的服务器。可以包括端口号，例如 “hostname:port”，或者到本地套接字的路径，例如对于 localhost 的 “:/path/to/socket”。如果 PHP 指令 mysql.default_host 未定义（默认情况），则默认值是 ‘localhost:3306’。</td>
</tr>
<tr>
<td align="left">user</td>
<td align="left">可选。用户名。默认值是服务器进程所有者的用户名。</td>
</tr>
<tr>
<td align="left">pwd</td>
<td align="left">可选。密码。默认值是空密码。</td>
</tr>
<tr>
<td align="left">newlink<br />新建链接</td>
<td align="left">可选。如果用同样的参数第二次调用 mysql_connect()，将不会建立新连接，而将返回已经打开的连接标识。参数 new_link 改变此行为并使 mysql_connect() 总是打开新的连接，甚至当 mysql_connect() 曾在前面被用同样的参数调用过。</td>
</tr>
<tr>
<td align="left">clientflag<br />客户端标志</td>
<td align="left">可选。client_flags 参数可以是以下常量的组合：MYSQL_CLIENT_SSL - 使用 SSL 加密MYSQL_CLIENT_COMPRESS - 使用压缩协议MYSQL_CLIENT_IGNORE_SPACE - 允许函数名后的间隔MYSQL_CLIENT_INTERACTIVE - 允许关闭连接之前的交互超时非活动时间</td>
</tr>
</tbody></table>
</blockquote>
<h3 id="mysqli-query-函数执行sql命令"><a href="#mysqli-query-函数执行sql命令" class="headerlink" title="mysqli_query()函数执行sql命令"></a>mysqli_query()函数执行sql命令</h3><blockquote>
<p>语法：</p>
<p>mysqli_query(<em>connection,query,resultmode</em>)<em>;</em></p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><em>connection</em></td>
<td align="left">必需。规定要使用的 MySQL 连接。</td>
</tr>
<tr>
<td align="left"><em>query</em></td>
<td align="left">必需，规定查询字符串（要执行的语句）。</td>
</tr>
<tr>
<td align="left"><em>resultmode</em></td>
<td align="left">可选。一个常量。可以是下列值中的任意一个：MYSQLI_USE_RESULT（如果需要检索大量数据，请使用这个）MYSQLI_STORE_RESULT（默认）</td>
</tr>
</tbody></table>
</blockquote>
<h3 id="mysql-fetch-array-函数生成关联数组"><a href="#mysql-fetch-array-函数生成关联数组" class="headerlink" title="mysql_fetch_array()函数生成关联数组"></a>mysql_fetch_array()函数生成关联数组</h3><blockquote>
<p>mysql_fetch_array() 函数从结果集中取得一行作为关联数组，或数字数组，或二者兼有</p>
<p>返回根据从结果集取得的行生成的数组，如果没有更多行则返回 false。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql_fetch_array(data,array_type)</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><em>data</em></td>
<td align="left">可选。规定要使用的数据指针。该数据指针是 mysql_query() 函数产生的结果。</td>
</tr>
<tr>
<td align="left"><em>array_type</em></td>
<td align="left">可选。规定返回哪种结果。可能的值：MYSQL_ASSOC - 关联数组MYSQL_NUM - 数字数组MYSQL_BOTH - 默认。同时产生关联和数字数组</td>
</tr>
</tbody></table>
</blockquote>
<h2 id="文件处理"><a href="#文件处理" class="headerlink" title="文件处理"></a>文件处理</h2><h3 id="加载文件"><a href="#加载文件" class="headerlink" title="加载文件"></a>加载文件</h3><h4 id="include-文件-requeire-文件"><a href="#include-文件-requeire-文件" class="headerlink" title="include 文件 || requeire 文件"></a>include 文件 || requeire 文件</h4><blockquote>
<p>include （或 require）语句会获取指定文件中存在的所有文本/代码/标记，并复制到使用 include 语句的文件中。</p>
<p>包含文件很有用，如果您需要在网站的多张页面上引用相同的 PHP、HTML 或文本的话。</p>
<p>通过 include 或 require 语句，可以将 PHP 文件的内容插入另一个 PHP 文件（在服务器执行它之前）。</p>
<ul>
<li>include 和 require 语句是相同的，除了错误处理方面：<ul>
<li>require 会生成致命错误（E_COMPILE_ERROR）并停止脚本</li>
<li>include 只生成警告（E_WARNING），并且脚本会继续</li>
</ul>
</li>
</ul>
<p>包含文件省去了大量的工作。这意味着您可以为所有页面创建标准页头、页脚或者菜单文件。然后，在页头需要更新时，您只需更新这个页头包含文件即可。</p>
<ul>
<li><p>语法：</p>
<p>  include ‘filename’; 或 require ‘filename’;</p>
<p>  filename: 必须，文件路径（优先相对路径）</p>
<p>  使用include || require 命令的位置就是代码嵌入的位置</p>
</li>
</ul>
<p>php中被包含的文件是单独编译的</p>
<p><img src="image-20210403195725604.png" alt="image-20210403195725604"></p>
</blockquote>
<h3 id="创建文件"><a href="#创建文件" class="headerlink" title="创建文件"></a>创建文件</h3><h4 id="fopen-函数创建文件"><a href="#fopen-函数创建文件" class="headerlink" title="fopen()函数创建文件"></a>fopen()函数创建文件</h4><blockquote>
<p>fopen() 函数也用于创建文件</p>
<p>在 PHP 中，创建文件所用的函数与打开文件的相同。</p>
<p>如果用 fopen() 打开并不存在的文件，此函数会创建文件</p>
<p>语法：<strong>fopen(“[文件名称]”，”[打开方式]”)</strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$buildfile</span> = fopen(<span class="string">&quot;text.txt&quot;</span>,<span class="string">&quot;w&quot;</span>);</span><br></pre></td></tr></table></figure>

<p><strong>打开方式：</strong></p>
<table>
<thead>
<tr>
<th align="left">模式</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">r</td>
<td align="center">只读。在文件的开头开始。</td>
</tr>
<tr>
<td align="left">r+</td>
<td align="center">读/写。在文件的开头开始。</td>
</tr>
<tr>
<td align="left">w</td>
<td align="center">只写。打开并清空文件的内容；如果文件不存在，则创建新文件。</td>
</tr>
<tr>
<td align="left">w+</td>
<td align="center">读/写。打开并清空文件的内容；如果文件不存在，则创建新文件。</td>
</tr>
<tr>
<td align="left">a</td>
<td align="center">追加。打开并向文件末尾进行写操作，如果文件不存在，则创建新文件。</td>
</tr>
<tr>
<td align="left">a+</td>
<td align="center">读/追加。通过向文件末尾写内容，来保持文件内容。</td>
</tr>
<tr>
<td align="left">x</td>
<td align="center">只写。创建新文件。如果文件已存在，则返回 FALSE 和一个错误。</td>
</tr>
<tr>
<td align="left">x+</td>
<td align="center">读/写。创建新文件。如果文件已存在，则返回 FALSE 和一个错误。</td>
</tr>
</tbody></table>
</blockquote>
<h4 id="fclose-函数关闭文件"><a href="#fclose-函数关闭文件" class="headerlink" title="fclose()函数关闭文件"></a>fclose()函数关闭文件</h4><blockquote>
<p>同之前版本的python ，php 操作文件后也需要关闭操作</p>
<p>与创建文件命令同时使用</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$buildfile</span> = fopen(<span class="string">&quot;text&quot;</span>,<span class="string">&quot;w&quot;</span>);</span><br><span class="line">fclose(<span class="variable">$bulidfile</span>);</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="feof-函数检测是否达到文件末尾"><a href="#feof-函数检测是否达到文件末尾" class="headerlink" title="feof()函数检测是否达到文件末尾"></a>feof()函数检测是否达到文件末尾</h4><blockquote>
<p>feof() 函数检测是否已到达文件末尾（EOF）。</p>
<p>在循环遍历未知长度的数据时，feof() 函数很有用。</p>
<p>在 w 、a 和 x 模式下，无法读取打开的文件！</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>（feof(<span class="variable">$buildfile</span>)） <span class="keyword">echo</span> <span class="string">&quot;文件已到结束&quot;</span>;</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="fgets-函数逐行读取文件"><a href="#fgets-函数逐行读取文件" class="headerlink" title="fgets()函数逐行读取文件"></a>fgets()函数逐行读取文件</h4><blockquote>
<p>fgets() 函数用于从文件中逐行读取文件。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$file</span> = fopen(<span class="string">&quot;welcome.txt&quot;</span>, <span class="string">&quot;r&quot;</span>) <span class="keyword">or</span> <span class="keyword">exit</span>(<span class="string">&quot;无法打开文件!&quot;</span>);</span><br><span class="line"><span class="comment">// 读取文件每一行，直到文件结尾</span></span><br><span class="line"><span class="keyword">while</span>(!feof(<span class="variable">$file</span>))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">echo</span> fgets(<span class="variable">$file</span>). <span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">fclose(<span class="variable">$file</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="fgetc-函数逐字符读取文件"><a href="#fgetc-函数逐字符读取文件" class="headerlink" title="fgetc()函数逐字符读取文件"></a>fgetc()函数逐字符读取文件</h4><blockquote>
<p>fgetc() 函数用于从文件中逐字符地读取文件。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$file</span>=fopen(<span class="string">&quot;welcome.txt&quot;</span>,<span class="string">&quot;r&quot;</span>) <span class="keyword">or</span> <span class="keyword">exit</span>(<span class="string">&quot;无法打开文件!&quot;</span>);</span><br><span class="line"><span class="keyword">while</span> (!feof(<span class="variable">$file</span>))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">echo</span> fgetc(<span class="variable">$file</span>);</span><br><span class="line">&#125;</span><br><span class="line">fclose(<span class="variable">$file</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="fwrite-函数写入文件"><a href="#fwrite-函数写入文件" class="headerlink" title="fwrite()函数写入文件"></a>fwrite()函数写入文件</h4><blockquote>
<p>fwrite() 的第一个参数包含要写入的文件的文件名，第二个参数是被写的字符串。</p>
<p>语法：</p>
<p>fwrite(“text.txt”,”hello world!”)</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">	<span class="variable">$buildfile</span> = fopen(<span class="string">&quot;text.txt&quot;</span>,<span class="string">&quot;w&quot;</span>) <span class="keyword">or</span> <span class="keyword">exit</span>(<span class="string">&quot;创建文件失败&quot;</span>);</span><br><span class="line">	<span class="variable">$txt</span> = <span class="string">&quot;Hello World!\n&quot;</span>;</span><br><span class="line">	fwrite(<span class="variable">$buildfile</span>,<span class="variable">$txt</span>);</span><br><span class="line">	fclose(<span class="variable">$buildfile</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>当文件中原本就有内容新写入的内容将会覆盖原来的内容</p>
</blockquote>
<h4 id="file-put-contents-函数将字符串写入文件"><a href="#file-put-contents-函数将字符串写入文件" class="headerlink" title="file_put_contents()函数将字符串写入文件"></a>file_put_contents()函数将字符串写入文件</h4><blockquote>
<ol>
<li>如果设置了 FILE_USE_INCLUDE_PATH，那么将检查 <em>filename</em> 副本的内置路径</li>
<li>如果文件不存在，将创建一个文件</li>
<li>打开文件</li>
<li>如果设置了 LOCK_EX，那么将锁定文件</li>
<li>如果设置了 FILE_APPEND，那么将移至文件末尾。否则，将会清除文件的内容</li>
<li>向文件中写入数据</li>
<li>关闭文件并对所有文件解锁</li>
</ol>
<p>如果成功，该函数将返回写入文件中的字符数。如果失败，则返回 False。</p>
<p>语法：</p>
<p><strong>file_put_contents(“文件名/路径”,”字符串/数据”)</strong></p>
</blockquote>
<h4 id="file-get-contents-函数获取文件内容"><a href="#file-get-contents-函数获取文件内容" class="headerlink" title="file_get_contents()函数获取文件内容"></a>file_get_contents()函数获取文件内容</h4><blockquote>
<p>语法：</p>
<p><strong>fille_get_contents(‘文件名’);</strong></p>
</blockquote>
<h2 id="函数创建"><a href="#函数创建" class="headerlink" title="函数创建"></a>函数创建</h2><ul>
<li>function方法<blockquote>
<p>自定义函数<br>语法：<br>function <a href="">函数名</a><br>{<br> //要执行的代码<br>}<br>自定义函数调用示例：</p>
<?php
function writeName()
{
    echo "Atmujie";
}
</blockquote>
echo “My name is “;<br>writeName();<br>?&gt;<br>输出结果：My name is Atmujie  </li>
</ul>
<h2 id="内置函数解析"><a href="#内置函数解析" class="headerlink" title="内置函数解析"></a>内置函数解析</h2><h3 id="json函数"><a href="#json函数" class="headerlink" title="json函数"></a>json函数</h3><blockquote>
<table>
<thead>
<tr>
<th><strong>json_encode</strong></th>
<th><strong>对变量进行json编码</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>json_decode</strong></td>
<td><strong>对json格式的字符串进行解码，转换为php变量</strong></td>
</tr>
<tr>
<td><strong>json_last_error</strong></td>
<td><strong>返回最后发生的错误</strong></td>
</tr>
</tbody></table>
<p><strong>在函数中返回一个数组时，要用json函数</strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">abc</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="variable">$a</span> = <span class="keyword">array</span>(<span class="string">&#x27;aa&#x27;</span>=&gt;<span class="number">1</span>,<span class="string">&#x27;bb&#x27;</span>=&gt;<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">return</span> json_encode(<span class="variable">$a</span>);</span><br><span class="line">&#125;</span><br><span class="line">abc();</span><br><span class="line"><span class="comment">//结果&#123;&quot;aa&quot;:1,&quot;bb&quot;:2&#125;</span></span><br></pre></td></tr></table></figure>


</blockquote>
<h3 id="assert-函数检查表达式是否成立"><a href="#assert-函数检查表达式是否成立" class="headerlink" title="assert()函数检查表达式是否成立"></a>assert()函数检查表达式是否成立</h3><blockquote>
<p>php中assert函数用来检查表达式是否成立，返回ture or flase</p>
<p>主要用来debug（调试）</p>
<p>语法：assert(mixed[类型说明] $assertion[断言])</p>
<p><strong>如果 <code>assertion</code> 是字符串，它将会被 assert() 当做 PHP 代码来执行。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">assertion</span><br></pre></td></tr></table></figure>

<p>断言。在PHP 5中，它必须是要评估的字符串或要测试的布尔值。在PHP 7中，这也可以是任何返回值的表达式，该表达式将被执行并将结果用于指示断言是成功还是失败。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">description</span><br></pre></td></tr></table></figure>

<p>如果 <code>assertion</code> 失败了，选项 description 将会包括在失败信息里。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exception</span><br></pre></td></tr></table></figure>

<p>在PHP 7中，第二个参数可以是 <strong>Throwable</strong>对象，而不是描述性 字符串，在这种情况下，这是断言失败并且 启用<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/info.configuration.php#ini.assert.exception">assert.exception</a>配置指令时将抛出的对象 。</p>
</blockquote>
<h3 id="isset-函数"><a href="#isset-函数" class="headerlink" title="isset()函数"></a>isset()函数</h3><blockquote>
<p>isset 译为：弹出</p>
<p>功能：检测变量是否已设置并且非null</p>
<p>语法：isset($var,$…=?)</p>
<p>$var:要检查的变量</p>
<p>如果 <code>var</code> 存在并且值不是 <strong><code>null</code></strong> 则返回 **<code>true</code>**，否则返回 **<code>false</code>**。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$a</span> = <span class="keyword">array</span> (<span class="string">&#x27;test&#x27;</span> =&gt; <span class="number">1</span>, <span class="string">&#x27;hello&#x27;</span> =&gt; <span class="literal">NULL</span>, <span class="string">&#x27;pie&#x27;</span> =&gt; <span class="keyword">array</span>(<span class="string">&#x27;a&#x27;</span> =&gt; <span class="string">&#x27;apple&#x27;</span>));</span><br><span class="line"></span><br><span class="line">var_dump(<span class="keyword">isset</span>(<span class="variable">$a</span>[<span class="string">&#x27;test&#x27;</span>]));            <span class="comment">// TRUE</span></span><br><span class="line">var_dump(<span class="keyword">isset</span>(<span class="variable">$a</span>[<span class="string">&#x27;foo&#x27;</span>]));             <span class="comment">// FALSE</span></span><br><span class="line">var_dump(<span class="keyword">isset</span>(<span class="variable">$a</span>[<span class="string">&#x27;hello&#x27;</span>]));           <span class="comment">// FALSE</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 键 &#x27;hello&#x27; 的值等于 NULL，所以被认为是未置值的。</span></span><br><span class="line"><span class="comment">// 如果想检测 NULL 键值，可以试试下边的方法。 </span></span><br><span class="line">var_dump(array_key_exists(<span class="string">&#x27;hello&#x27;</span>, <span class="variable">$a</span>)); <span class="comment">// TRUE</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Checking deeper array values</span></span><br><span class="line">var_dump(<span class="keyword">isset</span>(<span class="variable">$a</span>[<span class="string">&#x27;pie&#x27;</span>][<span class="string">&#x27;a&#x27;</span>]));        <span class="comment">// TRUE</span></span><br><span class="line">var_dump(<span class="keyword">isset</span>(<span class="variable">$a</span>[<span class="string">&#x27;pie&#x27;</span>][<span class="string">&#x27;b&#x27;</span>]));        <span class="comment">// FALSE</span></span><br><span class="line">var_dump(<span class="keyword">isset</span>(<span class="variable">$a</span>[<span class="string">&#x27;cake&#x27;</span>][<span class="string">&#x27;a&#x27;</span>][<span class="string">&#x27;b&#x27;</span>]));  <span class="comment">// FALSE</span></span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>


</blockquote>
<h3 id="highlight-file-函数"><a href="#highlight-file-函数" class="headerlink" title="highlight_file()函数"></a>highlight_file()函数</h3><blockquote>
<p>对文件进行语法高亮显示<br> high高的，light光 highlight高亮<br> 语法：highlight_file(filename,return)<br> filename:必须，要进行高亮处理的路径<br> return:可选，如果为trun 则返回高亮处理的代码  </p>
</blockquote>
<h3 id="dirname-函数"><a href="#dirname-函数" class="headerlink" title="dirname()函数"></a>dirname()函数</h3><blockquote>
<p>返回路径中的目录部分<br> dirname 译为：文件名<br> 语法：<br> dirname(filename)<br> filename:必要，文件路径    </p>
</blockquote>
<h3 id="array-函数"><a href="#array-函数" class="headerlink" title="array()函数"></a>array()函数</h3><blockquote>
<p>创建一个数组<br>语法：$a = array();    </p>
<p>举例：</p>
<p><img src="image-20210417143743209.png" alt="image-20210417143743209"></p>
</blockquote>
<h3 id="count-函数"><a href="#count-函数" class="headerlink" title="count()函数"></a>count()函数</h3><blockquote>
<p>返回数组长度<br> 语法：$b = count($a);  </p>
</blockquote>
<h3 id="serialize-函数"><a href="#serialize-函数" class="headerlink" title="serialize()函数"></a>serialize()函数</h3><blockquote>
<p>将指定的字符串进行序列化        </p>
</blockquote>
<h3 id="exit-函数"><a href="#exit-函数" class="headerlink" title="exit()函数"></a>exit()函数</h3><blockquote>
<p>输出一条消息，并退出当前脚本<br>语法：exit(status)<br>status:必须，规定退出脚本之前写入的消息或状态号。状态号不会被写入输出。</p>
<p>如果 <em>status</em> 是字符串，则该函数会在退出前输出字符串。</p>
<p>如果 <em>status</em> 是整数，这个值会被用作退出状态。退出状态的值在 0 至 254 之间。退出状态 255 由 PHP 保留，不会被使用。状态 0 用于成功地终止程序。</p>
</blockquote>
<h3 id="mb-substr-函数用于获取一部分字符串"><a href="#mb-substr-函数用于获取一部分字符串" class="headerlink" title="mb_substr()函数用于获取一部分字符串"></a>mb_substr()函数用于获取一部分字符串</h3><blockquote>
<p>语法：</p>
<p><strong>mb_substr ( string【要提取的字符串】 , int【开始位置】 , int <code>$length</code> = NULL , string <code>$encoding</code> =【字符串编码】)</strong> </p>
<p><strong>结果为string</strong></p>
<p><strong>$length表示读取的字符串个数，省略或传入NULL则提取到尾部</strong></p>
<p><strong>不就是mysql的substr()语句</strong></p>
</blockquote>
<h3 id="mb-strpos-函数用于查找字符串在另一个字符串中首次出现的位置"><a href="#mb-strpos-函数用于查找字符串在另一个字符串中首次出现的位置" class="headerlink" title="mb_strpos()函数用于查找字符串在另一个字符串中首次出现的位置"></a>mb_strpos()函数用于查找字符串在另一个字符串中首次出现的位置</h3><blockquote>
<p>语法：</p>
<p><strong>mb_strpos ( string (要检查的字符串), string （要查找的字符串） , int <code>$offset</code> = 0 , string <code>$encoding</code> = 【字符串编码 )</strong> </p>
<p><strong>$offset搜索位置的偏移。如果没有提供该参数，将会使用 0。负数的 offset 会从字符串尾部开始统计。</strong></p>
<p><strong>结果为int</strong></p>
</blockquote>
<h3 id="header-函数向客户端发送原始的-HTTP-报头。"><a href="#header-函数向客户端发送原始的-HTTP-报头。" class="headerlink" title="header()函数向客户端发送原始的 HTTP 报头。"></a>header()函数向客户端发送原始的 HTTP 报头。</h3><blockquote>
<p>语法：header(string,replace,http_response_code)</p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">string</td>
<td align="left">必需。规定要发送的报头字符串。</td>
</tr>
<tr>
<td align="left">replace</td>
<td align="left">可选。指示该报头是否替换之前的报头，或添加第二个报头。默认是 true（替换）。false（允许相同类型的多个报头）。</td>
</tr>
<tr>
<td align="left">http_response_code</td>
<td align="left">可选。把 HTTP 响应代码强制为指定的值。（PHP 4 以及更高版本可用）</td>
</tr>
</tbody></table>
<ul>
<li><p>实现页面跳转</p>
<blockquote>
<p><strong>header(Location: url);</strong> location 译为：位置</p>
</blockquote>
</li>
</ul>
</blockquote>
<h3 id="get-class-函数返回对象的类名"><a href="#get-class-函数返回对象的类名" class="headerlink" title="get_class()函数返回对象的类名"></a>get_class()函数返回对象的类名</h3><blockquote>
<p>语法：get_class ( object <code>$object</code> = <strong><code>null</code></strong> ) : string</p>
<p>返回对象实例 <code>object</code> 所属类的名字。</p>
</blockquote>
<h3 id="strpos-函数查找字符串在另一字符串中最后一次出现的位置"><a href="#strpos-函数查找字符串在另一字符串中最后一次出现的位置" class="headerlink" title="strpos()函数查找字符串在另一字符串中最后一次出现的位置"></a>strpos()函数查找字符串在另一字符串中最后一次出现的位置</h3><blockquote>
<p>strpos()函数对大小写敏感</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">strrpos(<span class="keyword">string</span>,find,start)</span><br><span class="line"> <span class="comment">//string：要搜索的字符串</span></span><br><span class="line"> <span class="comment">//find:要查找的字符串</span></span><br><span class="line"> <span class="comment">//start:可选，从何处搜索</span></span><br></pre></td></tr></table></figure>

<p><strong>返回字符串在另一字符串中最后一次出现的位置，如果没有找到字符串则返回 FALSE。</strong></p>
</blockquote>
<h3 id="require-与require-once-amp-amp-include-与include-once-包含文件"><a href="#require-与require-once-amp-amp-include-与include-once-包含文件" class="headerlink" title="require()与require_once()&amp;&amp;include() 与include_once()包含文件"></a>require()与require_once()&amp;&amp;include() 与include_once()包含文件</h3><blockquote>
<p><strong>三者都是包含文件</strong></p>
<p><strong>include()【包含】 读入指定文件并执行其中的程序</strong></p>
<p><strong>require()【请求】会将目标文件的内容读入，并且把自己本身代换成这些读入的内容；</strong></p>
<p><strong>include_once() 【包含一次】 和 include 语句类似，唯一区别是如果该文件中已经被包含过，则不会再次包含。如同此语句名字暗示的那样，只会包含一次；</strong></p>
<p><strong>require()【请求一次】 和 require 语句完全相同，唯一区别是 PHP 会检查该文件是否已经被包含过，如果是则不会再次包含</strong></p>
</blockquote>
<h4 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h4><blockquote>
<p>require() 语句的性能与 include() 相类似，都是包括并运行指定文件。不同之处在于：对 include() 语句来说，在执行文件时每次都要进行读取和评估；而对于 require() 来说，文件只处理一次（实际上，文件内容替换 require() 语句）。</p>
<p><strong>简单来说，include包含文件时的运行步骤是先运行被包含的文件，然后将结果带入自身代码中执行</strong></p>
<p><strong>require不同，reauire是先把被包含文件的整个代码放入自身文件，再运行自身放入代码后的文件</strong></p>
<p><strong>就是先执行和先包含的关系</strong></p>
<p>这就意味着如果可能执行多次的代码，则使用 require() 效率比较高。另外一方面，如果每次执行代码时是读取不同的文件，或者有通过一组文件迭代的循环，就使用 include() 语句。</p>
</blockquote>
<h3 id="time-函数返回当前时间戳，并格式化为日期："><a href="#time-函数返回当前时间戳，并格式化为日期：" class="headerlink" title="time()函数返回当前时间戳，并格式化为日期："></a>time()函数返回当前时间戳，并格式化为日期：</h3><blockquote>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$t</span>=time();</span><br><span class="line"><span class="keyword">echo</span>(<span class="variable">$t</span> . <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"><span class="keyword">echo</span>(date(<span class="string">&quot;Y-m-d&quot;</span>,<span class="variable">$t</span>));</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"><span class="comment">//1621153043</span></span><br><span class="line"><span class="comment">//2021-05-16</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="魔术函数"><a href="#魔术函数" class="headerlink" title="魔术函数"></a>魔术函数</h2><h3 id="sleep-函数"><a href="#sleep-函数" class="headerlink" title="__sleep()函数"></a>__sleep()函数</h3><blockquote>
<p>sleep 英译：睡觉<br>执行serialize()时，先会调用这个函数<br>如果存在，则该方法会优先被调用，然后才执行序列化操作。<br>相当于一个过滤器<br>必须定义返回值</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt;<span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">&gt;</span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="variable">$sex</span>;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="variable">$name</span>;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="variable">$age</span>;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$name</span>=<span class="string">&quot;&quot;</span>,  <span class="variable">$age</span>=<span class="number">25</span>, <span class="variable">$sex</span>=<span class="string">&#x27;男&#x27;</span></span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">$this</span>-&gt;name = <span class="variable">$name</span>;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">$this</span>-&gt;age  = <span class="variable">$age</span>;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">$this</span>-&gt;sex  = <span class="variable">$sex</span>;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span> array</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__sleep</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">echo</span> <span class="string">&quot;当在类外部使用serialize()时会调用这里的__sleep()方法</span></span><br><span class="line"><span class="string">&gt;&quot;</span>;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">$this</span>-&gt;name = base64_encode(<span class="keyword">$this</span>-&gt;name);</span><br><span class="line"></span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">array</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;age&#x27;</span>); <span class="comment">// 这里必须返回一个数值，里边的元素表示返回的属性名称</span></span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line">&gt;<span class="variable">$person</span> = <span class="keyword">new</span> Person(<span class="string">&#x27;小明&#x27;</span>); <span class="comment">// 初始赋值</span></span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">echo</span> serialize(<span class="variable">$person</span>);</span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">echo</span> <span class="string">&#x27;</span></span><br><span class="line"><span class="string">&gt;&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>返回name和age，过滤了sex<br>返回结果：<br>当在类外部使用serialize()时会调用这里的__sleep()方法<br>O:6:”Person”:2:{s:4:”name”;s:8:”5bCP5piO”;s:3:”age”;i:25;}</p>
</blockquote>
<h3 id="construct-函数"><a href="#construct-函数" class="headerlink" title="__construct()函数"></a>__construct()函数</h3><blockquote>
<p>construct 译为：建造，构造、</p>
<p>当类实例化一个对象时，constaruct函数将自动调用</p>
<p>语法：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">a</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$name</span>,<span class="variable">$sex</span>,<span class="variable">$age</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;shu();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">shu</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;name=<span class="string">&#x27;Atmujie&#x27;</span>;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;sex=<span class="string">&quot;男&quot;</span>;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;age=<span class="string">&quot;19&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$new</span> = <span class="keyword">new</span> a;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>jiang</p>
</blockquote>
<h3 id="wakeup-函数"><a href="#wakeup-函数" class="headerlink" title="__wakeup()函数"></a>__wakeup()函数</h3><blockquote>
<p>英译：醒醒<br>wakeup函数与sleep函数相对<br>如何有unserialize()函数进行反序列化，则先执行这个函数</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt;<span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">&gt;</span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="variable">$sex</span>;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="variable">$name</span>;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="variable">$age</span>;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$name</span>=<span class="string">&quot;&quot;</span>,  <span class="variable">$age</span>=<span class="number">25</span>, <span class="variable">$sex</span>=<span class="string">&#x27;男&#x27;</span></span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">$this</span>-&gt;name = <span class="variable">$name</span>;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">$this</span>-&gt;age  = <span class="variable">$age</span>;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">$this</span>-&gt;sex  = <span class="variable">$sex</span>;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span> array</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__sleep</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">echo</span> <span class="string">&quot;当在类外部使用serialize()时会调用这里的__sleep()方法</span></span><br><span class="line"><span class="string">&gt;&quot;</span>;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">$this</span>-&gt;name = base64_encode(<span class="keyword">$this</span>-&gt;name);</span><br><span class="line"></span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">array</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;age&#x27;</span>); <span class="comment">// 这里必须返回一个数值，里边的元素表示返回的属性名称</span></span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    * __wakeup</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__wakeup</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">echo</span> <span class="string">&quot;当在类外部使用unserialize()时会调用这里的__wakeup()方法</span></span><br><span class="line"><span class="string">&gt;&quot;</span>;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">$this</span>-&gt;name = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">$this</span>-&gt;sex = <span class="string">&#x27;男&#x27;</span>;</span><br><span class="line"></span><br><span class="line">       <span class="comment">// 这里不需要返回数组</span></span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line">&gt;<span class="variable">$person</span> = <span class="keyword">new</span> Person(<span class="string">&#x27;小明&#x27;</span>); <span class="comment">// 初始赋值</span></span><br><span class="line"></span><br><span class="line">&gt;var_dump(serialize(<span class="variable">$person</span>));</span><br><span class="line"></span><br><span class="line">&gt;var_dump(unserialize(serialize(<span class="variable">$person</span>)));</span><br></pre></td></tr></table></figure>

<p>wakeup重新定义了name的值，无需返回</p>
<p>运行结果：</p>
<p>当在类外部使用serialize()时会调用这里的__sleep()方法</p>
<p>string(58) “O:6:”Person”:2:{s:4:”name”;s:8:”5bCP5piO”;s:3:”age”;i:25;}” 当在类外部使用serialize()时会调用这里的__sleep()方法</p>
<p>当在类外部使用unserialize()时会调用这里的__wakeup()方法</p>
<p>object(Person)#2 (3) { [“sex”]=&gt; string(3) “男” [“name”]=&gt; int(2) [“age”]=&gt; int(25) }</p>
</blockquote>
<h3 id="invoke-函数"><a href="#invoke-函数" class="headerlink" title="__invoke()函数"></a>__invoke()函数</h3><blockquote>
<p>当尝试以调用函数的方式调用一个对象时，__invoke() 方法会被自动调用。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$sex</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$name</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$age</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$name</span>=<span class="string">&quot;&quot;</span>,  <span class="variable">$age</span>=<span class="number">25</span>, <span class="variable">$sex</span>=<span class="string">&#x27;男&#x27;</span></span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">$this</span>-&gt;name = <span class="variable">$name</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">$this</span>-&gt;age  = <span class="variable">$age</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">$this</span>-&gt;sex  = <span class="variable">$sex</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__invoke</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;这可是一个对象哦&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$person</span> = <span class="keyword">new</span> Person(<span class="string">&#x27;小明&#x27;</span>); <span class="comment">// 初始赋值</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$person</span>();<span class="comment">//类不是函数，不能以这种方式输出，应使用 echo $person;</span></span><br><span class="line"><span class="comment">//结果：这可是一个对象哦</span></span><br><span class="line"><span class="comment">//如果没有__invoke(),仍当方法使用，就会报错</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="toString-函数"><a href="#toString-函数" class="headerlink" title="__toString()函数"></a>__toString()函数</h3><blockquote>
<p>可以用来返回表示对象的字符串信息，一旦定义，打印命令将调用它并打印出返回的字符串。</p>
<p>__toString() 方法用于一个类被当成字符串时应怎样回应。例如 <code>echo $obj;</code> 应该显示些什么。</p>
<p>当类被当作字符串执行时使用</p>
</blockquote>
<h3 id="get-函数"><a href="#get-函数" class="headerlink" title="__get()函数"></a>__get()函数</h3><blockquote>
<p>在 php 面向对象编程中，类的成员属性被设定为 private 后，如果我们试图在外面调用它则会出现“不能访问某个私有属性”的错误。那么为了解决这个问题，我们可以使用魔术方法 __get()。</p>
<p>在程序运行过程中，通过它可以在对象的外部获取私有成员属性的值。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$name</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$age</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$name</span>=<span class="string">&quot;&quot;</span>, <span class="variable">$age</span>=<span class="number">1</span></span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">$this</span>-&gt;name = <span class="variable">$name</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">$this</span>-&gt;age = <span class="variable">$age</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">     * 在类中添加__get()方法，在直接获取属性值时自动调用一次，以属性名作为参数传入并处理</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> $propertyName</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> int</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__get</span>(<span class="params"><span class="variable">$propertyName</span></span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    </span>&#123;  </span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$propertyName</span> == <span class="string">&quot;age&quot;</span>) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">$this</span>-&gt;age &gt; <span class="number">30</span>) &#123;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;age - <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;<span class="variable">$propertyName</span>;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;<span class="variable">$propertyName</span>;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$Person</span> = <span class="keyword">new</span> Person(<span class="string">&quot;小明&quot;</span>, <span class="number">60</span>);   <span class="comment">// 通过Person类实例化的对象，并通过构造方法为属性赋初值</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;姓名：&quot;</span> . <span class="variable">$Person</span>-&gt;name . <span class="string">&quot;&lt;br/&gt;&quot;</span>;   <span class="comment">// 直接访问私有属性name，自动调用了__get()方法可以间接获取</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;年龄：&quot;</span> . <span class="variable">$Person</span>-&gt;age . <span class="string">&quot;&lt;br/&gt;&quot;</span>;    <span class="comment">// 自动调用了__get()方法，根据对象本身的情况会返回不同的</span></span><br><span class="line"><span class="comment">//姓名：小明</span></span><br><span class="line"><span class="comment">//年龄：50</span></span><br></pre></td></tr></table></figure>


</blockquote>
<h2 id="魔术常量"><a href="#魔术常量" class="headerlink" title="魔术常量"></a>魔术常量</h2><h3 id="FILE常量"><a href="#FILE常量" class="headerlink" title="FILE常量"></a>FILE常量</h3><blockquote>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="keyword">__FILE__</span></span><br></pre></td></tr></table></figure>

<p>//返回当前文件的绝对路径<br>结果如：D:\www\1.php  </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;dirname(<span class="keyword">__FILE__</span>)</span><br></pre></td></tr></table></figure>

<p>//返回当前文件的上一级目录<br>结果如：D:\www<br>返回更上级可写为：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;dirname(dirname(<span class="keyword">__FILE__</span>)) </span><br></pre></td></tr></table></figure>

</blockquote>
<h2 id="暂无分类"><a href="#暂无分类" class="headerlink" title="暂无分类"></a>暂无分类</h2><h3 id="files"><a href="#files" class="headerlink" title="$_files"></a>$_files</h3><blockquote>
<p><strong>$_FILES 是一个预定义的数组，用来获取通过 POST 方法上传文件的相关信息</strong></p>
<p>如果为单个文件上传，那么 $_FILES 为二维数组；如果为多个文件上传，那么 $_FILES 为三维数组。</p>
</blockquote>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    [userfile] =&gt; <span class="keyword">Array</span></span><br><span class="line">    (</span><br><span class="line">        [name] =&gt; Screen Shot <span class="number">2016</span>-<span class="number">05</span>-<span class="number">12</span> at <span class="number">18.13</span>.<span class="number">24</span>.png</span><br><span class="line">        [type] =&gt; image/png</span><br><span class="line">        [tmp_name] =&gt; /<span class="keyword">private</span>/<span class="keyword">var</span>/tmp/phplVHp3W</span><br><span class="line">        [<span class="built_in">error</span>] =&gt; <span class="number">0</span></span><br><span class="line">        [size] =&gt; <span class="number">344925</span></span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line">    <span class="comment">//单个文件</span></span><br></pre></td></tr></table></figure>






            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Atmujie</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://mujie00.github.io/2020/11/28/php%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">http://mujie00.github.io/2020/11/28/php%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">Atmujie</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/%E8%AF%AD%E8%A8%80/">
                                    <span class="chip bg-color">语言</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2020/12/08/mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/2.jpg" class="responsive-img" alt="mysql数据库与sql注入学习笔记">
                        
                        <span class="card-title">mysql数据库与sql注入学习笔记</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2020-12-08
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            Atmujie
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">
                        <span class="chip bg-color">数据库</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/11/06/Thinkphp5.1%E6%A1%86%E6%9E%B6/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/4.jpg" class="responsive-img" alt="thinkphp5.1框架学习笔记心得">
                        
                        <span class="card-title">thinkphp5.1框架学习笔记心得</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-11-06
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            Atmujie
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E6%A1%86%E6%9E%B6/">
                        <span class="chip bg-color">框架</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2019</span>
            <a href="/about" target="_blank">Atmujie</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/mujie00" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:2633298206@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=2633298206" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 2633298206" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
